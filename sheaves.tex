\input{preamble}

% OK, start here.
%
\begin{document}

\title{Sheaves on spaces}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Basic properties of sheaves on topological spaces
will be explained in this document.
A reference is \cite{Godement}.

\medskip\noindent
This will be superceded by the discussion of sheaves
over sites later in the documents. But perhaps it makes 
sense to briefly define some of the notions here.











\section{Basic notions}
\label{section-sheaves-basic}

\noindent
The following notions are considered basic and will not be defined,
and or proved. This does not mean they are all necessarily easy or 
well known.

\begin{enumerate}
\item Nothing sofar.
\end{enumerate}












\section{Presheaves}
\label{section-presheaves}


\begin{definition}
\label{definition-presheaf}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it presheaf $\mathcal{F}$ of sets on $X$} is a rule which
assigns to each open $U \subset X$ a set $\mathcal{F}(U)$ and
to each inclusion $V \subset U$ a map
$\rho^U_V : \mathcal{F}(U) \to \mathcal{F}(V)$ such that
whenever $W \subset V \subset U$ we have 
$\rho^U_W = \rho^V_W \circ \rho ^U_V$.
\item A morphism $\varphi : \mathcal{F} \to \mathcal{G}$ 
of presheaves of sets on $X$ is a rule which assigns to each
open $U \subset X$ a map of sets $\varphi : \mathcal{F}(U)
\to \mathcal{G}(U)$ compatible with restriction maps,
i.e., whenever $V \subset U \subset X$ are open the
diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]^\varphi \ar[d]^{\rho^U_V} &
\mathcal{G}(U) \ar[d]^{\rho^U_V} \cr
\mathcal{F}(V) \ar[r]^\varphi & \mathcal{G}(V)
}
$$
commutes.
\item The category of presheaves of sets on $X$ will be denoted
$\textit{PSh}(X)$.
\end{enumerate}
\end{definition}

\noindent
The elements of the set $\mathcal{F}(U)$ are called
the {\it sections} of $\mathcal{F}$ over $U$.
For every $V \subset U$ the map
$\rho^U_V : \mathcal{F}(U) \to \mathcal{F}(V)$
is called the {\it restricton map}. We will use the
notation $s|_V := \rho^U_V(s)$ if $s\in \mathcal{F}(U)$.
This notation is consistent with the notion of restriction
of functions from topology because if $W \subset V \subset U$
and $s$ is a section of $\mathcal{F}$ over $U$ then
$s|_W = (s|_V)|_W$ by the property of the restriction maps
expressed in the definition above.

\begin{definition}
\label{definition-constant-presheaf}
Let $X$ be a topological space. Let $A$ be a set.
The {\it constant presheaf with value $A$} is the
presheaf that assigns the set $A$ to every open
$U \subset X$, and such that all restriction mappings
are $\text{id}_A$.
\end{definition}

\section{Abelian presheaves}
\label{section-abelian-presheaves}

\noindent
In this section we briefly point out some features of the
category of presheaves that allow one to define presheaves
of abelian groups.

\begin{example}
\label{example-singleton-presheaf}
Let $X$ be a topological space $X$. Consider a rule $\mathcal{F}$ that
associates to every open subset a singleton set. Since every set
has a unique map into a singleton set, there exist unique restriction
maps $\rho^U_V$. The resulting structure is a presheaf of sets.
It is a final object in the category of presheaves of sets, by the
property of singleton sets mentioned above. Hence it is
also unique up to unique isomorphism. We will sometimes write $*$
for this presheaf.
\end{example}

\begin{lemma}
\label{lemma-product-presheaves}
Let $X$ be a topological space. The category of presheaves of sets
on $X$ has products (see
Categories, Definition \ref{categories-definition-product}).
Moreover, the set of
sections of the product $\mathcal{F} \times \mathcal{G}$
over an open $U$ is the product of the sets of sections of
$\mathcal{F}$ and $\mathcal{G}$ over $U$.
\end{lemma}

\begin{proof}
Namely, suppose $\mathcal{F}$ and $\mathcal{G}$ are
presheaves of sets on the topological space $X$.
Consider the rule $U \mapsto \mathcal{F}(U) \times \mathcal{G}(U)$,
denoted $\mathcal{F}\times \mathcal{G}$. If $V \subset U \subset X$
are open then define the restriction mapping
$$
(\mathcal{F} \times \mathcal{G})(U)
\longrightarrow
(\mathcal{F} \times \mathcal{G})(V)
$$
by mapping $(s, t) \mapsto (s|_V, t|_V)$. Then it is immediately
clear that $\mathcal{F}\times\mathcal{G}$ is a presheaf.
Also, there are projection maps
$p : \mathcal{F}\times\mathcal{G} \to \mathcal{F}$
and 
$q : \mathcal{F}\times\mathcal{G} \to \mathcal{G}$.
We leave it to the reader to show that
for any third presheaf $\mathcal{H}$ we have
$\text{Mor}(\mathcal{H}, \mathcal{F}\times \mathcal{G})
= \text{Mor}(\mathcal{H}, \mathcal{F}) \times
\text{Mor}(\mathcal{H}, \mathcal{G})$.
\end{proof}

\noindent
Recall that if $(A, + : A\times A \to A, - : A \to A, 0\in A)$
is an abelian group, then the zero and the negation maps are
uniquely determined by the addition law. In other words, it
makes sense to say ``let $(A, +)$ be an abelian group''.

\begin{lemma}
\label{lemma-abelian-presheaves}
Let $X$ be a topological space.
Let $\mathcal{F}$ be a presheaf of sets.
Consider the following types of structure on $\mathcal{F}$:
\begin{enumerate}
\item For every open $U$ the structure of an abelian group
on $\mathcal{F}(U)$ such that all restriction maps are
abelian group homomorphisms.
\item A map of presheaves
$+ : \mathcal{F} \times \mathcal{F} \to \mathcal{F}$,
a map of presheaves $- : \mathcal{F} \to \mathcal{F}$
and a map $0 : * \to \mathcal{F}$
(see Example \ref{example-singleton-presheaf})
satisfying all the axioms of $+, -, 0$ in a usual
abelian group.
\item A map of presheaves
$+ : \mathcal{F} \times \mathcal{F} \to \mathcal{F}$,
a map of presheaves $- : \mathcal{F} \to \mathcal{F}$
and a map $0 : * \to \mathcal{F}$
such that for each open $U \subset X$ the quadruple
$(\mathcal{F}(U), +, -, 0)$ is an abelian group,
\item A map of presheaves $+ : \mathcal{F} \times \mathcal{F}
\to \mathcal{F}$ such that for every open $U \subset X$
the map $+ : \mathcal{F}(U) \times \mathcal{F}(U) \to \mathcal{F}(U)$
defines the structure of an abelian group.
\end{enumerate}
There are natural bijections between the collections of
types of data (1) - (4) above.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
The lemma says that to give an abelian group object $\mathcal{F}$
in the category of presheaves is the same as giving a presheaf of sets
$\mathcal{F}$ such that all the sets $\mathcal{F}(U)$ are endowed
with the structure of an abelian group and such that all the restriction
mappings are group homomorphisms. For most algebra structures
we will take this approach to (pre)sheaves of such objects, i.e.,
we will define a (pre)sheaf of such objects to be a (pre)sheaf
$\mathcal{F}$ of sets all of whose sets of sections $\mathcal{F}(U)$
are endowed with this structure compatibly with the restriction
mappings.

\begin{definition}
\label{definition-abelian-presheaves}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it presheaf of abelian groups on $X$} or an
{\it abelian presheaf over $X$}
is a presheaf of sets $\mathcal{F}$ such that for each open
$U \subset X$ the set $\mathcal{F}(U)$ is endowed with
the structure of an abelian group, and such that all restriction
maps $\rho^U_V$ are homomorphisms of abelian groups, see
Lemma \ref{lemma-abelian-presheaves} above.
\item A {\it morphism of abelian presheaves over $X$}
$\varphi : \mathcal{F} \to \mathcal{G}$ is a morphism of presheaves
of sets which induces
a homomorphism of abelian groups $\mathcal{F}(U) \to \mathcal{G}(U)$
for every open $U \subset X$.
\item The category of presheaves of abelian groups on $X$ is denoted
$\textit{PAb}(X)$.
\end{enumerate}
\end{definition}

\begin{example}
\label{example-direct-sum-points}
Let $X$ be a topological space. For each $x \in X$ suppose
given an abelian group $M_x$. For $U \subset X$ open
we set
$$
\mathcal{F}(U) = \bigoplus\nolimits_{x \in U} M_x.
$$
We denote a typical element in this abelian group by
$\sum_{i=1}^n m_{x_i}$, where $x_i \in U$ and $m_{x_i} \in M_{x_i}$.
(Of course we may always choose our representation such that
$x_1,\ldots,x_n$ are pairwise distinct.)
We define for $V \subset U \subset X$ open a restriction
mapping $\mathcal{F}(U) \to \mathcal{F}(V)$ by
mapping an element $s = \sum_{i=1}^n m_{x_i}$ 
to the element $s|_V = \sum_{x_i \in V} m_{x_i}$.
We leave it to the reader to verify that this is a 
presheaf of abelian groups.
\end{example}



\section{Presheaves of algebraic structures}
\label{section-presheaves-structures}

\noindent
Let us clarify the definition
of presheaves of algebraic structures.
Suppose that $\mathcal{C}$ is a category and
that $F : \mathcal{C} \to \textit{Sets}$ is
a faithful functor. Typically $F$ is a ``forgetful''
functor. For an object $M \in \text{Ob}(\mathcal{C})$
we often call $F(M)$ the {\it underlying set} of the
object $M$. If $M \to M'$ is a morphism in $\mathcal{C}$
we call $F(M) \to F(M')$ the {\it underlying map of sets}.
In fact, we will often not distinghuish between an object
and its underlying set, and similarly for morphisms.
So we will say a map of sets $F(M) \to F(M')$
is a {\it morphism of algebraic structures}, if it is
equal to $F(f)$ for some morphism $f : M \to M'$
in $\mathcal{C}$.

\medskip\noindent
In analogy with Definition \ref{definition-abelian-presheaves}
above a ``presheaf of objects of $\mathcal{C}$'' could be
defined by the following data:
\begin{enumerate}
\item a presheaf of sets $\mathcal{F}$, and
\item for every open $U \subset X$ a choice
of an object $A(U) \in \text{Ob}(\mathcal{C})$
\end{enumerate}
subject to the following conditions
\begin{enumerate}
\item for every open $U \subset X$ the set $\mathcal{F}(U)$
is the underlying set of $A(U)$, and
\item for every $V \subset U \subset X$ open
there exists a morphism $A(U) \to A(V)$ in $\mathcal{C}$
whose underlying map of sets is $\rho_V^U: \mathcal{F}(U) \to \mathcal{F}(V)$.
\end{enumerate}
In other words, for every $V \subset U$ open in $X$ 
the restriction mappings $\rho^U_V$ is the image
$F(\alpha^U_V)$ for some unique morphism
$\alpha^U_V : A(U) \to A(V)$ in the category $\mathcal{C}$.
The uniqueness is forced by the condition that $F$ is
faithful; it also implies that
$\alpha^U_W = \alpha^V_W \circ \alpha^U_V$
whenever $W \subset V \subset U$ are open in $X$.
The system $(A(-), \alpha^U_V)$ is what we will define as a
presheaf with values in $\mathcal{C}$ on $X$, compare
Sites, Definition \ref{sites-definition-presheaf}.
We recover our presheaf of sets $(\mathcal{F}, \rho_V^U)$
via the rules $\mathcal{F}(U) = F(A(U))$ and
$\rho_V^U = F(\alpha_V^U)$.

\begin{definition}
\label{definition-prefsheaf-values-in-category}
Let $X$ be a topological space.
Let $\mathcal{C}$ be a category.
\begin{enumerate}
\item A {\it presheaf $\mathcal{F}$ on $X$ with values in $\mathcal{C}$}
is given by a rule which assigns to every open $U \subset X$
an object $\mathcal{F}(U)$ of $\mathcal{C}$
and to each inclusion $V \subset U$
a morphism $\rho_V^U : \mathcal{F}(U) \to \mathcal{F}(V)$
in $\mathcal{C}$ such that whenever $W \subset V \subset U$
we have $\rho_W^U = \rho_W^V \circ \rho_V^U$.
\item A {\it morphism $\varphi : \mathcal{F} \to \mathcal{G}$
of presheaves with value in $\mathcal{C}$} is given by a
morphism $\varphi : \mathcal{F}(U) \to \mathcal{G}(U)$
in $\mathcal{C}$ compatible with restriction morphisms.
\end{enumerate}
\end{definition}

\begin{definition}
\label{definition-underlying-presheaf-sets}
Let $X$ be a topological space. Let $\mathcal{C}$ be a category.
Let $F : \mathcal{C} \to \textit{Sets}$ be a faithful functor.
Let $\mathcal{F}$ be a presheaf on $X$ with values in $\mathcal{C}$.
The presheaf of sets $U \mapsto F(\mathcal{F}(U))$
is called the {\it underlying presheaf of sets of $\mathcal{F}$}.
\end{definition}

\noindent
It is customary to use the same letter $\mathcal{F}$ to denote
the underlying presheaf of sets, and this makes
sense according to our discussion preceding
Definition \ref{definition-prefsheaf-values-in-category}.
In particular, the phrasology ``let $s \in \mathcal{F}(U)$''
or ``let $s$ be a section of $\mathcal{F}$ over $U$'' signifies
that $s \in F(\mathcal{F}(U))$.

\medskip\noindent
This notation and these definitions apply inparticular to:
{\it Presheaves of (not necessarily abelian) groups, rings, modules
over a fixed ring, vector spaces over a fixed field,} etc and
{\it morphisms between these}.

\section{Presheaves of $\mathcal{O}$-modules}
\label{section-presheaves-modules}

\noindent
Suppose that $\mathcal{O}$ is a presheaf of rings on $X$.
We would like to define the notion of a presheaf of
$\mathcal{O}$-modules over $X$. In analogy with Definition
\ref{definition-abelian-presheaves} we are tempted to define 
this as a sheaf of sets $\mathcal{F}$ such that for every open
$U \subset X$ the set $\mathcal{F}(U)$ is endowed with the structure
of an $\mathcal{O}(U)$-module compatible with restriction mappings
(of $\mathcal{F}$ and $\mathcal{O}$). However, it is customary
(and equivalent) to define it as in the following definition.

\begin{definition}
\label{definition-presheaf-modules}
Let $X$ be a topological space, and let $\mathcal{O}$ be
a presheaf of rings on $X$. A {\it presheaf of $\mathcal{O}$-modules}
is given by an abelian presheaf $\mathcal{F}$ together with a
map of presheaves of sets
$$
\mathcal{O} \times \mathcal{F} \longrightarrow \mathcal{F}
$$
such that for every open $U \subset X$ the map
$\mathcal{O}(U) \times \mathcal{F}(U) \to \mathcal{F}(U)$ 
defines the structure of an $\mathcal{O}(U)$-module
structure on the abelian group $\mathcal{F}(U)$.
\end{definition}

\section{Sheaves}
\label{section-sheaves}

\noindent
In this section we explain the sheaf condition.

\begin{definition}
\label{definition-sheaf}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it sheaf $\mathcal{F}$ of sets on $X$} is a presheaf
of sets which satsifies the following additional property: Given
any open covering $U = \bigcup_{i \in I} U_i$ and any collection
of sections $s_i \in \mathcal{F}(U_i)$, $i \in I$ such that
$\forall i,j\in I$
$$
s_i|_{U_i \cap U_j} = s_j|_{U_i \cap U_j}
$$
there exists a unique section $s \in \mathcal{F}(U)$ such that
$s_i = s|_U$ for all $i \in I$.
\item A {\it morphism of sheaves of sets} is simply a
morphism of presheaves of sets.
\item The category of sheaves of sets on $X$ is denoted
$\textit{Sh}(X)$.
\end{enumerate}
\end{definition}

\begin{remark}
There is always a bit of confusion as to whether it is
necessary to say something about the set of sections of
a sheaf over the empty set $\emptyset \subset X$.
Note that the empty set is
covered by the empty open covering, and hence the ``collection
of section $s_i$'' from the definition above actually form
an element of the empty product which is the final object
of the category the sheaf has values in. In other words,
if you read the definition right you automatically deduce
that $\mathcal{F}(\emptyset) = \textit{a final object}$,
which in the case of a sheaf of sets is a singleton.
If you do not like this argument, then you can just require
that $\mathcal{F}(\emptyset) = \{*\}$.
\end{remark}

\begin{example}
\label{example-basic-continuous-maps}
Let $X$, $Y$ be topological spaces.
Consider the rule $\mathcal{F}$ wich associates to
the open $U \subset X$ the set
$$
\mathcal{F}(U) = \{ f : U \to Y \mid f \text{ is continuous}\}
$$
with the obvious restriction mappings. We claim that
$\mathcal{F}$ is a sheaf. To see this suppose that
$U = \bigcup_{i\in I} U_i$ is an open covering, and
$f_i \in \mathcal{F}(U_i)$, $i\in I$ with
$f_i |_{U_i \cap U_j} = f_j|_{U_i \cap U_j}$ for all $i,j \in I$.
In this case define $f : U \to Y$ by setting $f(u)$
equal to the value of $f_i(u)$ for any $i \in I$ such that
$u \in U_i$. This is well defined by assumption. Moreover,
$f : U \to Y$ is a map such that its restriction to $U_i$
agrees with the continuous map $U_i$. Hence clearly $f$ is
continuous!
\end{example}

\begin{example}
\label{example-sheaf-product-pointwise}
Let $X$ be a topological space. Let $(A_x)_{x \in X}$ be 
a family of sets $A_x$ indexed by points $x \in X$. We are
going to construct a sheaf of sets $\Pi$ from this data.
For $U \subset X$ open set
$$
\Pi(U) = \prod\nolimits_{x \in U} A_x.
$$
For $V \subset U \subset X$ open define
a restriction mapping by the following rule: An element
$s = (a_x)_{x\in U} \in \Pi(U)$ restricts
to $s|_V = (a_x)_{x \in V}$. It is obvious that this
defines a presheaf of sets. We claim this is a sheaf.
Namely, let $U = \bigcup U_i$ be an open covering.
Suppose that $s_i \in \Pi(U_i)$ are
such that $s_i$ and $s_j$ agree over $U_i \cap U_j$. Write
$s_i = (a_{i,x})_{x\in U_i}$. The compatibility condition implies that
$a_{i, x} = a_{j, x}$ in the set $A_x$ whenever $x \in U_i \cap U_j$. 
Hence there exists a unique element $s = (a_x)_{x\in U}$
in $\Pi(U) = \prod_{x\in U} A_x$ with the property that
$a_x = a_{i, x}$ whenever $x \in U_i$ for some $i$. Of course this
element $s$ has the property that $s|_{U_i} = s_i$ for all $i$.
\end{example}

\begin{example}
\label{example-direct-sum-points-not-sheaf}
Let $X$ be a topological space.
Suppose for each $x\in X$ we are given an abelian group $M_x$.
Consider the presheaf $\mathcal{F} : U \mapsto \bigoplus_{x \in U} M_x$
defined in Example \ref{example-direct-sum-points}. This
is not a sheaf in general. For example, if $X$ is an infinite set
with the discrete topology, then the sheaf condition 
would imply that $\mathcal{F}(X) = \prod_{x\in X} \mathcal{F}(\{x\})$
but by definition we have $\mathcal{F}(X)
= \bigoplus_{x \in X} M_x = \bigoplus_{x \in X} \mathcal{F}(\{x\})$.
And an infinite direct sum is in general different from an infinite
direct product.

\medskip\noindent
However, if $X$ is a topological space such that every open
of $X$ is quasi-compact, then $\mathcal{F}$ {\it is} a sheaf.
This is left as an exercise to the reader.
\end{example}



\section{Abelian sheaves}
\label{section-abelian-sheaves}

\begin{definition}
\label{definition-abelian-sheaf}
Let $X$ be a topological space.
\begin{enumerate}
\item An {\it abelian sheaf on $X$} or
{\it sheaf of abelian groups on $X$}
is an abelian presheaf on $X$ such that the underlying presheaf of
sets is a sheaf.
\item The category of sheaves of abelian groups
is denoted $\textit{Ab}(X)$.
\end{enumerate}
\end{definition}


\section{Sheaves of algebraic structures}
\label{section-sheaves-structures}

\noindent
Let us clarify the definition of sheaves of certain types of structures.
First, let us reformulate the sheaf condition. Namely, suppose that
$\mathcal{F}$ is a presheaf of sets on the topological space $X$.
The sheaf condition can be reformulated as follows. Let
$U = \bigcup_{i\in I} U_i$ be an open covering. Consider the
diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0} \cap U_{i_1})
}
$$
Here the left map is defined by the rule
$s \mapsto \prod_{i \in I} s|_{U_i}$. The two maps
on the right are the maps
$$
\prod\nolimits_i s_i
\mapsto
\prod\nolimits_{(i_0, i_1)} s_{i_0}|_{U_{i_0} \cap U_{i_1}}
\text{ resp. }
\prod\nolimits_i s_i
\mapsto
\prod\nolimits_{(i_0, i_1)} s_{i_1}|_{U_{i_0} \cap U_{i_1}}.
$$
The sheaf condition exactly says that the left arrow
is the equalizer of the right two. This generalizes
immediately to the case of presheaves with values in a
category as long as the category has products.

\begin{definition}
\label{definition-sheaf-values-in-category}
Let $X$ be a topological space. Let $\mathcal{C}$ be
a category with products. A presheaf $\mathcal{F}$ with
values in $\mathcal{C}$ on $X$ is a {\it sheaf} 
if for every open covering the diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0} \cap U_{i_1})
}
$$
is an equalizer diagram in the category $\mathcal{C}$.
\end{definition}

\noindent
Suppose that $\mathcal{C}$ is a category and that
$F : \mathcal{C} \to \textit{Sets}$ is a faithful functor.
A good example to keep in mind is the case where $\mathcal{C}$
is the category of abelian groups and $F$ is the forgetful functor.
Consider a presheaf $\mathcal{F}$ with values in $\mathcal{C}$ on $X$.
We would like to reformulate the condition above in terms
of the underlying presheaf of sets
(Definition \ref{definition-underlying-presheaf-sets}).
Note that the underlying
presheaf of sets is a sheaf of sets if and only if all the
diagrams
$$
\xymatrix{
F(\mathcal{F}(U)) \ar[r]
&
\prod\nolimits_{i\in I}
F(\mathcal{F}(U_i))
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
F(\mathcal{F}(U_{i_0} \cap U_{i_1}))
}
$$
of sets -- after applying the forgetful functor $F$ -- are
equalizer diagrams! Thus we would like $\mathcal{C}$ to have
products and equalizers and we would like $F$ to commute with
them. This is equivalent to the condition that $\mathcal{C}$
has limits and that $F$ commutes with them, see 
Categories, Lemma \ref{categories-lemma-limits-products-equalizers}.
But this is not yet good enough
(see Example \ref{example-sheaves-topological-spaces});
we also need $F$ to {\it reflect isomorphisms}.
This property means that given a morphism
$f : A \to A'$ in $\mathcal{C}$, then $f$ is
an isomorphism if (and only if) $F(f)$ is a bijection.

\begin{lemma}
\label{lemma-sheaves-structure}
Suppose the category $\mathcal{C}$ and
the functor $F : \mathcal{C} \to \textit{Sets}$
have the following properties:
\begin{enumerate}
\item $F$ is faithful,
\item $\mathcal{C}$ has limits and $F$ commutes with them, and
\item the functor $F$ reflects isomorphisms.
\end{enumerate}
Let $X$ be a topological space. Let $\mathcal{F}$
be a presheaf with values in $\mathcal{C}$.
Then $\mathcal{F}$ is a sheaf if and only if the
underlying presheaf of sets is a sheaf.
\end{lemma}

\begin{proof}
See discussion above the lemma.
\end{proof}

\noindent
The lemma in particular applies to
{\it sheaves of groups, rings, modules
over a fixed ring, vector spaces over a fixed field,} etc.
In other words, these are presheaves of groups, rings,
modules over a fixed ring, vector spaces over a fixed field, etc
such that the underlying presheaf of sets is a sheaf.

\begin{example}
\label{example-sheaves-topological-spaces}
Consider the category of topological spaces $\textit{Top}$.
There is a natural faithful functor $\textit{Top} \to \textit{Sets}$
which commutes with products and equalizers. But it does
not reflect isomorphisms. And, in fact it turns out that
the analogue of Lemma \ref{lemma-sheaves-structure} is wrong.
Namely, suppose $X = \mathbf{N}$ with the discrete
topology. Let $A_i$, for $i \in \mathbf{N}$ be a discrete
topological space. For any subset $U \subset \mathbf{N}$
define $\mathcal{F}(U) = \prod_{i\in U} A_i$ with the
discrete topology. Then this is a presheaf of topological
spaces whose underlying presheaf of sets is a sheaf, see
Example \ref{example-sheaf-product-pointwise}.
However, if each $A_i$ has at least two elements, then
this is not a sheaf of topological spaces
according to Definition \ref{definition-sheaf-values-in-category}.
The reader may check that putting the {\it product topology} on
each $\mathcal{F}(U) = \prod_{i\in U} A_i$ does lead to a sheaf
of topological spaces over $X$.
\end{example}


\section{Sheaves of $\mathcal{O}$-modules}
\label{section-sheaves-modules}

\begin{definition}
\label{definition-sheaf-modules}
Given a sheaf of rings $\mathcal{O}$ over $X$
a {\it sheaf of $\mathcal{O}$-modules} is a presheaf
of $\mathcal{O}$-modules $\mathcal{F}$,
see Definition \ref{definition-presheaf-modules},
such that the underlying presheaf of abelian groups $\mathcal{F}$
is a sheaf.
\end{definition}

\noindent
This definition makes sense even if $\mathcal{O}$ is just a
presheaf of rings, allthough we do not know any examples where
this is useful.







\section{Stalks}
\label{section-stalks}

\noindent
Let $X$ be a topological space. Let $x \in X$ be a point.
Let $\mathcal{F}$ be a presheaf of sets on $X$.
The {\it stalk of $\mathcal{F}$ at $x$} is the set
$$
\mathcal{F}_x
=
\text{colim}_{x\in U} \mathcal{F}(U)
$$
where the colimit is over the set of open neighbourhoods
$U$ of $x$ in $X$. The set of open neighbourhoods is (partially)
ordered by (reverse) inclusion:
We say $U \geq U' \Leftrightarrow U \subset U'$.
The transition maps in the system are
given by the restriction maps of $\mathcal{F}$.
See Categories, Section \ref{categories-section-posets-limits}
for notation and terminology regarding (co)limits over systems.
Note that the colimit is a directed colimit.
Thus it is easy to describe $\mathcal{F}_x$. Namely,
$$
\mathcal{F}_x
=
\{
(U,s)
\mid
x\in U, s\in \mathcal{F}(U)
\}/\sim
$$
with equivalence relation given by $(U,s) \sim (U', s')$
if and only if $s|_{U\cap U'} = s'|_{U\cap U'}$. By abuse of
notation we will often denote $(U, s)$
or even $s$ the corresponding element in $\mathcal{F}_x$.
Also we will say $s = s'$ in $\mathcal{F}_x$ for two local sections
of $\mathcal{F}$ defined in a neighbourhod of $x$ to denote that
they have the same image in $\mathcal{F}_x$.

\medskip\noindent
An obvious consequence of this definition is that
for any open $U \subset X$ there is a canonical map
$$
\mathcal{F}(U) 
\longrightarrow
\prod\nolimits_{x \in U} \mathcal{F}_x
$$
defined by $s \mapsto \prod_{x \in U} (U, s)$. Think about it!

\begin{lemma}
\label{lemma-sheaf-subset-stalks}
Let $\mathcal{F}$ be a sheaf of sets on the topological space $X$.
For every open $U \subset X$ the map
$$
\mathcal{F}(U) 
\longrightarrow
\prod\nolimits_{x \in U} \mathcal{F}_x
$$
is injective.
\end{lemma}

\begin{proof}
Suppose that $s, s' \in \mathcal{F}(U)$ map to the same element
in every stalk $\mathcal{F}_x$ for all $x \in U$. This means that
for every $x \in U$, there exists an open $V^x \subset U$,
$x \in V^x$ such that $s|_{V^x} = s'|_{V^x}$. But then
$U = \bigcup_{x \in U} V^x$ is an open covering. Thus by the
uniqueness in the sheaf condition we see that $s = s'$.
\end{proof}

\noindent
Another observation is that the construction of the stalk
$\mathcal{F}_x$ is functorial in the presheaf $\mathcal{F}$.
In other words, it gives a functor
$$
\textit{PSh}(X) \longrightarrow \textit{Sets},
\ \mathcal{F} \longmapsto \mathcal{F}_x.
$$
This functor is called the {\it stalk functor}.
Namely, if $\varphi : \mathcal{F} \to \mathcal{G}$ is 
a morphism of presheaves, then we define
$\varphi_x : \mathcal{F}_x \to \mathcal{G}_x$
by the rule $(U, s) \mapsto (U, \varphi(s))$.
To see that this works we have to check that
if $(U, s) = (U', s')$ in $\mathcal{F}_x$ then also
$(U, \varphi(s)) = (U', \varphi(s'))$ in $\mathcal{G}_x$.
This is clear since $\varphi$ is compatible with the
restriction mappings.

\begin{example}
\label{example-germs-functions}
Suppose $X = \mathbf{R}^n$ with the Euclidean topology.
Consider the presheaf of $\mathcal{C}^\infty$ functions
on $X$, usually denoted $\mathcal{C}^\infty$ as well.
In other words, $\mathcal{C}^\infty(U)$ is the set
of $\mathcal{C}^\infty$-functions $f : U \to \mathbf{R}$.
As in Example \ref{example-basic-continuous-maps}
it is easy to show that this is a sheaf. In fact it
is a sheaf of $\mathbf{R}$-vector spaces.

\medskip\noindent
Next, let $x \in X = \mathbf{R}^n$ be a point. How do
we think of an element in the stalk $\mathcal{C}^\infty_x$?
Such an element is given by a $\mathcal{C}^\infty$-function 
$f$ whose domain contains $x$. And a pair of such
functions $f$, $g$ determine
the same element of the stalk if they agree in a neighbourhood
of $x$. In other words, an element if $\mathcal{C}^\infty_x$
is the same thing as what is sometimes called
a {\it germ of a $\mathcal{C}^\infty$-function at $x$}.
\end{example}

\begin{example}
\label{example-sheaf-product-pointwise-stalk}
Let $X$ be a topological space. Let $A_x$ be a set for each $x \in X$.
Consider the sheaf $\mathcal{F} : U \mapsto \prod_{x\in U} A_x$ of Example
\ref{example-sheaf-product-pointwise}. We would just like to point
out here that the stalk $\mathcal{F}_x$ of $\mathcal{F}$ at $x$
is in general {\it not} equal to the set $A_x$. Of course there is
a map $\mathcal{F}_x \to A_x$, but that is in general the best you
can say. For example, if each neighbourhood of $x$
has infinitely many points, and each $A_{x'}$ has exactly two elements,
then $\mathcal{F}_x$ has infinitely many elements. (Left to the
reader.) On the other hand, if every neighbourhood of $x$ contains
a point $y$ such that $A_y = \emptyset$, then $\mathcal{F}_x = \emptyset$.
\end{example}



\section{Stalks of abelian presheaves}
\label{section-stalks-abelian-presheaves}

\noindent
We first deal with the case of abelian groups as
a model for the general case.

\begin{lemma}
\label{lemma-stalk-abelian-presheaf}
Let $X$ be a topological space. Let $\mathcal{F}$ be a presheaf
of abelian groups on $X$. There exists a unique structure of an
abelian group on $\mathcal{F}_x$ such that for every
$U \subset X$ open, $x\in U$ the map $\mathcal{F}(U) \to \mathcal{F}_x$
is a group homomorphism. Moreover, 
$$
\mathcal{F}_x
=
\text{colim}_{x\in U} \mathcal{F}(U)
$$
holds in the category of abelian groups.
\end{lemma}

\begin{proof}
We define addition of a pair of elements
$(U, s)$ and $(V, t)$ as the pair $(U \cap V, s|_{U\cap V} +
t|_{U \cap V})$. The rest is easy to check.
\end{proof}

\noindent
What is crucial in the proof above is that the system of
neighbourhoods is directed (compare Categories, Definition
\ref{categories-definition-directed}). Namely, the coproduct
of two abelian groups $A, B$ is the direct sum $A \oplus B$, whereas
the coproduct in the category of sets is the disjoint
union $A \coprod B$, showing that colimits in the category
of abelian groups do not agree with colimits in the
category of sets in general.


\section{Stalks of presheaves of algebraic structures}
\label{stalks-presheaves-structures}

\noindent
The proof of Lemma \ref{lemma-stalk-abelian-presheaf} will work
for any type of algebraic structure such that directed
colimits commute with the forgetful functor.

\begin{lemma}
\label{lemma-stalk-presheaf-values-in-category}
Let $\mathcal{C}$ be a category. Let $F : \mathcal{C} \to \textit{Sets}$
be a functor. Assume that
\begin{enumerate}
\item $F$ is faithful, and
\item directed colimits exist in $\mathcal{C}$ and $F$ commutes with
them.
\end{enumerate}
Let $X$ be a topological space. Let $x \in X$. Let $\mathcal{F}$
be a presheaf with values in $\mathcal{C}$.
Then
$$
\mathcal{F}_x = \text{colim}_{x\in U} \mathcal{F}(U)
$$
exists in $\mathcal{C}$. Its underlying set is equal to the
stalk of the underlying presheaf of sets of $\mathcal{F}$.
Furthermore, the construction $\mathcal{F} \mapsto \mathcal{F}_x$
is a functor from the catergory of presheaves with values in
$\mathcal{C}$ to $\mathcal{C}$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
By the very definition, all the morphisms $\mathcal{F}(U)
\to \mathcal{F}_x$ are morphisms in the category $\mathcal{C}$
which (after applying the forgetful functor $F$) turn into
the corresponding maps for the underlying sheaf of sets.
As usual we will not distinghuish between the morphism
in $\mathcal{C}$ and the underlying map of sets, which
is permitted since $F$ is faithful.

\medskip\noindent
This lemma applies inparticular to:
{\it Presheaves of (not necessarily abelian) groups, rings, modules
over a fixed ring, vector spaces over a fixed field}.

\section{Stalks of presheaves of $\mathcal{O}$-modules}
\label{section-stalk-presheaves-modules}

\begin{lemma}
\label{lemma-stalk-module}
Let $X$ be a topological space.
Let $\mathcal{O}$ be a presheaf of rings on $X$
Let $\mathcal{F}$ be a presheaf $\mathcal{O}$-modules.
Let $x \in X$.
The canonical map $\mathcal{O}_x \times \mathcal{F}_x
\to \mathcal{F}_x$ coming from the multiplication map
$\mathcal{O}\times\mathcal{F} \to \mathcal{F}$ defines
a $\mathcal{O}_x$-module structure on the abelian group
$\mathcal{F}_x$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}



\section{Algebraic structures}
\label{section-algebraic-structures}

\noindent
In this section we mildly formalize the notions we have
encountered in the sections above.

\begin{definition}
\label{definition-algebraic-structure}
A {\it type of algebraic structure} is given by a category $\mathcal{C}$
and a functor $F : \mathcal{C} \to \textit{Sets}$ with the
following properties
\begin{enumerate}
\item $F$ is faithful,
\item $\mathcal{C}$ has limits and $F$ commutes with limits,
\item $\mathcal{C}$ has directed colimits and $F$ commutes with them, and
\item $F$ reflects isomorphisms.
\end{enumerate}
\end{definition}

\noindent
We make this definition to point out the properties
we will use in a number of arguments below.  But we will
not actually study this notion in any great detail, since we
are prohibited from studying ``big'' categories by convention,
except for those listed in
Categories, Remark \ref{categories-remark-big-categories}.
Among those the following have the required properties.

\begin{lemma}
\label{lemma-list-algebraic-structures}
The following categories, endowed with the obvious forgetful
functor, define types of algebraic structures:
\begin{enumerate}
\item The category of abelian groups.
\item The category of groups.
\item The category of rings.
\item The category of $R$-modules for a fixed ring $R$.
\item The category of vector spaces over a fixed field.
\item The category of monoids.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
From now on we will think of a (pre)sheaf of algebraic structures
and their stalks, in terms of the underlying (pre)sheaf of sets.
This is allowable by Lemmas \ref{lemma-sheaves-structure} and
\ref{lemma-stalk-presheaf-values-in-category}.

\medskip\noindent
In the rest of this section we point out some results
on algebraic structures that will be useful in the future.

\begin{lemma}
\label{lemma-image-contained-in}
Let $(\mathcal{C}, F)$ be a type of algebraic structure.
Suppose that $A, B, C \in \text{Ob}(\mathcal{C})$.
Let $f : A \to B$ and $g : C \to B$ be morphisms of
$\mathcal{C}$. If $F(g)$ is injective, and
$\text{Im}(F(f)) \subset \text{Im}(F(g))$, then 
$f$ factors as $f = g \circ t$ for some morphism
$t : A \to C$.
\end{lemma}

\begin{proof}
Consider $A \times_B C$. The assumptions imply that
$F(A \times_B C) = F(A) \times_{F(B)} F(C) = F(A)$.
Hence $A = A\times_B C$ because $F$ reflects isomorphisms.
The result follows.
\end{proof}

\begin{example}
\label{example-application-lemma-image-contained-in}
The lemma will be applied often to the following situation.
Suppose that we have a diagram
$$
\xymatrix{
A \ar[r] & B \ar[d] \\
C \ar[r] & D 
}
$$
in $\mathcal{C}$. Suppose $C \to D$ is injective on underlying
sets, and suppose that the composition $A \to B \to D$ has
image on underlying sets in the image of $C \to D$. 
Then we get a commutative diagram
$$
\xymatrix{
A \ar[r] \ar[d] & B \ar[d] \\
C \ar[r] & D 
}
$$
in $\mathcal{C}$.
\end{example}

\begin{example}
\label{example-sheaf-product-pointwise-algebraic-structure}
Let $F : \mathcal{C} \to \textit{Sets}$ be a
type of algebraic structures.
Let $X$ be a topological space. Suppose that
for every $x \in X$ we are given an object
$A_x \in \text{ob}(\mathcal{C})$. Consider the presheaf
$\Pi$ with values in $\mathcal{C}$ on $X$ defined by the rule
$\Pi(U) = \prod_{x \in U} A_x$ (with obvious restriction
mappings). Note that the associated presheaf of sets
$U \mapsto F(\Pi(U)) = \prod_{x \in U} F(A_x)$ is a sheaf
by Example \ref{example-sheaf-product-pointwise}.
Hence $\Pi$ is a sheaf of algebraic structures
of type $(\mathcal{C} , F)$. This gives many examples
of sheaves of abelian groups, groups, rings, etc.
\end{example}













\section{Exactness and points}
\label{section-exactness-points}

\noindent
In any category we have the notion of epimorphism, monomorphism,
isomorphism, etc.

\begin{lemma}
\label{lemma-points-exactness}
Let $X$ be a topological space. Let $\varphi : \mathcal{F} \to \mathcal{G}$
be a morphism of sheaves of sets on $X$.
\begin{enumerate}
\item The map $\varphi$ is a monomorphism in the category of sheaves
if and only if for all $x \in X$ the map
$\varphi_x : \mathcal{F}_x \to \mathcal{G}_x$
is injective.
\item The map $\varphi$ is an epimorphism in the category of sheaves
if and only if for all $x \in X$ the map
$\varphi_x : \mathcal{F}_x \to \mathcal{G}_x$
is surjective.
\item The map $\varphi$ is a isomorphism in the category of sheaves
if and only if for all $x \in X$ the map
$\varphi_x : \mathcal{F}_x \to \mathcal{G}_x$
is bijective.
\end{enumerate}
\end{lemma}

\begin{proof}
Fixme.
\end{proof}

\begin{lemma}
\label{lemma-check-homomorphism-stalks}
let $X$ be a topological space.
Let $(\mathcal{C}, F)$ be a type of algebraic structure.
Suppose that $\mathcal{F}$, $\mathcal{G}$ are sheaves on $X$
with values in $\mathcal{C}$.
Let $\varphi : \mathcal{F} \to \mathcal{G}$
be a map of the underlying sheaves of sets.
If for all points $x \in X$ the map
$\mathcal{F}_x \to \mathcal{G}_x$
is a morphism of algebraic structures,
then $\varphi$ is a morphism of sheaves of algebraic structures.
\end{lemma}

\begin{proof}
Let $U$ be an open subset of $X$. Consider the diagram of
(underlying) sets
$$
\xymatrix{
\mathcal{F}(U) \ar[r] \ar[d] &
\prod_{x \in U} \mathcal{F}_x \ar[d] \\
\mathcal{G}(U) \ar[r] &
\prod_{x \in U} \mathcal{G}_x
}
$$
By assumption, and previous results, all but the left vertical
arrow are morphisms of algebraic structures. In addition the
bottom horizontal arrow is injective,
see Lemma \ref{lemma-sheaf-subset-stalks}.
Hence we conclude by Lemma \ref{lemma-image-contained-in},
see also Example \ref{example-application-lemma-image-contained-in}
\end{proof}

\noindent
Here we need to talk about short exact sequences of abelian sheaves, etc.




\section{Sheafification}
\label{section-sheafification}

\noindent
In this section we explain how to get the sheafification
of a presheaf on a topological space. We will use stalks
to describe the sheafification in this case. This is different
from the general procedure described in Sites, Section
\ref{sites-section-sheafification}, and perhaps somewhat
easier to understand.

\medskip\noindent
The basic construction is the following. Let $\mathcal{F}$ be a presheaf
of sets $\mathcal{F}$ on a topological space $X$.
For every open $U \subset X$ we define
$$
\mathcal{F}^{\#}(U)
=
\{
(s_u) \in \prod\nolimits_{u \in U} \mathcal{F}_u
\text{ such that }(*)
\}
$$
where $(*)$ is the property:
\begin{list}{$(*)$}{}
\item For every $u \in U$, there exists an open neighbourhood
$u \in V \subset U$, and a section $\sigma \in \mathcal{F}(V)$
such that for all $v \in V$ we have $s_v = (V, \sigma)$
in $\mathcal{F}_v$.
\end{list}
Note that $(*)$ is a condition for each $u \in U$,
and that given $u \in U$ the truth of this condition
depends only on the values $s_v$ for $v$ in any neighbourhood
of $u$. Thus it is clear that,
if $V \subset U \subset X$ are open, the projection maps
$$
\prod\nolimits_{u \in U} \mathcal{F}_u
\longrightarrow
\prod\nolimits_{v \in V} \mathcal{F}_v
$$
maps elements of $\mathcal{F}^{\#}(U)$ into $\mathcal{F}^{\#}(V)$.
In other words, we get the structure of a presheaf of sets
on $\mathcal{F}^{\#}$. 

\medskip\noindent
Furthermore, the map $\mathcal{F}(U) \to \prod_{u \in U} \mathcal{F}_u$
described in Section \ref{section-stalks} clearly has image
in $\mathcal{F}^{\#}(U)$. In addition, if $V \subset U \subset X$ are
open then we have the following commutative diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r] \ar[d] &
\mathcal{F}^{\#}(U) \ar[r] \ar[d] &
\prod_{u\in U} \mathcal{F}_u \ar[d]\cr
\mathcal{F}(V) \ar[r] &
\mathcal{F}^{\#}(V) \ar[r] &
\prod_{v\in V} \mathcal{F}_v
}
$$
where the vertical maps are induced from the
restriction mappings. Thus we see that
there is a canonical morphism of presheaves
$\mathcal{F} \to \mathcal{F}^{\#}$.

\medskip\noindent
In Example \ref{example-sheaf-product-pointwise} we saw
that the rule $\Pi(\mathcal{F}) : U \mapsto \prod_{u\in U} \mathcal{F}_u$
is a sheaf, with obvious restriction mappings. And by construction
$\mathcal{F}^{\#}$ is a sub-presheaf of this. In other words, we
have morphisms of presheaves
$$
\mathcal{F} \to \mathcal{F}^\# \to \Pi(\mathcal{F}).
$$
In addition the rule that associates to $\mathcal{F}$
the sequence above is clearly functorial in the presheaf $\mathcal{F}$.
This notation will be
used in the proofs of the lemmas below.

\begin{lemma}
\label{lemma-sheafification-sheaf}
The presheaf $\mathcal{F}^{\#}$ is a sheaf.
\end{lemma}

\begin{proof}
It is probably better for the reader to find their own explanation
of this than to read the proof here. In fact the lemma is true
for the same reason as why the presheaf of continuous
function is a sheaf, see Example \ref{example-basic-continuous-maps}
(and this analogy can be made precise using the espace etale).

\medskip\noindent
Anyway, let $U = \bigcup U_i$ be an open covering.
Suppose that $s_i = (s_{i,u})_{u \in U_i} \in \mathcal{F}^{\#}(U_i)$
such that $s_i$ and $s_j$ agree over $U_i \cap U_j$.
Because $\Pi(\mathcal{F})$ is a sheaf,
we find an element $s = (s_u)_{u\in U}$ in $\prod_{u\in U} \mathcal{F}_u$
restricting to $s_i$ on $U_i$. We have to check property $(*)$.
Pick $u \in U$. Then $u \in U_i$ for some $i$. Hence by $(*)$ for $s_i$,
there exists a $V$ open, $u \in V \subset U_i$
and a $\sigma \in \mathcal{F}(V)$
such that $s_{i, v} = (V, \sigma)$ in $\mathcal{F}_v$ 
for all $v \in V$. Since $s_{i,v} = s_v$ we get $(*)$ for $s$.
\end{proof}

\begin{lemma}
\label{lemma-stalk-sheafification}
Let $X$ be a topological space.
Let $\mathcal{F}$ be a presheaf of sets on $X$.
Let $x \in X$. Then $\mathcal{F}_x = \mathcal{F}^\#_x$.
\end{lemma}

\begin{proof}
The map $\mathcal{F}_x \to \mathcal{F}^\#_x$
is injective, since already the map
$\mathcal{F}_x \to \Pi(\mathcal{F})_x$ is injective.
Namely, there is a canonical map $\Pi(\mathcal{F})_x \to \mathcal{F}_x$
which is a left inverse to the map $\mathcal{F}_x \to \Pi(\mathcal{F})_x$,
see Example \ref{example-sheaf-product-pointwise-stalk}.
To show that it is surjective, suppose that
$\overline{s} \in \mathcal{F}^\#_x$.
We can find an open neighbourhood $U$ of $x$ such that
$\overline{s}$ is the equivalence class of $(U, s)$
with $s \in \mathcal{F}^\#_x$.
By definition, this means there exists an open neighbourhood
$V$, $x \in V \subset U$ and a section $\sigma \in \mathcal{F}(V)$
such that $s|_V$ is the image of $\sigma$ in $\Pi(\mathcal{F})(V)$.
Clearly the class of $(V, \sigma)$ defines an element of
$\mathcal{F}_x$ mapping to $\overline{s}$.
\end{proof}

\begin{lemma}
\label{lemma-sheafifiy-universal}
Let $\mathcal{F}$ be a presheaf of sets on $X$.
Any map $\mathcal{F} \to \mathcal{G}$ into a sheaf of sets 
factors uniquely as
$\mathcal{F} \to \mathcal{F}^\# \to \mathcal{G}$.
\end{lemma}

\begin{proof}
Clearly, there is a commutative diagram
$$
\xymatrix{
\mathcal{F} \ar[r] \ar[d] &
\mathcal{F}^\# \ar[r] \ar[d] &
\Pi(\mathcal{F}) \ar[d] \\
\mathcal{G} \ar[r] &
\mathcal{G}^\# \ar[r] &
\Pi(\mathcal{G}) \\
}
$$
So it suffices to prove that $\mathcal{G} = \mathcal{G}^\#$.
To see this it suffices to prove, for every point $x \in X$ the
map $\mathcal{G}_x \to \mathcal{G}^\#_x$ is bijective, by
Lemma \ref{lemma-points-exactness}. And this is Lemma
\ref{lemma-stalk-sheafification} above.
\end{proof}

\noindent
This lemma really says that there is an adjoint pair
of functors: $i : \textit{Sh}(X) \to \textit{PSh}(X)$
(inclusion) and $\# : \textit{PSh}(X) \to \textit{Sh}(X)$
(sheafification). The formula is that
$$
\text{Mor}_{\textit{PSh}(X)}(\mathcal{F}, i(\mathcal{G}))
=
\text{Mor}_{\textit{Sh}(X)}(\mathcal{F}^\#, \mathcal{G})
$$
which says that sheafification is a left adjoint of
the inclusion functor. See Categories, Section
\ref{categories-section-adjoint}.




\section{Sheafification of abelian presheaves}
\label{section-sheafify-abelian-presheaves}

\noindent
The following strange looking lemma is likely unnecessary, but
very convenient to deal with sheafification of presheaves
of algebraic structures.

\begin{lemma}
\label{lemma-diagram-fibre-product}
Let $X$ be a topological space. Let $\mathcal{F}$ be
a presheaf of sets on $X$. Let $U \subset X$ be open.
There is a canonical fibre product diagram
$$
\xymatrix{
\mathcal{F}^\#(U) \ar[d] \ar[r] &
\Pi(\mathcal{F})(U) \ar[d] \\
\prod_{x \in U} \mathcal{F}_x
\ar[r] &
\prod_{x \in U} \Pi(\mathcal{F})_x
}
$$
where the maps are the following:
\begin{enumerate}
\item The left vertical map has components
$\mathcal{F}^\#(U) \to \mathcal{F}^\#_x = \mathcal{F}_x$
where the equality is Lemma \ref{lemma-stalk-sheafification}.
\item The top horizontal map comes from the
map of presheaves $\mathcal{F} \to \Pi(\mathcal{F})$ described
in Section \ref{section-sheafification}.
\item The right vertical map has obvious component
maps $\Pi(\mathcal{F})(U) \to \Pi(\mathcal{F})_x$.
\item The bottom horizontal map has components
$\mathcal{F}_x \to \Pi(\mathcal{F})_x$
which come from the map of presheaves
$\mathcal{F} \to \Pi(\mathcal{F})$ described
in Section \ref{section-sheafification}.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that the diagram commutes. We have to show
it is a fibre product diagram. The bottom horizontal arrow
is injective since all the maps $\mathcal{F}_x \to \Pi(\mathcal{F})_x$
are injective (see beginning proof of
Lemma \ref{lemma-stalk-sheafification}).
A section $s \in \Pi(\mathcal{F})(U)$ is in $\mathcal{F}^\#$ if and
only if $(*)$ holds. But $(*)$ says that around every point
the section $s$ comes from a section of $\mathcal{F}$. By definition
of the stalk functors, this is equivalent to saying that
the value of $s$ in every stalk $\Pi(\mathcal{F})_x$ comes
from an element of the stalk $\mathcal{F}_x$. Hence the lemma.
\end{proof}


\begin{lemma}
\label{lemma-sheafify-abelian-presheaf}
Let $X$ be a topological space.
Let $\mathcal{F}$ be an abelian presheaf on $X$.
Then there exists a unique structure of
abelian sheaf on $\mathcal{F}^\#$ such that
$\mathcal{F} \to \mathcal{F}^\#$ is a morphism
of abelian presheaves. Moreover, the following adjointness
property holds
$$
\text{Mor}_{\textit{PAb}(X)}(\mathcal{F}, i(\mathcal{G}))
=
\text{Mor}_{\textit{Ab}(X)}(\mathcal{F}^\#, \mathcal{G}).
$$
\end{lemma}

\begin{proof}
Recall the sheaf of sets $\Pi(\mathcal{F})$ defined in
Section \ref{section-sheafification}. All the stalks
$\mathcal{F}_x$ are abelian groups, see
Lemma \ref{lemma-stalk-abelian-presheaf}.
Hence $\Pi(\mathcal{F})$ is a sheaf of abelian groups by
Example \ref{example-sheaf-product-pointwise-algebraic-structure}.
Also, it is clear that the map $\mathcal{F} \to \Pi(\mathcal{F})$
is a morphism of abelian presheaves. If we show that
condition $(*)$ of Section \ref{section-sheafification} defines a subgroup
of $\Pi(\mathcal{F})(U)$ for all open subsets $U \subset X$,
then $\mathcal{F}^\#$ canonically inherits the structure of abelian sheaf.
This is quite easy to do by hand, and we leave it to the
reader to find a good simple argument. The argument we use here,
which generalizes to presheaves of algebraic structures is the following:
Lemma \ref{lemma-diagram-fibre-product} show that
$\mathcal{F}^\#(U)$ is the fibre product of a diagram
of abelian groups. Thus $\mathcal{F}^\#$ is an abelian
subgroup as desired.

\medskip\noindent
Note that at this point $\mathcal{F}^\#_x$ is an abelian
group by Lemma \ref{lemma-stalk-abelian-presheaf}
and that $\mathcal{F}_x \to \mathcal{F}^\#_x$ is a
bijection (Lemma \ref{lemma-stalk-sheafification})
and a homomorphism of abelian groups. Hence
$\mathcal{F}_x \to \mathcal{F}^\#_x$ is an isomorphism
of abelian groups. This will be used below without further mention.

\medskip\noindent
To prove the adjointness property we use the adjointness
property of sheafification of presheaves of sets. For example
if $\psi : \mathcal{F} \to i(\mathcal{G})$ is morphism of presheaves
then we obtain a morphism of sheaves
$\psi' : \mathcal{F}^\# \to \mathcal{G}$. What we have to do is to check
that this is a morphism of abelian sheaves. We may do this
for example by noting that it is true on stalks,
by Lemma \ref{lemma-stalk-sheafification}, and then using
Lemma \ref{lemma-check-homomorphism-stalks} above.
\end{proof}



\section{Sheafification of presheaves of algebraic structures}
\label{section-sheafification-presheaves-structures}


\begin{lemma}
\label{lemma-sheafify-presheaf-structures}
Let $X$ be a topological space.
Let $(\mathcal{C}, F)$ be a type of algebraic structure.
Let $\mathcal{F}$ be a presheaf with values in $\mathcal{C}$
on $X$. Then there exists a sheaf $\mathcal{F}^\#$ with values
in $\mathcal{C}$ and a morphism $\mathcal{F} \to \mathcal{F}^\#$
of presheaves with values in $\mathcal{C}$ with the
following properties:
\begin{enumerate}
\item The map $\mathcal{F} \to \mathcal{F}^\#$ identifies
the underlying sheaf of sets of $\mathcal{F}^\#$ with
the sheafification of the underlying presheaf of sets of $\mathcal{F}$.
\item For any morphism $\mathcal{F} \to \mathcal{G}$, where
$\mathcal{G}$ is a sheaf with values in $\mathcal{C}$ there exists
a unique factorization $\mathcal{F} \to \mathcal{F}^\# \to \mathcal{G}$.
\end{enumerate}
\end{lemma}

\begin{proof}
The proof is the same as the proof of
Lemma \ref{lemma-sheafify-abelian-presheaf},
with repeated application of
Lemma \ref{lemma-image-contained-in} (see also
Remark \ref{example-application-lemma-image-contained-in}).
The main idea however, is to define $\mathcal{F}^\#(U)$
as the fibre product in $\mathcal{C}$ of the diagram
$$
\xymatrix{
 &
\Pi(\mathcal{F})(U) \ar[d] \\
\prod_{x \in U} \mathcal{F}_x
\ar[r] &
\prod_{x \in U} \Pi(\mathcal{F})_x
}
$$
compare Lemma \ref{lemma-diagram-fibre-product}.
\end{proof}

\section{Sheafification of presheaves of $\mathcal{O}$-modules}
\label{section-sheafification-presheaves-modules}

\begin{lemma}
\label{lemma-sheafification-presheaf-modules}
Let $X$ be a topological space.
Let $\mathcal{O}$ be a presheaf of rings on $X$
Let $\mathcal{F}$ be a presheaf $\mathcal{O}$-modules.
Let $\mathcal{O}^\#$ be the sheafification of $\mathcal{O}$.
Let $\mathcal{F}^\#$ be the sheafification of $\mathcal{F}$
as a presheaf of abelian groups. There exists a map of
sheaves of sets
$$
\mathcal{O}^\# \times \mathcal{F}^\#
\longrightarrow
\mathcal{F}^\#
$$
which makes the diagram
$$
\xymatrix{
\mathcal{O} \times \mathcal{F} \ar[r] \ar[d] &
\mathcal{F} \ar[d] \\
\mathcal{O}^\# \times \mathcal{F}^\# \ar[r] &
\mathcal{F}^\#
}
$$
commute and which makes $\mathcal{F}^\#$ into a sheaf
of $\mathcal{O}^\#$-modules.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}




\section{Continuous maps and sheaves}
\label{section-presheaves-functorial}

\noindent
Let $f : X \to Y$ be a continuous map of topological spaces.
We will define the push forward and pull back functors for
presheaves and sheaves.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf of sets on $X$. We define the
{\it pushforward} of $\mathcal{F}$ by the rule
$$
f_*\mathcal{F}(V) = \mathcal{F}(f^{-1}(V))
$$
for any open $V \subset Y$.
Given $V_1 \subset V_2 \subset Y$ open the restriction map
is given by the commutativity of the diagram
$$
\xymatrix{
f_*\mathcal{F}(V_2) \ar[d] \ar@{=}[r] &
\mathcal{F}(f^{-1}(V_2)) \ar[d]^{\text{restriction for }\mathcal{F}} \\
f_*\mathcal{F}(V_1) \ar@{=}[r] &
\mathcal{F}(f^{-1}(V_1))
}
$$
It is clear that this defines a presheaf of sets. The construction
is clearly functorial in the presheaf $\mathcal{F}$ and hence
we obtain a functor
$$
f_* : \textit{PSh}(X) \longrightarrow \textit{PSh}(Y).
$$

\begin{lemma}
\label{lemma-pushforward-sheaf}
Let $f : X \to Y$ be a continuous map.
Let $\mathcal{F}$ be a sheaf of sets on $X$.
Then $f_*\mathcal{F}$ is a sheaf on $Y$.
\end{lemma}

\begin{proof}
This immediately follows from the fact that
if $V = \bigcup V_j$ is an open covering in $Y$,
then $f^{-1}(V) = \bigcup f^{-1}(V_j)$ is an open covering in $X$.
\end{proof}

\noindent
As a consequence we obtain a functor
$$
f_* : \textit{Sh}(X) \longrightarrow \textit{Sh}(Y).
$$

\noindent
Let $\mathcal{G}$ be a presheaf of sets on $Y$.
The {\it pullback presheaf} $f_p\mathcal{G}$
of a given presheaf $\mathcal{G}$ is defined as the left adjoint
of the pushforward $f_*$ on presheaves. In other words it
should be a presheaf $f_p \mathcal{G}$ on $X$ such that
$$
\text{Mor}_{\textit{PSh}(X)}(f_p\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{PSh}(Y)}(\mathcal{G}, f_*\mathcal{F}).
$$
By the Yoneda lemma this determines the pullback uniquely.
It turns out that it actually exists.

\begin{lemma}
\label{lemma-pullback-presheaves}
There exists a functor
$f_p : \textit{PSh}(Y) \to \textit{PSh}(X)$
which is right adjoint to $f_*$. For a presheaf
$\mathcal{G}$ it is determined by the rule
$$
f_p\mathcal{G}(U) = \text{colim}_{f(U) \subset V}\ \mathcal{G}(V)
$$
where the colimit is over the collection of open neighbourhoods
$V$ of $f(U)$ in $Y$. The colimits are directed. (The restriction
mappings of $f_p\mathcal{G}$ are explained in the proof.)
\end{lemma}

\begin{proof}
The colimit is directed in the same way that the colimit
defining a stalk at a point is directed. (And the
ordering is by reverse inclusion.) Furthermore, if
$U_1 \subset U_2$, then every open neighbourhood of $f(U_2)$
is an open neighbourhood of $f(U_1)$. Hence the system defining
$f_p\mathcal{G}(U_2)$ is a subsystem of the one defining
$f_p\mathcal{G}(U_1)$ and we obtain a restiction map (for
example by applying the generalities in Categories,
Lemma \ref{categories-lemma-functorial-colimit}).

\medskip\noindent
Note that the construction of the colimit is clearly functorial
in $\mathcal{G}$, and similarly for the restriction mappings.
Hence we have defined $f_p$ as a functor.

\medskip\noindent
A small useful remark is that clearly $f_p\mathcal{G}(f^{-1}(U))
= \mathcal{G}(U)$, simply because the system of open neighbourhoods
of $f(f^{-1}(U)) = U$ has a maximal element, namely $U$. 
In other words, $f_* f_p\mathcal{G} = \mathcal{G}$.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf of sets on $X$.
Suppose that $\psi : f_p\mathcal{G} \to \mathcal{F}$
is a map of presheaves of sets. The corresponding map
$\mathcal{G} \to f_*\mathcal{F}$ is simply the map
$f_*\psi : \mathcal{G} = f_* f_p \mathcal{G} \to f_* \mathcal{F}$.

\medskip\noindent
Another small useful remark is that there exists a
canonical map $c_{\mathcal{F}} : f_p f_* \mathcal{F} \to \mathcal{F}$.
Namely, let $U \subset X$ open. 
For every open neighbourhood $V \supset f(U)$ in $Y$
there exists a map
$f_*\mathcal{F}(V) = \mathcal{F}(f^{-1}(V))\to \mathcal{F}(U)$,
namely the restriction map on $\mathcal{F}$. And this is certainly
compatible wrt restriction mappings between values of $\mathcal{F}$
on $f^{-1}$ of varying neighbourhoods of $f(U)$. Thus we obtain
a canonical map $f_p f_* \mathcal{F}(U) \to \mathcal{F}(U)$.
Another trivial verification show that these maps are compatible
with restrictions and define a map $c_{\mathcal{F}}$
of presheaves of sets.

\medskip\noindent
Suppose that $\varphi : \mathcal{G} \to f_*\mathcal{F}$
is a map of presheaves of sets. Consider $f_p\varphi :
f_p \mathcal{G} \to f_p f_* \mathcal{F}$. 
Postcomposing with $c_{\mathcal{F}}$ gives the desired map
$c_{\mathcal{F}} \circ f_p\varphi : f_p\mathcal{G} \to \mathcal{F}$.
We leave it to the reader to see that this construction is inverse
to the construction in the other direction higher up.
\end{proof}

\begin{lemma}
\label{lemma-stalk-pullback-presheaf}
Let $x \in X$. Let $\mathcal{G}$ be a presheaf of sets on $Y$.
There is a canonical bijection of stalks
$(f_p\mathcal{G})_x = \mathcal{G}_{f(x)}$.
\end{lemma}

\begin{proof}
This you can see as follows
\begin{eqnarray*}
(f_p\mathcal{G})_x
& = &
\text{colim}_{x \in U}\ f_p\mathcal{G}(U) \\
& = &
\text{colim}_{x \in U}\ \text{colim}_{f(U) \subset V}\ \mathcal{G}(V) \\
& = &
\text{colim}_{f(x) \in V}\ \mathcal{G}(V) \\
& = &
\mathcal{G}_{f(x)}
\end{eqnarray*}
Here we have used
Categories, Lemma \ref{categories-lemma-colimits-commute},
and the fact that any $V$ open in $Y$ containing $f(x)$
occurs in the third description above (left to the reader).
\end{proof}

\noindent
Let $\mathcal{G}$ be a sheaf of sets on $Y$.
The {\it pullback sheaf} $f^{-1}\mathcal{G}$ is defined
by the formula
$$
f^{-1}\mathcal{G} = (f_p\mathcal{G})^\# .
$$
Sheafification is a left adjoint to the inclusion
of sheaves in presheaves, and $f_p$ is a left
adjoint to $f_*$ on presheaves. As a formal consequence
we obtain that $f^{-1}$ is a left adjoint of
pushforward on sheaves. In other words,
$$
\text{Mor}_{\textit{Sh}(X)}(f^{-1}\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{Sh}(Y)}(\mathcal{G}, f_*\mathcal{F}).
$$
(The formal argument is given in the setting of abelian
sheaves in the next section.)

\begin{lemma}
\label{lemma-stalk-pullback}
Let $x \in X$. Let $\mathcal{G}$ be a sheaf of sets on $Y$.
There is a canonical bijection of stalks
$(f^{-1}\mathcal{G})_x = \mathcal{G}_{f(x)}$.
\end{lemma}

\begin{proof}
This is a combination of Lemmas \ref{lemma-stalk-sheafification}
and \ref{lemma-stalk-pullback-presheaf}.
\end{proof}

\begin{remark}
\label{remark-f-map}
Let $f : X \to Y$ be a continuous map.
Let $\mathcal{F}$ be a sheaf of sets on $X$ and
let $\mathcal{G}$ be a sheaf of sets on $Y$.
Define an {\it $f$-map from $\mathcal{G}$
to $\mathcal{F}$} to be a collection of maps
$\xi_V : \mathcal{G}(V) \to \mathcal{F}(f^{-1}(V))$
such that
$$
\xi_{V'} \circ \rho_{V'}^V = \rho_{f^{-1}V'}^{f^{-1}V} \circ \xi_V
$$
for all $V' \subset V \subset Y$ open. There are
canonical bijections between the following three
sets:
\begin{enumerate}
\item The set of maps $\mathcal{G} \to f_*\mathcal{F}$.
\item The set of maps $f^{-1}\mathcal{G} \to \mathcal{F}$.
\item The set of $f$-maps $\xi : \mathcal{G} \to \mathcal{F}$.
\end{enumerate}
We leave the easy verification to the reader.
It is sometimes convenient to think about $f$-maps
instead of maps between sheaves either on $X$ or on $Y$.
\end{remark}



\section{Continuous maps and abelian sheaves}
\label{section-abelian-presheaves-functorial}

\noindent
Let $f : X \to Y$ be a continuous map.
We claim there are functors
\begin{eqnarray*}
f_* : \textit{PAb}(X) & \longrightarrow & \textit{PAb}(Y) \\
f_* : \textit{Ab}(X) & \longrightarrow & \textit{Ab}(Y) \\
f_p : \textit{PAb}(Y) & \longrightarrow & \textit{PAb}(X) \\
f^{-1} : \textit{Ab}(Y) & \longrightarrow & \textit{Ab}(X)
\end{eqnarray*}
with similar properties to their counterparts in 
Section \ref{section-presheaves-functorial}.
To see this we argue in the following way.

\medskip\noindent
Each of the functors will be constructed in the same
way as the corresponding functor in
Section \ref{section-presheaves-functorial}.
This works because all the colimits in that section
are directed colimits (but we will work through it below).

\medskip\noindent
First off, given an abelian presheaf $\mathcal{F}$ on $X$ and
an abelian presheaf $\mathcal{G}$ on $Y$ we define
\begin{eqnarray*}
f_*\mathcal{F}(V) & = & \mathcal{F}(f^{-1}(V)) \\
f_p\mathcal{G}(U) & = & \text{colim}_{f(U) \subset V}\ \mathcal{G}(V)
\end{eqnarray*}
as abelian groups. Restriction mappings are the same as 
the restriction mappings for presheaves of sets.

\medskip\noindent
The constructions $f_*$ and $f_p$ are functors on
the categories of presheaves of abelian groups.
This is clear, as (for example) a map of abelian presheaves
$\mathcal{G}_1 \to \mathcal{G}_2$ gives rise to a map of
directed systems
$\{\mathcal{G}_1(V)\}_{f(U) \subset V} \to 
\{\mathcal{G}_2(V)\}_{f(U) \subset V}$
all of whose maps are homomorphisms
and hence gives rise to a homomorphism of abelian groups
$f_p\mathcal{G}_1(U) \to f_p\mathcal{G}_2(U)$.

\medskip\noindent
The functors $f_*$ and $f_p$ are adjoint on the
category of presheaves of abelian groups, i.e., we have
$$
\text{Mor}_{\textit{PAb}(X)}(f_p\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{PAb}(Y)}(\mathcal{G}, f_*\mathcal{F}).
$$
To prove this, note that the equality
$f_* f_p\mathcal{G} = \mathcal{G}$ from the proof
of Lemma \ref{lemma-pullback-presheaves}
is an equality of abelian presheaves. Hence if
$\psi : f_p\mathcal{G} \to \mathcal{F}$
is a map of abelian presheaves, then the corresponding map
$\mathcal{G} \to f_*\mathcal{F}$ is the map
$f_*\psi : \mathcal{G} = f_* f_p \mathcal{G} \to f_* \mathcal{F}$
is also a map of abelian presheaves. For the other direction
we point out that the map
$c_{\mathcal{F}} : f_p f_* \mathcal{F} \to \mathcal{F}$
from the proof of Lemma \ref{lemma-pullback-presheaves} is a
map of abelian presheaves as well (since it is made out of restriction
mappings of $\mathcal{F}$ which are all homomorphisms). Hence
given a map of abelian presheaves $\varphi : \mathcal{G} \to f_*\mathcal{F}$
the map
$c_{\mathcal{F}} \circ f_p\varphi : f_p\mathcal{G} \to \mathcal{F}$
is a map of abelian presheaves as well. Since these constructions
$\psi \mapsto f_*\psi$ and $\varphi \mapsto c_{\mathcal{F}} \circ f_p\varphi$
are inverse to each other as constructions on maps of presheaves of sets
we see they are also inverse to each other on maps of abelian presheaves.

\medskip\noindent
If $\mathcal{F}$ is an abelian sheaf on $Y$, then $f_*\mathcal{F}$
is an abelian sheaf on $X$. This is true because of the definition
of an abelian sheaf and because this is true for sheaves of sets,
see Lemma \ref{lemma-pushforward-sheaf}. This defines the functor
$f_*$ on the category of abelian sheaves.

\medskip\noindent
We define $f^{-1}\mathcal{G} = (f_p\mathcal{G})^\#$ as before.
Adjointness of $f_*$ and $f^{-1}$ follows formally as in
the case of presheaves of sets. Here is the argument:
\begin{eqnarray*}
\text{Mor}_{\textit{Ab}(X)}(f^{-1}\mathcal{G}, \mathcal{F})
& = &
\text{Mor}_{\textit{PAb}(X)}(f_p\mathcal{G}, \mathcal{F}) \\
& = &
\text{Mor}_{\textit{PAb}(Y)}(\mathcal{G}, f_*\mathcal{F}) \\
& = &
\text{Mor}_{\textit{Ab}(Y)}(\mathcal{G}, f_*\mathcal{F})
\end{eqnarray*}

\begin{lemma}
\label{lemma-pullback-abelian-stalk}
Let $f : X \to Y$ be a continuous map.
\begin{enumerate}
\item Let $\mathcal{G}$ be an abelian presheaf on $Y$.
Let $x \in X$. The bijection
$\mathcal{G}_{f(x)} \to (f_p\mathcal{G})_x$ of
Lemma \ref{lemma-stalk-pullback-presheaf} is an isomorphism of abelian groups.
\item Let $\mathcal{G}$ be an abelian sheaf on $Y$.
Let $x \in X$. The bijection
$\mathcal{G}_{f(x)} \to (f^{-1}\mathcal{G})_x$ of
Lemma \ref{lemma-stalk-pullback} is an isomorphism of abelian groups.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}



\section{Continuous maps and sheaves of algebraic structures}
\label{section-presheaves-structures-functorial}

\noindent
Let $(\mathcal{C}, F)$ be a type of algebraic structure.
For a topological space $X$ let us introduce the notation:
\begin{enumerate}
\item $\textit{PSh}(X, \mathcal{C})$ will be the category
of presheaves with values in $\mathcal{C}$.
\item $\textit{Sh}(X, \mathcal{C})$ will be the category
of sheaves with values in $\mathcal{C}$.
\end{enumerate}
Let $f : X \to Y$ be a continuous map of topological spaces.
We claim there are functors
\begin{eqnarray*}
f_* : \textit{PSh}(X, \mathcal{C}) &
\longrightarrow &
\textit{PSh}(Y, \mathcal{C}) \\
f_* : \textit{Sh}(X, \mathcal{C}) &
\longrightarrow &
\textit{Sh}(Y, \mathcal{C}) \\
f_p : \textit{PSh}(Y, \mathcal{C}) &
\longrightarrow &
\textit{PSh}(X, \mathcal{C}) \\
f^{-1} : \textit{Sh}(Y, \mathcal{C}) &
\longrightarrow &
\textit{Sh}(X, \mathcal{C})
\end{eqnarray*}
constructed in the same manner and with the same
properties as the functors constructed for abelian
(pre)sheaves. 

\medskip\noindent
The main formulas to keep in mind are the following
\begin{eqnarray*}
f_*\mathcal{F}(V) & = & \mathcal{F}(f^{-1}(V)) \\
f_p\mathcal{G}(U) & = & \text{colim}_{f(U) \subset V}\ \mathcal{G}(V) \\
f^{-1}\mathcal{G} & = & (f_p\mathcal{G})^\# \\
f_p\mathcal{G}_x & = & \mathcal{G}_{f(x)} \\
f^{-1}\mathcal{G}_x & = & \mathcal{G}_{f(x)} \\
\text{Mor}_{\textit{PSh}(X, \mathcal{C})}(f_p\mathcal{G}, \mathcal{F})
& = &
\text{Mor}_{\textit{PSh}(Y, \mathcal{C})}(\mathcal{G}, f_*\mathcal{F}) \\
\text{Mor}_{\textit{Sh}(X, \mathcal{C})}(f^{-1}\mathcal{G}, \mathcal{F})
& = &
\text{Mor}_{\textit{Sh}(Y, \mathcal{C})}(\mathcal{G}, f_*\mathcal{F})
\end{eqnarray*}





\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
