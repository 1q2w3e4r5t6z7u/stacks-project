\input{preamble}

% OK, start here.
%
\begin{document}

\title{Moduli of Curves}

\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents




\section{Introduction}
\label{section-introduction}

\noindent
In this chapter we discuss some of the familiar moduli stacks of curves.
A reference is the celebrated article of Deligne and Mumford, see \cite{DM}.




\section{Conventions and abuse of language}
\label{section-conventions}

\noindent
We continue to use the conventions and the abuse of language
introduced in
Properties of Stacks, Section \ref{stacks-properties-section-conventions}.
Unless otherwise mentioned our base scheme will be $\Spec(\mathbf{Z})$.







\section{The stack of curves}
\label{section-stack-curves}

\noindent
This section is the continuation of Quot, Section \ref{quot-section-curves}.
Let $\textit{Curves}$ be the stack whose category of sections over a
scheme $S$ is the category of families of curves over $S$.
We already know that $\textit{Curves}$ is an
algebraic stack over $\mathbf{Z}$, see Quot, Theorem
\ref{quot-theorem-curves-algebraic}.

\medskip\noindent
Often base change is denoted by a subscript, but we cannot use
this notation for $\textit{Curves}$ because $\textit{Curves}_S$
is our notation for the fibre category over $S$.
This is why in Quot, Remark \ref{quot-remark-curves-base-change}
we used $B\textit{-Curves}$ for the base change
$$
B\textit{-Curves} = \textit{Curves} \times B
$$
to the algebraic space $B$. The product on the right is over the
final object, i.e., over $\Spec(\mathbf{Z})$. The object on the left
is the stack classifying families of curves on the category of schemes
over $B$. In particular, if $k$ is a field, then
$$
k\textit{-Curves} = \textit{Curves} \times \Spec(k)
$$
is the moduli stack classifying families of curves on the category
of schemes over $k$.
Before we continue, here is a sanity check.

\begin{lemma}
\label{lemma-extend-curves-to-spaces}
Let $T \to B$ be a morphism of algebraic spaces. The category
$$
\Mor_B(T, B\textit{-Curves})
$$
is the category of families of curves over $T$.
\end{lemma}

\begin{proof}
A family of curves over $T$ is a morphism $f : X \to T$ of algebraic
spaces, which is flat, proper, of finite presentation, and has
relative dimension $\leq 1$ (Morphisms of Spaces, Definition
\ref{spaces-morphisms-definition-relative-dimension}).
This is exactly the same as the definition in
Quot, Situation \ref{quot-situation-curves}
except that $T$ the base is allowed to be an algebraic space.
Our default base category for algebraic stacks/spaces
is the category of schemes, hence the lemma does not follow
immediately from the definitions. Having said this, we encourage
the reader to skip the proof.

\medskip\noindent
By the product description of $B\textit{-Curves}$ given above,
it suffices to prove the lemma in the absolute case. Choose a scheme
$U$ and a surjective \'etale morphism $p : U \to T$.
Let $R = U \times_T U$ with projections $s, t : R \to U$.

\medskip\noindent
Let $v : T \to \textit{Curves}$ be a morphism. Then $v \circ p$
corresponds to a family of curves $X_U \to U$. The canonical
$2$-morphism $v \circ p \circ t \to v \circ p \circ s$
is an isomorphism $\varphi : X_U \times_{U, s} R \to X_U \times_{U, t} R$.
This isomorphism satisfies the cocycle condition on
$R \times_{s, t} R$.
By Bootstrap, Lemma \ref{bootstrap-lemma-descend-algebraic-space}
we obtain a morphism of algebraic spaces $X \to T$
whose pullback to $U$ is equal to $X_U$ compatible with $\varphi$.
Since $\{U \to T\}$ is an \'etale covering, we see that
$X \to T$ is flat, proper, of finite presentation by
Descent on Spaces, Lemmas
\ref{spaces-descent-lemma-descending-property-flat},
\ref{spaces-descent-lemma-descending-property-proper}, and
\ref{spaces-descent-lemma-descending-property-finite-presentation}.
Also $X \to T$ has relative dimension $\leq 1$ because this is
an \'etale local property. Hence $X \to T$ is a family of curves over $T$.

\medskip\noindent
Conversely, let $X \to T$ be a family of curves. Then the
base change $X_U$ determines a morphism $w : U \to \textit{Curves}$
and the canonical isomorphism $X_U \times_{U, s} R \to X_U \times_{U, t} R$
determines a $2$-arrow $w \circ s \to w \circ t$ satisfying the
cocycle condition. Thus a morphism $v : T = [U/R] \to \textit{Curves}$
by the universal property of the quotient $[U/R]$, see
Groupoids in Spaces, Lemma
\ref{spaces-groupoids-lemma-quotient-stack-2-coequalizer}.
(Actually, it is much easier in this case to go back to before
we introduced our abuse of language and direct construct
the functor $\Sch/T \to \textit{Curves}$ which ``is'' the
morphsim $T \to \textit{Curves}$.)

\medskip\noindent
We omit the verification that the constructions given above
extend to morphisms between objects and are mutually quasi-inverse.
\end{proof}












\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
