\input{preamble}

% OK, start here.
%
\begin{document}

\title{Modules on Sites}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
In this document we work out basic notions of sheaves of modules on
ringed topoi or ringed sites.
This in particular includes the case of abelian sheaves, since
these may be viewed as sheaves of $\underline{\mathbf{Z}}$-modules.
We will simply duplicate the discussion of the chapter on sheaves
of modules (see Modules, Section \ref{modules-section-introduction}).
Basic references are \cite{FAC}, \cite{EGA} and \cite{SGA4}.






\section{Abelian (pre)sheaves}
\label{section-abelian-pre-sheaves}

\noindent
Abelian (pre)sheaves were introduced in
Sites, Sections \ref{sites-section-presheaves}
and \ref{sites-section-sheaves} and discussed a bit more
in Sites, Section \ref{sites-section-sheaves-algebraic-structures}.
We will follow the convention of this last reference, in that we think
of an abelian (pre)sheaf as a (pre)sheaf of sets endowed with addition rules
on all sets of sections compatible with the restriction mappings.
Recall that the category of abelian presheaves on a category $\mathcal{C}$
is denoted $\textit{PAb}(\mathcal{C})$, and the category of abelian sheaves
on a site $\mathcal{C}$ is denotes $\textit{Ab}(\mathcal{C})$.
The inclusion functor $\textit{Ab}(\mathcal{C}) \to \textit{PAb}(\mathcal{C})$
has a left adjoint, namely the sheafification functor
$\mathcal{G} \mapsto \mathcal{G}^\#$.

\medskip\noindent
The category $\textit{PAb}(\mathcal{C})$ is abelian (as defined in
Homology, Definition \ref{homology-definition-abelian-category}).
Given a map of presheaves $\varphi : \mathcal{G}_1 \to \mathcal{G}_2$
the kernel of $\varphi$ is the abelian presheaf
$U \mapsto \text{Ker}(\mathcal{G}_1(U) \to \mathcal{G}_2(U))$ and
the cokernel of $\varphi$ is the presheaf
$U \mapsto \text{Coker}(\mathcal{G}_1(U) \to \mathcal{G}_2(U))$.
Since the category of abelian groups is abelian it follows that
$\text{Coim}= \text{Im}$ because this holds over each $U$.
A sequence of abelian presheaves
$$
\mathcal{G}_1 \longrightarrow
\mathcal{G}_2 \longrightarrow
\mathcal{G}_3
$$
is exact if and only if
$\mathcal{G}_1(U) \to \mathcal{G}_2(U) \to \mathcal{G}_3(U)$
is an exact sequence of abelian groups for all $U \in \text{Ob}(\mathcal{C})$.

\medskip\noindent
The category $\textit{Ab}(\mathcal{C})$ is an abelian
category also. If $\varphi : \mathcal{F} \to \mathcal{F}'$
is a morphism of abelian sheaves, then $\text{Ker}(\varphi)$
is the same as the kernel of $\varphi$ as a morphism of presheaves,
and $\text{Coker}(\varphi)$ is the sheafification of the cokernel of
$\varphi$ in $\textit{PAb}(\mathcal{C})$. We omit the verification that
$\text{Coim}= \text{Im}$. A sequence of abelian sheaves
$$
\mathcal{F}_1 \longrightarrow
\mathcal{F}_2 \longrightarrow
\mathcal{F}_3
$$
is exact if and only if the sheafification of
$U \mapsto \mathcal{F}_2(U)/\mathcal{F}_1(U)$ is equal to the
kernel of $\mathcal{F}_2 \to \mathcal{F}_3$.

\medskip\noindent
In order to prepare notation for the following definition, let us agree
to denote the free abelian group on a set $S$ as\footnote{In other chapters
the notation $\mathbf{Z}[S]$ sometimes indicates the polynomial ring over
$\mathbf{Z}$ on $S$.}
$\mathbf{Z}[S] = \bigoplus_{s \in S} \mathbf{Z}$. It is characterized
by the property
$$
\text{Mor}_{\textit{Ab}}(\mathbf{Z}[S], A)
=
\text{Mor}_{\textit{Sets}}(S, A)
$$
In other words the construction $S \mapsto \mathbf{Z}[S]$ is a left adjoint
to the forgetful functor $\textit{Ab} \to \textit{Sets}$.

\begin{definition}
\label{definition-free-abelian-presheaf-on}
Let $\mathcal{C}$ be a category. Let $\mathcal{G}$ be a presheaf of sets.
The {\it free abelian presheaf} $\mathbf{Z}_{\mathcal{G}}$ on $\mathcal{G}$
is the abelian presheaf defined by the rule
$$
U \longmapsto \mathbf{Z}[\mathcal{G}(U)].
$$
In the special case $\mathcal{G} = h_X$ of a representable presheaf
associated to an object $X$ of $\mathcal{C}$
we use the notation $\mathbf{Z}_X = \mathbf{Z}_{h_X}$. In other words
$$
\mathbf{Z}_X(U) = \mathbf{Z}[\text{Mor}_{\mathcal{C}}(U, X)].
$$
\end{definition}

\noindent
This construction is clearly functorial in the presheaf $\mathcal{G}$.
In fact it is adjoint to the forgetful functor
$\textit{PAb}(\mathcal{C}) \to \textit{PSh}(\mathcal{C})$.
Here is the precise statement.

\begin{lemma}
\label{lemma-obvious-adjointness}
Let $\mathcal{C}$ be a category.
Let $\mathcal{G}$, $\mathcal{F}$ be a presheaves of sets.
Let $\mathcal{A}$ be an abelian presheaf.
Let $U$ be an object of $\mathcal{C}$. Then
we have
\begin{align*}
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})
& =
\mathcal{F}(U), \\
\text{Mor}_{\textit{PAb}(\mathcal{C})}(\mathbf{Z}_{\mathcal{G}}, \mathcal{A})
& =
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{G}, \mathcal{A}), \\
\text{Mor}_{\textit{PAb}(\mathcal{C})}(\mathbf{Z}_U, \mathcal{A})
& =
\mathcal{A}(U).
\end{align*}
All of these equalities are functorial.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-coproduct-sum-free-abelian-presheaf}
Let $\mathcal{C}$ be a category.
Let $I$ be a set. For each $i \in I$ let
$\mathcal{G}_i$ be a presheaf of sets.
Then
$$
\mathbf{Z}_{\coprod_i \mathcal{G}_i}
=
\bigoplus\nolimits_{i \in I} \mathbf{Z}_{\mathcal{G}_i}
$$
in $\textit{PAb}(\mathcal{C})$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


\begin{definition}
\label{definition-free-abelian-sheaf-on}
Let $\mathcal{C}$ be a category. Let $\mathcal{G}$ be a presheaf of sets.
The {\it free abelian sheaf} $\mathbf{Z}_{\mathcal{G}}^\#$
on $\mathcal{G}$ is the abelian sheaf $\mathbf{Z}_{\mathcal{G}}^\#$
which is the sheafification of the abelian presheaf on $\mathcal{G}$.
In the special case $\mathcal{G} = h_X$ of a representable presheaf
associated to an object $X$ of $\mathcal{C}$
we use the notation $\mathbf{Z}_X^\#$.
\end{definition}

\noindent
This construction is clearly functorial in the presheaf $\mathcal{G}$.
In fact it provides an adjoint to the forgetful functor
$\textit{Ab}(\mathcal{C}) \to \textit{Sh}(\mathcal{C})$.
Here is the precise statement.

\begin{lemma}
\label{lemma-obvious-adjointness-sheaves}
Let $\mathcal{C}$ be a site.
Let $\mathcal{G}$, $\mathcal{F}$ be a sheaves of sets.
Let $\mathcal{A}$ be an abelian sheaf.
Let $U$ be an object of $\mathcal{C}$. Then
we have
\begin{align*}
\text{Mor}_{\textit{Sh}(\mathcal{C})}(h_U^\#, \mathcal{F})
& =
\mathcal{F}(U), \\
\text{Mor}_{\textit{Ab}(\mathcal{C})}(\mathbf{Z}_{\mathcal{G}}^\#,
\mathcal{A})
& =
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{G}, \mathcal{A}), \\
\text{Mor}_{\textit{Ab}(\mathcal{C})}(\mathbf{Z}_U^\#, \mathcal{A})
& =
\mathcal{A}(U).
\end{align*}
All of these equalities are functorial.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-may-sheafify-before-abelianize}
Let $\mathcal{C}$ be a site.
Let $\mathcal{G}$ be a presheaf of sets.
Then $\mathbf{Z}_{\mathcal{G}}^\# = (\mathbf{Z}_{\mathcal{G}^\#})^\#$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}








\section{Ringed topoi}
\label{section-ringed-topoi}

\begin{definition}
\label{definition-ringed-topos}
(Ringed topoi and sites.)
A {\it ringed topos} is a pair $(\textit{Sh}(\mathcal{C}), \mathcal{O})$
where $\mathcal{C}$ is a site and $\mathcal{O}$ is a sheaf of rings
on $\mathcal{C}$.
\end{definition}

\begin{definition}
\label{definition-ringed-site}
A {\it ringed site} is a pair $(\mathcal{C}, \mathcal{O})$
where $\mathcal{C}$ is a site and $\mathcal{O}$ is a sheaf of rings
on $\mathcal{C}$.
\end{definition}









\section{Quasi-coherent modules}
\label{section-quasi-coherent}

\noindent
In this section we introduce an abstract notion of
quasi-coherent $\mathcal{O}$-module. This notion is very
useful in algebraic geometry, since quasi-coherent modules
on the big fppf site $(\textit{Sch}/S)_{fppf}$ of a scheme for example,
have a good description (and correspond to quasi-coherent sheaves on $S$).
However, we warn the reader that
in the general setting of ringed sites/topoi/spaces
this notion is not well behaved at all. The caterory of
quasi-coherent sheaves is not abelian in general, infinite
direct sums of quasi-coherent sheaves aren't quasi-coherent, etc, etc.

\begin{definition}
\label{definition-quasi-coherent}
Let $(\mathcal{C}, \mathcal{O})$ be a ringed site.
A sheaf of $\mathcal{O}$-modules $\mathcal{F}$ is called
{\it quasi-coherent} if for every object $U$ of $\mathcal{C}$
there exists a covering $\{U_i \to U\}_{i \in I}$ such
that each restriction
$$
\mathcal{F}|_{\mathcal{C}/U_i}
$$
is isomorphic to a cokernel of a map between free
$\mathcal{O}|_{\mathcal{C}/U_i}$-modules.
\end{definition}












\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
