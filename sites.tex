\input{preamble}

% OK, start here.
%
\begin{document}

\title{Sites and Sheaves}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
The notion of a site was introduced by Grothendieck to be able to study
sheaves in the \'etale topology of schemes. The basic reference for this
notion is perhaps \cite{SGA4}. Our notion of a site differs from that
in \cite{SGA4}; what we call a site is called a category endowed with
a pretopology in \cite[Exposee II, Definition 1.3]{SGA4}.
Our exposition will closely follow \cite{ArtinTopologies}. 
We will not use universes.












\section{Presheaves}
\label{section-presheaves}

\noindent
Let $\mathcal{C}$ be a category.
A {\it presheaf of sets} is a contravariant functor $\mathcal{F}$
from $\mathcal{C}$ to $\text{Sets}$ (see Categories, Remark
\ref{categories-remark-functor-into-sets}). 
So for every object $U$ of $\mathcal{C}$ we have a set 
$\mathcal{F}(U)$. The elements of this set are called
the {\it sections} of $\mathcal{F}$ over $U$. For every morphism
$f : V \to U$ the map $\mathcal{F}(f) : \mathcal{F}(U) \to \mathcal{F}(V)$
is called the {\it restricton map} and is often denoted
$f^\ast : \mathcal{F}(U) \to \mathcal{F}(V)$. Another way
of expressing this is to say that $f^*(s)$ is the {\it pullback}
of $s$ via $f$. Functoriality means that $g^* f^* (s) = (f \circ g)^*(s)$.
Sometimes we use the notation $s|_V := f^\ast(s)$.
This notation is consistent with the notion of restriction
of functions from topology because if $W \to V \to U$
are morphisms in $\mathcal{C}$ and $s$ is a section of
$\mathcal{F}$ over $U$ then $s|_W = (s|_V)|_W$ by the
functorial nature of $\mathcal{F}$. Of course we have to be
careful since it may very well happen
that there is more than one morphism $V \to U$ and it is
certainly not going to be the case that the corresponding
pull back maps are equal.

\begin{definition}
\label{definition-presheaves-sets}
A {\it presheaf of sets} on $\mathcal{C}$ is a contravariant
functor from $\mathcal{C}$ to $\textit{Sets}$. {\it Morphisms
of presheaves} are transformations of functors. The category
of presheaves of sets is denoted $\textit{PSh}(\mathcal{C})$.
\end{definition}

\noindent
Note that for any object $U$ of $\mathcal{C}$ the functor of
points $h_U$, see Categories, Example \ref{categories-example-hom-functor}
is a presheaf. These are called the {\it representable presheaves}.
These presheaves have the pleasing property that for any 
presheaf $\mathcal{F}$ we have
$$
\text{Mor}_{\textit{Psh}(\mathcal{C})}(h_U, \mathcal{F})
=
\mathcal{F}(U).
$$
This is similar to the Yoneda lemma (Categories,
Lemma \ref{categories-lemma-yoneda}) and left as a good exercise to 
the reader.

\medskip\noindent
Similarly, we can define the notion of a presheaf of abelian groups,
rings, etc. More generally we may define a presheaf with values in a
category.

\begin{definition}
\label{definition-presheaf}
Let $\mathcal{C}$, $\mathcal{A}$ be categories.
A {\it presheaf} $\mathcal{F}$ on $\mathcal{C}$
with values in $\mathcal{A}$ is a contravariant
functor from $\mathcal{C}$ to $\mathcal{A}$,
i.e., $\mathcal{F} : \mathcal{C}^\circ \to \mathcal{A}$.
A {\it morphism} of presheaves $\mathcal{F} \to \mathcal{G}$
on $\mathcal{C}$ with values in $\mathcal{A}$ is a transformation
of functors from $\mathcal{F}$ to $\mathcal{G}$.
\end{definition}

\noindent
These form the objects and morphisms of the category of presheaves
on $\mathcal{C}$ with values in $\mathcal{A}$.

\begin{remark}
\label{remark-big-presheaves}
As already pointed out above we may consider the category
presheaves with values in any of the ``big'' categories
listed in Categories, Remark \ref{categories-remark-big-categories}.
These will be ``big'' categories as well and they will be
listed in the above mentioned remark as we go along.
\end{remark}
















\section{Injective and surjective maps of presheaves}
\label{section-injective-surjective}

\begin{definition}
\label{definition-presheaves-injective-surjective}
Let $\mathcal{C}$ be a category, and let $\varphi : \mathcal{F}
\to \mathcal{G}$ be a map of presheaves of sets.
\begin{enumerate}
\item We say that $\varphi$ is {\it injective} if for every object
$U$ of $\mathcal{C}$ we have $\alpha : \mathcal{F}(U)
\to \mathcal{G}(U)$ is injective.
\item We say that $\varphi$ is {\it surjective} if for every object
$U$ of $\mathcal{C}$ we have $\alpha : \mathcal{F}(U)
\to \mathcal{G}(U)$ is surjective.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-mono-epi}
The injective (resp.\ surjective) maps defined above
are exactly the monomorphisms (resp.\ epimorphisms) of
$\textit{PSh}(\mathcal{C})$. A map is an isomorphism
if and only if it is both injective and surjective.
\end{lemma}

\begin{proof}
FIXME.
\end{proof}

\begin{definition}
\label{definition-sub-presheaf}
We say $\mathcal{F}$ is a {\it subpresheaf} of $\mathcal{G}$
if for every object $U \in \text{Ob}(\mathcal{C})$ the set
$\mathcal{F}(U)$ is a subset of $\mathcal{G}(U)$, compatibly
with the restriction mappings.
\end{definition}

\noindent
In other words, the inclusion
maps $\mathcal{F}(U) \to \mathcal{G}(U)$
glue together to give an (injective) morphism of
presheaves $\mathcal{F} \to \mathcal{G}$.

\begin{lemma}
\label{lemma-image}
Let $\mathcal{C}$ be a category.
Suppose that $\varphi : \mathcal{F} \to \mathcal{G}$ is a 
morphism of presheaves of setson $\mathcal{C}$.
There exists a unique subpresheaf $\mathcal{G}' \subset \mathcal{G}$
such that $\varphi$ factors as
$\mathcal{F} \to \mathcal{G}' \to \mathcal{G}$
and such that the first map is surjective.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-image}
Notation as in Lemma \ref{lemma-image}. We 
say that $\mathcal{G}'$ is the {\it image of $\varphi$}.
\end{definition}
















\section{Limits and colimits in $\textit{PSh}$}
\label{section-limits-colimits-PSh}

\noindent
Let $\mathcal{C}$ be a category.
Limits and colimits exist in the category
$\textit{PSh}(\mathcal{C})$. In addition, for any
$U \in \text{ob}(\mathcal{C})$ the functor
$$
\textit{PSh}(\mathcal{C})
\longrightarrow
\textit{Sets},\ \ 
\mathcal{F} 
\longmapsto
\mathcal{F}(U)
$$
commutes with limits and colimits. Perhaps the easiest way to prove
these statement is the following. Given a diagram
$
\mathcal{F} :
\mathcal{I}
\to
\textit{PSh}(\mathcal{C})
$
define presheaves
$$
\mathcal{F}_{\lim} :
U 
\longmapsto
\lim\nolimits_{i \in \mathcal{I}} \mathcal{F}_i(U)
\text{  and  }
\mathcal{F}_{\text{colim}} :
U 
\longmapsto
\text{colim}_{i \in \mathcal{I}} \mathcal{F}_i(U)
$$
The are clearly projection maps $\mathcal{F}_{\lim} \to \mathcal{F}_i$
and canonical maps $\mathcal{F}_i \to \mathcal{F}_{\text{colim}}$. These
maps satisfy the requirements of the maps of a limit (reps.\ colimit)
of Categories, Defintion \ref{categories-definition-limit} (resp.\ 
Categories, Defintion \ref{categories-definition-colimit}). Finally, if
$(\mathcal{G}, q_i : \mathcal{G} \to \mathcal{F}_i)$ is another
system (as in the definition of a limit), then we get for every
$U$ a system of maps $\mathcal{G}(U) \to \mathcal{F}_i(U)$ 
with suitable functoriality requirements. And thus a unique
map $\mathcal{G}(U) \to \mathcal{F}_{\lim}(U)$. It is easy
to verify these are compatible  as we vary $U$ and arise from
the desired map $\mathcal{G} \to \mathcal{F}_{\lim}$.
A similar argument works in the case of the colimit.





















\section{Functoriality of $\textit{PSh}$}
\label{section-functoriality-PSh}

\noindent
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor between categories.
In this case we denote
$$
u^p :
\textit{PSh}(\mathcal{D})
\longrightarrow
\textit{PSh}(\mathcal{C})
$$
the functor that associates to $\mathcal{G}$ on $\mathcal{D}$ the presheaf
$u^p\mathcal{G} = \mathcal{G} \circ u$. Note that by the previous section
this functor commutes with all limits.

\medskip\noindent
For $Y \in \text{ob}(D)$ let $\mathcal{I}_Y = \mathcal{I}^u_Y$ denote
the category with
$$
\begin{matrix}
\text{Ob}(\mathcal{I}_Y)
&
=
&
\{
(X, \phi) 
\mid
X \in \text{Ob}(\mathcal{C}),
\phi : Y \to u(X)
\}
\\
\text{Mor}_{\mathcal{I}_Y}((X, \phi), (X', \phi'))
&
=
&
\{
f : X \to X' \text{ in }\mathcal{C}
\mid
u(f) \circ \phi = \phi'
\}
\end{matrix}
$$
Given $g : Z \to Y$ in $\mathcal{D}$ we get a functor
$\overline{g} : \mathcal{I}_Y \to \mathcal{I}_Z$
by setting $\overline{g}(X,\phi) = (X, \phi \circ g)$
on objects. Given a presheaf $\mathcal{F}$ on $\mathcal{C}$
we obtain a functor
$$
\mathcal{F}_Y : 
\mathcal{I}_Y^{\text{opp}} 
\longrightarrow
\textit{Sets},\ \ 
(X, \phi)
\longmapsto
\mathcal{F}(X).
$$
In other words, $\mathcal{F}_Y$ is a presheaf of sets on $\mathcal{I}_Y$.
Note that we have $\mathcal{F}_Z \circ \overline{g} = \mathcal{F}_Y$.
We define
$$
u_p\mathcal{F}(Y) :=
\text{colim}_{\mathcal{I}_Y}\ \mathcal{F}_Y
$$
As a colimit we obtain for each $(X, \phi) \in \text{Ob}(\mathcal{I}_Y)$
a canonical map $\mathcal{F}(X)\xrightarrow{c(\phi)}u_p\mathcal{F}(Y)$.
For $g : Z \to Y$ as above there is a 
canonical restriction map
$g^* : u_p\mathcal{F}(Y) \to u_p\mathcal{F}(Z)$
compatible with
$\mathcal{F}_Z \circ \overline{g} = \mathcal{F}_Y$
by Categories, Lemma \ref{categories-lemma-functorial-colimit}.
It is the unique map so that for all $(X, \phi) \in \text{Ob}(\mathcal{I}_Y)$
the diagram
$$
\xymatrix{
\mathcal{F}(X) \ar[r]^{c(\phi)} \ar[d]_{\text{id}}
&
u_p\mathcal{F}(Y) \ar[d]^{g^*}
\\
\mathcal{F}(X) \ar[r]^{c(\phi \circ g)}
&
u_p\mathcal{F}(Z)
}
$$
commutes. The uniquess of these maps implies that we obtain a
presheaf. This presheaf will be denoted $u_p\mathcal{F}$.

\begin{lemma}
\label{lemma-recover}
There is a canonical surjective map
$\mathcal{F}(X) \to u_p\mathcal{F}(u(X))$,
which is compatible with restriction maps
(on $\mathcal{F}$ and on $u_p\mathcal{F}$).
\end{lemma}

\begin{proof}
This is clear from the fact that the category
$\mathcal{I}^u_{u(X)}$ has a final object,
namely $(X, \text{id}_{u(X)})$. And a colimit
whose index category has a final object is just the
value of the diagram on this final object quotiented
out by a suitable equivalence relation, see 
Categories, Section \ref{categories-section-limit-sets}.
\end{proof}

\noindent
Note that any map of presheaves $\mathcal{F} \to \mathcal{F}'$
gives rise to compatible systems of maps between functors
$\mathcal{F}_Y \to \mathcal{F}'_Y$, and hence to a map
of presehaves $u_p\mathcal{F} \to u_p\mathcal{F}'$. In other
words, we have defined a functor
$$
u_p : 
\textit{PSh}(\mathcal{C})
\longrightarrow
\textit{PSh}(\mathcal{D})
$$

\begin{lemma}
\label{lemma-adjoints-u}
The functor $u_p$ is a left adjoint to the functor $u^p$.
\end{lemma}

\begin{proof}
Let $\mathcal{G}$ be a presheaf on $\mathcal{D}$ and let
$\mathcal{F}$ be a presheaf on $\mathcal{C}$.
We will show that
$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(u_p \mathcal{F},\mathcal{G})
=
\text{Mor}_{\textit{PSh}(\mathcal{D})}(\mathcal{F}, u^p\mathcal{G})
$
by constructing maps either way. We will leave
it to the reader to verify they are each others inverse.

\medskip\noindent
Given a map $\alpha : u_p \mathcal{F} \to \mathcal{G}$
we get $u^p\alpha : u^p u_p \mathcal{F} \to u^p \mathcal{G}$.
Lemma \ref{lemma-recover} says that there is a (surjective)
map $\mathcal{F} \to u^p u_p \mathcal{F}$. The composition
of the two gives the desired map. (The good thing about this construction
is that it is clearly functorial in everything in sight.)

\medskip\noindent
Conversely, given a map $\beta : \mathcal{F} \to u^p\mathcal{G}$
we get a map $u_p\beta : u_p\mathcal{F} \to u_p u^p\mathcal{G}$.
We claim that the functor $u^p\mathcal{G}_Y$ on $\mathcal{I}_Y$
has a canonical map to the constant functor with value $\mathcal{G}(Y)$.
Namely, for every object $(X, \phi)$ of $\mathcal{I}_Y$,
the value of $u^p\mathcal{G}_Y$ on this object is $\mathcal{G}(u(X))$
which maps to $\mathcal{G}(Y)$ by $\mathcal{G}(\phi) = \phi^* $.
This is a transformation of functors because $\mathcal{G}$ is a functor
itself. This leads to a map $u_p u^p \mathcal{G}(Y) \to \mathcal{G}(Y)$.
Another trivial verification shows that this is functorial in $Y$
leading to a map of presheaves $u_p u^p \mathcal{G} \to \mathcal{G}$.
The composition $u_p\mathcal{F} \to u_p u^p\mathcal{G} \to
\mathcal{G}$ is the desired map.
\end{proof}

















\section{Sites}
\label{section-sites-definitions}

\noindent
Let $\mathcal{C}$ be a category, see
Conventions, Section \ref{conventions-section-categories}. 
In the following the notation $\{U_i \to U\}_{i\in I}$ means that 
$U \in \text{Ob}(\mathcal{C})$, that $I$ is a set and that for each $i\in I$ 
we are given a morphism $U_i \to U$ of $\mathcal{C}$ with target $U$. This
notation suggests an open covering as in topology.

\begin{definition}
\label{definition-site}
A {\it site} is given by a category $\mathcal{C}$ and a set 
$\text{Cov}(\mathcal{C})$ consisting of coverings 
$\{U_i \to U\}_{i \in I}$ satisfying the following axioms
\begin{enumerate}
\item If $V \to U$ is an isomorphism then $\{V \to U\} \in 
\text{Cov}(\mathcal{C})$.
\item If $\{U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$ and for each
$i$ we have $\{V_{ij} \to U_i\}_{j\in J_i} \in \text{Cov}(\mathcal{C})$, then
$\{V_{ij} \to U\}_{i \in I, j\in J_i} \in \text{Cov}(\mathcal{C})$.
\item If $\{U_i \to U\}_{i\in I}\in \text{Cov}(\mathcal{C})$
and $V \to U$ is a morphism of $\mathcal{C}$ then $U_i \times_U V$
exists for all $i$ and
$\{U_i \times_U V \to V \}_{i\in I} \in \text{Cov}(\mathcal{C})$.
\end{enumerate}
\end{definition}

\begin{remark}
\label{remark-no-big-sites}
(On set theoretic issues -- skip on a first reading.)
The main reason for introducing sites is to study the
category of sheaves on a site, because it is the generalization
of the category of sheaves on a topological space that has
been so important in algebraic geometry. In order to avoid thinking
about things like ``class of all classes'' and so on, we will
not allow sites to be ``big'' categories, in contrast to what
we do for categories and $2$-categories.

\medskip\noindent
Suppose that $\mathcal{C}$ is a category and that
$\text{Cov}(\mathcal{C})$ is a proper class of coverings
satisfying (1), (2) and (3) above. We will not allow this as a
site either, mainly because we are going to take limits over coverings.
However, there are several natural
ways to replace $\text{Cov}(\mathcal{C})$ by a set of coverings
or a slightly different structure
that give rise to the same category of sheaves. For example:
\begin{enumerate}
\item In Sets, Section \ref{sets-section-coverings-site}
we show how to use the reflection principle to pick a set of
coverings that gives the same category of sheaves.
\item Another thing we can do is to take the associated topology
(see Definition \ref{definition-topology-associated-site}).
The resulting topology on $\mathcal{C}$ has the same category of sheaves.
Two topologies have the same categories of sheaves if and only if
they are equal, see Theorem \ref{theorem-topology-and-topos}.
A topology on a category is given by a choice of sieves on objects.
The collection of all possible sieves and even all possible 
topologies on $\mathcal{C}$ is a set.
\item We could also slightly modify the
notion of a site, see Remark \ref{remark-shrink-coverings} below, and
end up with a canonical set of coverings which is contained in the
powerset of the set of arrows of $\mathcal{C}$.
\end{enumerate}
Each of these solutions has some minor drawback. For the first, one has
to check that constructions later on do not depend on the choice
of the set of coverings. For the second, one has to learn about topologies
and redo many of the arguments for sites. For the third, see
the last sentence of Remark \ref{remark-shrink-coverings}.

\medskip\noindent
Our approach will be to work with sites as in
Definition \ref{definition-site} above.
And whenever necessary we will replace a given structure by a site
using the reflection principle, e.g., as explained in
Sets, Section \ref{sets-section-coverings-site}.
We leave it to the reader to use
one of the other two strategies to deal with these issues if he/she so
desires.
\end{remark}

\begin{example}
\label{example-site-toplogical}
Let $X$ be a topological space. Let $\mathcal{T}_X$ be the category whose
objects consist of all the open sets $U$ in $X$ and whose morphisms
are just the inclusion maps. That is, there is at most one morphism
between any two objects in $\mathcal{T}_X$. Now define
$\{U_i \to U\}\in \text{Cov}(\mathcal{T}_X)$ if
$\bigcup U_i = U$. Conditions (1) and (2) above are clear, and (3) is also
clear once we realize that in $\mathcal{T}_X$ we have
$U \times V = U \cap V$. We turn $\mathcal{T}_X$ into a site
by choosing a suitable limit ordinal $\alpha$ and using as 
set of coverings $\text{Cov}(\mathcal{T}_X) \cap V_\alpha$,
see Sets, Section \ref{sets-section-coverings-site}.
Presheaves and sheaves (as defined below)
on the site $\mathcal{T}_X$ will agree exactly with the usual notion of
a presheaves and sheaves on a topological space.
\end{example}

\begin{example}
\label{example-site-on-group}
Let $G$ be a group. Consider the category $G\textit{-Sets}$
whose objects are sets $X$ with a left $G$-action, with
$G$-equivariant maps as the morphisms. This category has
fibred product, see Categories, Section
\ref{categories-section-example-fibre-products}.
This is a ``big'' category, so we replace it by a suitable
(large enough) full subcategory $G\textit{-Sets}_\alpha$ which
has a set of objects. (More about this later; see for example Sets,
Section \ref{sets-section-sets-with-group-action} for a suitable
choice.) We declare $\{\varphi_i : U_i \to U\}_{i\in I}$ to be 
a covering if $\bigcup_{i\in I} \varphi_i(U_i) = U$.
Conditions (1), (2), and (3) are easily verified.
This site will be denoted $\mathcal{T}_G$.
\end{example}

















\section{Sheaves}
\label{section-sheaves}

\noindent
Let $\mathcal{C}$ be a site. Before we introduce the notion of
a sheaf with values in a category we explain what it means
for a presheaf of sets to be a sheaf. Let $\mathcal{F}$ be
a presheaf of sets on $\mathcal{C}$ and let
$\{U_i \to U\}_{i\in I}$ be an element of $\text{Cov}(\mathcal{C})$.
By assumption all the fibre products $U_i\times_U U_j$ exist
in $\mathcal{C}$. There are two natural maps
$$
\xymatrix{
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
which we will denote $\text{pr}^*_i$, $i=0,1$ as indicated
in the displayed equation.
Namely, an element of the left hand side corresponds to a
family $(s_i)_{i\in I}$, where each $s_i$ is a section of
$\mathcal{F}$ over $U_i$. For each pair $(i_0, i_1) \in I\times I$
we have the projection morphisms
$$
\text{pr}^{(i_0, i_1)}_{i_0} : 
U_{i_0}\times_U U_{i_1}
\longrightarrow
U_{i_0}
\text{ and }
\text{pr}^{(i_0, i_1)}_{i_1} : 
U_{i_0}\times_U U_{i_1}
\longrightarrow
U_{i_1}.
$$
Thus we may pull back either the section $s_{i_0}$ via
the first of these maps or the section $s_{i_1}$ via the
second. Explicitly the maps we refered to above are
$$
\text{pr}_0^* :
(s_i)_{i\in I}
\longmapsto
\Big(
\text{pr}^{(i_0, i_1), *}_{i_0}(s_{i_0})
\Big)_{(i_0, i_1) \in I\times I}
$$
and
$$
\text{pr}_1^* :
(s_i)_{i\in I}
\longmapsto
\Big(
\text{pr}^{(i_0, i_1), *}_{i_1}(s_{i_1})
\Big)_{(i_0, i_1) \in I\times I}.
$$
Finally consider the natural map
$$
\mathcal{F}(U)
\longrightarrow
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
,\ \ 
s
\longmapsto
(s|_{U_i})_{i \in I}
$$
where we have used the notation $s|_{U_i}$ to indicate the
pullback of $s$ via the map $U_i \to U$. It is clear from the
functorial natural of $\mathcal{F}$ and the commutativity
of the fibre product diagrams that
$\text{pr}_0^*( (s|_{U_i})_{i \in I} ) =
\text{pr}_1^*( (s|_{U_i})_{i \in I} )$.

\begin{definition}
\label{definition-sheaf-sets}
Let $\mathcal{C}$ be a site, and let $\mathcal{F}$ be a presheaf of sets
on $\mathcal{C}$. We say $\mathcal{F}$ is a {\it sheaf} if
for every covering $\{U_i \to U\}_{i \in I} \in \text{Cov}(\mathcal{C})$ 
the diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
represents the first arrow as the equalizer of $\text{pr}_0^*$
and $\text{pr}_1^*$.
\end{definition}

\noindent
Loosely speaking this means that given sections $s_i \in \mathcal{F}(U_i)$
such that
$$
s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}
$$
in $\mathcal{F}(U_i \times_U U_j)$ for all pairs $(i,j) \in I\times I$
then there exists a unique $s \in \mathcal{F}(U)$ such
that $s_i = s|_{U_i}$.

\begin{definition}
\label{definition-category-sheaves-sets}
The category $\textit{Sh}(\mathcal{C})$
of sheaves of sets is the full subcategory of the category
$\textit{PSh}(\mathcal{C})$ whose objects are the sheaves of sets.
\end{definition}

\noindent
Let $\mathcal{A}$ be a category. If products indexed by $I$, and
$I\times I$ exist in $\mathcal{A}$ for any $I$ that occurs as an index
set for covering families then Definition \ref{definition-sheaf-sets}
above makes sense, and defines a notion of a sheaf on $\mathcal{C}$
with values in $\mathcal{A}$. Note that the diagram in $\mathcal{A}$
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
is an equalizer diagram if and only if for every object $X$ of
$\mathcal{A}$ the diagram of sets
$$
\xymatrix{
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U)) \ar[r]
&
\prod
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U_i))
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U_{i_0}\times_U U_{i_1}))
}
$$
is an equalizer diagram.

\medskip\noindent
Suppose $\mathcal{A}$ is arbitrary.
Let $\mathcal{F}$ be a presheaf with values in $\mathcal{A}$.
Choose any object $X\in \text{Ob}(\mathcal{A})$.
Then we get a presheaf of sets $\mathcal{F}_X$ defined
by the rule
$$
\mathcal{F}_X(U) = \text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U)).
$$
From the above it follows that a good definition is
obtained by requiring all the presheaves $\mathcal{F}_X$ to be
sheaves of sets.

\begin{definition}
\label{definition-sheaf}
Let $\mathcal{C}$ be a site, let $\mathcal{A}$ be a category
and let $\mathcal{F}$ be a presheaf on $\mathcal{C}$ with values in
$\mathcal{A}$. We say that $\mathcal{F}$ is a {\it sheaf}
if for all objects $X$ of $\mathcal{A}$ the presheaf of sets
$\mathcal{F}_X$ (defined above) is a sheaf.
\end{definition}













\section{Sheaves on $\mathcal{T}_G$}
\label{section-example-sheaf-G-sets}

\noindent
As an example, consider
the site $\mathcal{T}_G$ of Example \ref{example-site-on-group}.
First we note that $G$ itself is an object in the category
(the action given by left multiplication). As a $G$-set we sometimes
denote it ${}_GG$ if there is any possible confusion.
Next, remark that the map
$$
\text{Hom}_G({}_GG,{}_GG)
\longrightarrow
G^{opp}, 
\varphi
\longmapsto
\varphi(1)
$$
is an isomorphism of groups. The inverse map sends $g \in G$
to the map $R_g : s \mapsto sg$ (i.e.\ right multiplication).
Note that $R_{g_1g_2} = R_{g_2} \circ R_{g_1}$ so the opposite
is necessary.

\medskip\noindent
This implies that for every presheaf $\mathcal{F}$ the value
$\mathcal{F}({}_GG)$ inherets the structure of a $G$-set 
as follows: $g \cdot s$ for $g \in G$ and $s \in \mathcal{F}({}_GG)$
defined by $\mathcal{F}(R_g)(s)$. This is a left action
because $(g_1g_2) \cdot s  = \mathcal{F}(R_{g_1g_2})(s) =
\mathcal{F}(R_{g_2}\circ R_{g_1})(s) = 
\mathcal{F}(R_{g_1})( \mathcal{F}(R_{g_2})(s)) =
g_1 \cdot (g_2 \cdot s)$. Here we've used that $\mathcal{F}$
is contravariant. Note that if $\mathcal{F} \to \mathcal{G}$
is a morphism of presheaves of sets on $\mathcal{T}_G$
then we get a map $\mathcal{F}({}_GG) \to \mathcal{G}({}_GG)$
which is compatible with the $G$-actions we have just defined.
All in all we have constructed a functor
$$
\textit{PSh}(\mathcal{T}_G)
\longrightarrow
G\textit{-Sets},\ \ 
\mathcal{F}
\longmapsto
\mathcal{F}({}_GG).
$$
We leave it to the reader to verify that this construction
has the pleasing property that the representable presheaf
$h_U$ is mapped to something canonically isomorphic to $U$.
In a formula $h_U({}_GG) = \text{Hom}_G({}_GG, U) \cong U$.

\medskip\noindent
Suppose that $S$ is a $G$-set. We define a presheaf
$\mathcal{F}_S$ by the formula\footnote{It may
appear this is the representable presheaf defined by
$S$, but because of set theoretical issues $S$ may not
be an object of $\mathcal{T}_G$.}
$$
\mathcal{F}_S(U)
=
\text{Mor}_{G\textit{-Sets}}(U, S).
$$
This is clearly a presheaf. On the other hand, suppose that
$\{U_i \to U\}_{i\in I}$ is a covering in $\mathcal{T}_G$, in other
words $\sqcup U_i \to U$ is surjective. It is immediately
clear that the map
$$
\mathcal{F}_S(U)
=
\text{Mor}_{G\textit{-Sets}}(U, S)
\longrightarrow
\prod \mathcal{F}_S(U_i)
=
\prod \text{Mor}_{G\textit{-Sets}}(U_i, S)
$$
is injective. And, given a family of $G$-equivariant
maps $s_i : U_i \to S$, such that all the diagrams
$$
\xymatrix{
U_i\times_U U_j \ar[d] \ar[r]
&
U_j \ar[d]^{s_j}
\\
U_i \ar[r]^{s_i}
&
S
}
$$
commute, there is a unique $G$-equivariant map
$s : U \to S$ such that $s_i$ is the composition
$U_i \to U \to S$. Namely, we just define $s(u) = s_i(u_i)$
where $i\in I$ is any index such that there exists some
$u_i \in U_i$ mapping to $u$ under the map $U_i \to U$.
The commutativity of the diagrams above implies exactly
that this construction is well defined. All in all we have
constructed a functor
$$
G\textit{-Sets}
\longrightarrow
\textit{Sh}(\mathcal{T}_G),\ \ 
S
\longmapsto
\mathcal{F}_S
.
$$

\medskip\noindent
We now have the following diagram of categories and functors
$$
\xymatrix{
\textit{PSh}(\mathcal{T}_G) \ar[rr]^{\mathcal{F} \mapsto \mathcal{F}({}_GG)}
&
&
G\textit{-Sets} \ar[ld]_{S \mapsto \mathcal{F}_S}
\\
&
\textit{Sh}(\mathcal{T}_G) \ar[lu]
&
}
$$
It is immediate from the definitions that $\mathcal{F}_S({}_GG)
= \text{Mor}_G({}_GG, S) = S$, the last map by evaluation at $1$.
This almost proves the following.

\begin{proposition}
\label{propostion-sheaves-on-group}
The functors $\mathcal{F} \mapsto \mathcal{F}({}_GG)$
and $S \mapsto \mathcal{F}_S$ define quasi-inverse 
equivalences between $\textit{Sh}(\mathcal{T}_G)$
and $G\textit{-Sets}$.
\end{proposition}

\begin{proof}
We have already seen that composing the functors one way around
is isomorphic to the identity functor.
In the other direction, for any sheaf $\mathcal{H}$ there is a natural 
map of sheaves
$$
can :
\mathcal{H}
\longrightarrow
\mathcal{F}_{\mathcal{H}({}_GG)}.
$$
Namely, for any object $U$ of $\mathcal{T}_G$ we let $can_U$
be the map
$$
\begin{matrix}
\mathcal{H}(U)
&
\longrightarrow
&
\mathcal{F}_{\mathcal{H}({}_GG)}(U)
=
\text{Mor}_G(U, \mathcal{H}({}_GG))
\\
s 
&
\longmapsto
&
(u \mapsto \alpha_u^*s).
\end{matrix}
$$
Here $\alpha_u : {}_GG \to U$ is the map
$\alpha_u(g) = gu$ and $\alpha_u^* : \mathcal{H}(U)
\to \mathcal{H}({}_GG)$ is the pullback map. A trivial
but confusing verification shows that this is indeed a map
of presheaves. We have to show that $can$ is an isomorphism.
We do this by showing $can_U$ is an isomorphism for all $U
\in \text{ob}(\mathcal{T}_G)$. We leave the (important but
easy) case that $U = {}_GG$ to the reader.
A general object $U$ of $\mathcal{T}_G$ is a disjoint union of
$G$-orbits: $U = \coprod O_i$. This is a covering in
$\mathcal{T}_G$. It is easy to see that the sheaf property
implies $\mathcal{G}(U) = \prod \mathcal{G}(O_i)$ for any sheaf
$\mathcal{G}$. Hence it suffices to show that $can_U$ is an
isomorphism when $U$ consists of a single $G$-orbit. Let $u \in U$
and let $H \subset G$ be its stabilizer. Clearly,
$\text{Mor}_G(U, \mathcal{H}({}_GG)) = \mathcal{H}({}_GG)^H$
equals the subset of $H$-invariant elements. On the other hand
consider the covering $\{{}_GG \to U\}$ given by $g \mapsto
gu$. Note that the fibre product $({}_GG)\times_U ({}_GG)$
is equal to $\{(g, gh), g\in G, h\in H\} \cong \prod_{h\in H}
{}_GG$. Hence the sheaf property for this covering reads
as 
$$
\xymatrix{
\mathcal{H}(U) \ar[r]
&
\mathcal{H}({}_GG)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod_{h \in H}
\mathcal{H}({}_GG).
}
$$
Now the two maps $\text{pr}_i^*$ into the factor
$\mathcal{H}({}_GG)$ differ by multiplication by $h$.
Now the result follows from this and the fact that $can$
is an isomorphism for $U={}_GG$.
\end{proof}




















\section{Sheafification}
\label{section-sheafification}

\noindent
In order to define the sheafification we study the zeroth
Cech cohomology group of a covering and its functoriality
properties.

\begin{definition}
\label{definition-morphism-coverings}
Let $\mathcal{C}$ be a site. A {\it morphism of coverings} of
$\mathcal{C}$ from  $\mathcal{U}=\{U_i \to U\}_{i\in I}$ to
$\mathcal{V}=\{V_j \to V\}_{j\in J}$ is given by a morphism
$U \to V$, a map of sets $\alpha : I \to J$ and for each $i\in I$
a morphism $U_i \to V_{\alpha(i)}$ such that the diagram
$$
\xymatrix{
U_i \ar[r] \ar[d]
&
V_{\alpha(i)} \ar[d]
\\
U \ar[r]
&
V
}
$$
is commutative. In the special case that $U=V$ and $U\to V$ is the identity
we call $\mathcal{U}$ a {\it refinement} of the covering $\mathcal{V}$.
\end{definition}

\noindent
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$, and let
$\mathcal{U}$ be a covering in $\mathcal{C}$ as above. Let us use the
notation $\mathcal{F}(\mathcal{U})$ to indicate the equalizer
$$
H^0(\mathcal{U}, \mathcal{F})
=
\{
(s_i)_{i\in I} \in \prod\nolimits_i \mathcal{F}(U_i)
\mid
s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}\ 
\forall i,j \in I
\}.
$$
As we will see later, this is the zeroth Cech cohomology
of $\mathcal{F}$ over $U$ with respect to the covering $\mathcal{U}$.
There is a canonical map $\mathcal{F}(U) \to H^0(\mathcal{U}, \mathcal{F})$.
It is clear that a morphism of coverings $\mathcal{U} \to \mathcal{V}$
induces commutative diagrams
$$
\xymatrix{
& U_i \ar[rr] & & V_{\alpha(i)} \\
U_i \times_U U_j \ar[rr] \ar[ur] \ar[dr] & & 
V_{\alpha(i)}\times_V V_{\alpha(j)} \ar[ur] \ar[dr] & \\
& U_j \ar[rr] & & V_{\alpha(j)}
}.
$$
This in turn produces a map $H^0(\mathcal{V}, \mathcal{F}) \to 
H^0(\mathcal{U}, \mathcal{F})$, compatible with the map $\mathcal{F}(V) 
\to \mathcal{F}(U)$. 

\medskip\noindent
By construction, a presheaf $\mathcal{F}$ is a sheaf if and only if for
every covering $\mathcal{U}$ of $\mathcal{C}$ the natural map
$\mathcal{F}(U) \to H^0(\mathcal{U}, \mathcal{F})$ is bijective.
We will use this notion to prove the following
simple lemma about limits of sheaves.

\begin{lemma}
\label{lemma-limit-sheaf}
Let $\mathcal{F} : \mathcal{I} \to \textit{Sh}(\mathcal{C})$
be a diagram. Then $\text{lim}_{\mathcal{I}} \mathcal{F}$ exists
and is equal to the limit in the category of presheaves.
\end{lemma}

\begin{proof}
Let $\lim_i \mathcal{F}_i$ be the limit as a presheaf.
We will show that this is a sheaf and then it will trivially follow
that it is a limit in the category of sheaves. To prove the sheaf
property, let $\mathcal{V} = \{V_j \to V\}_{j\in J}$ be a covering.
Let $(s_j)_{j\in J}$ be an element of $H^0(\mathcal{V}, \lim_i \mathcal{F}_i)$. 
Using the projection maps we get elements $(s_{j,i})_{j\in J}$
in $H^0(\mathcal{V}, \mathcal{F}_i)$. By the sheaf poperty for
$\mathcal{F}_i$ we see that there is a unique $s_i \in \mathcal{F}_i(V)$
such that $s_{j, i} = s_i|_{V_j}$. Let $\phi : i \to i'$ be a morphism
of the index category. We would like to show that
$\mathcal{F}(\phi) : \mathcal{F}_i \to \mathcal{F}_{i'}$
maps $s_i$ to $s_{i'}$. We know this is true for the sections
$s_{i,j}$ and $s_{i',j}$ for all $j$ and hence by the sheaf property
for $\mathcal{F}_{i'}$ this is true. At this point we have an
element $s = (s_i)_{i \in \text{Ob}(\mathcal{I})}$ of
$(\lim_i \mathcal{F}_i)(V)$. We leave it to the reader to see
this element has the required property that $s_j = s|_{V_j}$.
\end{proof}

\noindent
Let $\mathcal{J}_U$ be the category of all coverings of $U$.
In other words, the objects of $\mathcal{J}_U$ are the coverings
of $U$ in $\mathcal{C}$, and the morphisms are the refinements.
Note that $\text{Ob}(\mathcal{J}_U)$ is not empty since 
$\{\text{id}_U\}$ is an object of it. According to the remarks
above the construction $\mathcal{U} \mapsto H^0(\mathcal{U}, \mathcal{F})$
is a contravariant functor on $\mathcal{J}_U$.
We define
$$
\mathcal{F}^{+}(U)
=
\text{colim}_{\mathcal{J}_U^{\text{opp}}}
H^0(\mathcal{U}, \mathcal{F})
$$
See Categories, Section \ref{categories-section-limits} for
a discussion of limits and colimits. We point out that later
we will see that $\mathcal{F}^{+}(U)$ is the zeroth Cech
cohomology of $\mathcal{F}$ over $U$.

\medskip\noindent
Before we say more about the structure of the colimit, we turn
the collection of sets
$\mathcal{F}^{+}(U)$, $U \in \text{Ob}(\mathcal{C})$
into a presheaf. Namely, let $V \to U$ be a morphism of $\mathcal{C}$.
By the axioms of a site there is a functor\footnote{This construction
actually involves a choice of the fibre products $U_i\times_U V$
and hence the axiom of choice. The resulting map does not depend on
the choices made, see below.}
$$
\mathcal{J}_U
\longrightarrow
\mathcal{J}_V,\ \ 
\{U_i \to U\} 
\longmapsto
\{U_i \times_U V \to V\}.
$$
Note that the projection maps furnish a functorial 
morphism of coverings $\{U_i \times_U V \to V\} \to \{U_i \to U\}$
and hence, by the construction above, a functorial map of sets
$H^0(\{U_i \to U\}, \mathcal{F}) \to
H^0(\{U_i \times_U V \to V\}, \mathcal{F})$.
In other words, there is a transformation of functors
from $H^0(-,\mathcal{F}) : \mathcal{J}_U \to \textit{Sets}$
to the compostion $\mathcal{J}_U \to \mathcal{J}_V
\xrightarrow{H^0(-,\mathcal{F})} \textit{Sets}$. Hence by
generalities of colimits we obtain a canonical map
$\mathcal{F}^+(U) \to \mathcal{F}^+(V)$. In terms of the description
of the set $\mathcal{F}^+(U)$ above, it just takes the element
associated with $s = (s_i) \in H^0(\{U_i \to U\}, \mathcal{F})$ to the
element associated with $(s_i|_{V\times_U U_i})
\in H^0(\{U_i \times_U V \to V\}, \mathcal{F})$.

\begin{lemma}
\label{lemma-plus-presheaf}
The constructions above define a presheaf 
$\mathcal{F}^+$ together with a canonical
map of presheaves $\mathcal{F} \to \mathcal{F}^+$.
\end{lemma}

\begin{proof}
All we have to do is to show that given morphisms
$W \to V \to U$ the composition $\mathcal{F}^+(U)
\to \mathcal{F}^+(V) \to \mathcal{F}^+(W)$
equals the map $\mathcal{F}^+(U) \to \mathcal{F}^+(W)$.
This can be shown directly by verifying that, given
a covering $\{U_i \to U\}$ and
$s = (s_i) \in H^0(\{U_i \to U\}, \mathcal{F})$, 
we have canonically
$W \times_U U_i \cong W \times_V (V \times_U U_i)$,
and
$s_i|_{W \times_U U_i}$
corresponds to
$(s_i|_{V \times_U U_i})|_{W \times_V (V \times_U U_i)}$
via this isomorphism. More indirectly, the result of
Lemma \ref{lemma-independent-refinement} shows that
we may pullback an element $s$ as above via any morphism
from any covering of $W$ to $\{U_i \to U\}$
and we will always end up with the same element in 
$\mathcal{F}^+(W)$.
\end{proof}

\begin{lemma}
\label{lemma-plus-functorial}
The association $\mathcal{F} \mapsto 
(\mathcal{F} \to \mathcal{F}^+)$
is a functor.
\end{lemma}

\begin{proof}
Instead of proving this we state exactly what needs to be proven.
Let $\mathcal{F} \to \mathcal{G}$ be a map of presehaves. Prove
the commutativity of:
$$
\xymatrix{
\mathcal{F} \ar[r] \ar[d]
&
\mathcal{F}^{+} \ar[d]
\\
\mathcal{G} \ar[r]
&
\mathcal{G}^{+}
}
$$
\end{proof}

\noindent
The next two lemmas imply that the colimits above are directed.

\begin{lemma}
\label{lemma-common-refinement}
Given a pair of coverings $\{U_i \to U\}$
and $\{V_j \to U\}$ of a given object $U$ of the site
$\mathcal{C}$, there exists a covering which is a 
common refinement.
\end{lemma}

\begin{proof}
Since $\mathcal{C}$ is a site we have that for every $i$ the
family $\{V_j \times_U U_i \to U_i\}_j$ is a covering.
And, then another axiom implies that $\{V_j \times_U U_i \to U\}_{i,j}$
is a covering of $U$. Clearly this covering refines both given
coverings.
\end{proof}

\begin{lemma}
\label{lemma-independent-refinement}
Any two morphisms $f,g: \mathcal{U} \to \mathcal{V}$ of coverings
inducing the same morphism $U \to V$ induce the same
map $H^0(\mathcal{V}, \mathcal{F}) \to  H^0(\mathcal{U}, \mathcal{F})$.
\end{lemma}

\begin{proof}
Let $\mathcal{U}=\{U_i \to U\}_{i\in I}$ and 
$\mathcal{V}=\{V_j \to V\}_{j\in J}$.
The morphism $f$ consists of a map $U\to V$, a map $\alpha\colon I\to J$ and
maps $f_i\colon U_i\to V_{\alpha(i)}$.
Likewise, $g$~determines a map $\beta\colon I\to J$ and maps
$g_i\colon U_i\to V_{\beta(i)}$.
As $f$ and $g$ induce the same map $U\to V$, the diagram
$$
\xymatrix{
&
V_{\alpha(i)} \ar[dr]
\\
U_i \ar[ur]^{f_i} \ar[dr]_{g_i}
&
&
V
\\
&
V_{\beta(i)} \ar[ur]
}
$$
is commutative for every $i\in I$. Hence $f$ and $g$ factor through 
the fibre product
$$
\xymatrix{
&
V_{\alpha(i)}
\\
U_i \ar[r]^-\varphi \ar[ur]^{f_i} \ar[dr]_{g_i}
&
V_{\alpha(i)}\times_VV_{\beta(i)} \ar[u]_{\text{pr}_1} \ar[d]^{\text{pr}_2}
\\
&
V_{\beta(i)}.
}
$$
Now let $s = (s_j)_j \in H^0(\mathcal{V}, \mathcal{F})$.
Then for all $i\in I$:
$$
(f^*s)_i
=
f_i^*(s_{\alpha(i)})
=
\varphi^*\text{pr}_1^*(s_{\alpha(i)})
=
\varphi^*\text{pr}_2^*(s_{\beta(i)})
=
g_i^*(s_{\beta(i)})
=
(g^*s)_i,
$$
where the middle equality is given by the definition 
of $H^0(\mathcal{V}, \mathcal{F})$.
This shows that the maps
$H^0(\mathcal{V}, \mathcal{F}) \to H^0(\mathcal{U}, \mathcal{F})$
induced by $f$ and $g$ are equal.
\end{proof}

\begin{remark}
\label{remark-both-refine-same-H0}
In particular this lemma shows that if $\mathcal{U}$ is
a refinement of $\mathcal{V}$, and if $\mathcal{V}$ is a 
refinement of $\mathcal{U}$, then there is a canonical
identification $H^0(\mathcal{U}, \mathcal{F}) = 
H^0(\mathcal{V}, \mathcal{F})$.
\end{remark}

\noindent
From these two lemmas it follows that the diagram
$H^0(-,\mathcal{F}) : \mathcal{J}_U^{\text{opp}}
\to \textit{Sets}$ is directed. Hence, by Categories,
Section \ref{categories-section-limit-sets}
the colimit $\mathcal{F}^{+}(U)$ may be described
in the following straightforward manner. Namely, every element in the set
$\mathcal{F}^{+}(U)$ arises from an element
$s \in H^0(\mathcal{U}, \mathcal{F})$ for some covering
$\mathcal{U}$ of $U$. Given a second element $s' \in
H^0(\mathcal{U}', \mathcal{F})$ then $s$ and $s'$ determine
the same element of the colimit if and only if there exists a covering
$\mathcal{V}$ of $U$ and refinements $f : \mathcal{V} \to \mathcal{U}$ and
$f' : \mathcal{V} \to \mathcal{U}'$ such that $f^*s = (f')^*s'$
in $H^0(\mathcal{V}, \mathcal{F})$. Since the trivial covering
$\{\text{id}_U\}$ is an object of $\mathcal{J}_U$ we get
a canonical map $\mathcal{F}(U) \to \mathcal{F}^+(U)$.

\begin{lemma}
\label{lemma-plus-surjective}
The map $\theta : \mathcal{F} \to \mathcal{F}^+$ has the following
property: For every object $U$ of $\mathcal{C}$ and every section
$s \in \mathcal{F}^+(U)$ there exists a covering $\{U_i \to U\}$
such that $s|_{U_i}$ is in the image of $\theta: \mathcal{F}(U_i)
\to \mathcal{F}^{+}(U_i)$.
\end{lemma}

\begin{proof}
Namely, let $\{U_i \to U\}$ be a covering such that $s$ arises
from the element $(s_i) \in H^0(\{U_i \to U\}, \mathcal{F})$.
According to Lemma \ref{lemma-independent-refinement} we may
consider the covering $\{U_i \to U_i\}$ and the (obvious) morphism
of coverings $\{U_i \to U_i\} \to \{U_i \to U\}$ to compute the
pullback of $s$ to an element of $\mathcal{F}^+(U_i)$. And indeed,
using this covering we get exactly $\theta(s_i)$ for the restriction
of $s$ to $U_i$.
\end{proof}

\begin{definition}
\label{definition-separated}
We say that a presheaf of sets $\mathcal{F}$ on a site
$\mathcal{C}$ is {\it separated} if, for all coverings
of $\{U_i \rightarrow U\}$, the map
$\mathcal{F}(U) \to \prod \mathcal{F}(U_i)$ is injective.
\end{definition}

\begin{theorem}
\label{theorem-plus}
With $\mathcal{F}$ as above
\begin{enumerate}
\item The presheaf $\mathcal{F}^+$ is separated.
\label{sep}
\item If $\mathcal{F}$ is separated, then $\mathcal{F}^+$ is a sheaf
and the map of presheaves $\mathcal{F} \to \mathcal{F}^+$ is injective.
\label{sheaf}
\item If $\mathcal{F}$ is a sheaf, then $\mathcal{F} \to \mathcal{F}^+$
is an isomorphism.
\label{plus-iso}
\item The presheaf $\mathcal{F}^{++}$ is always a sheaf.
\label{plusplus}
\end{enumerate}
\end{theorem}

\begin{proof}
Proof of (\ref{sep}).
Suppose that $s, s' \in \mathcal{F}^+(U)$ and suppose that
there exists some covering $\{U_i \to U\}$ such that
$s|_{U_i} = s'|_{U_i}$ for all $i$. We now have three coverings
of $U$: the covering $\{U_i \to U\}$ above, a covering $\mathcal{U}$
for $s$ as in Lemma \ref{lemma-plus-surjective},
and a similar covering $\mathcal{U}'$ for $s'$. By Lemma
\ref{lemma-common-refinement}, we can find a common refinement,
say $\{W_j \to U\}$. This means we have $s_j, s'_j \in \mathcal{F}(W_j)$
such that $s|_{W_j} = \theta(s_j)$, similarly for $s'|_{W_j}$, and
such that $\theta(s_j) = \theta(s'_j)$. This last equality means
that there exists some covering $\{W_{jk} \to W_j\}$ such that
$s_j|_{W_{jk}} = s'_j|_{W_{jk}}$. Then since $\{W_{jk} \to U\}$
is a covering we see that $s,s'$ map to the same element of
$H^0(\{W_{jk} \to U\}, \mathcal{F})$ as desired.

\medskip\noindent
Proof of (\ref{sheaf}). It is clear that $\mathcal{F} \to
\mathcal{F}^+$ is injective because all the maps
$\mathcal{F}(U) \to H^0(\mathcal{U}, \mathcal{F})$
are injective. It is also clear that, if $\mathcal{U} \to 
\mathcal{U}'$ is a refinement, then $H^0(\mathcal{U}', \mathcal{F})
\to H^0(\mathcal{U}, \mathcal{F})$ is injective. Now,
suppose that $\{U_i \to U\}$ is a covering, and let
$(s_i)$ be a family of elements of $\mathcal{F}^+(U_i)$
satisfying the sheaf condition
$s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}$
for all $i,j \in I$. Choose coverings (as in
Lemma \ref{lemma-plus-surjective}) $\{U_{ij} \to U_i\}$
such that $s_i|_{U_{ij}}$ is the image of the (unique)
element $s_{ij} \in \mathcal{F}(U_{ij})$. The sheaf condition
implies that $s_{ij}$ and $s_{i'j'}$ agree over
$U_{ij} \times_U U_{i'j'}$ because it maps to
$U_i \times_U U_{i'}$ and we have the equality there.
Hence $(s_{ij}) \in H^0(\{U_{ij} \to U\}, \mathcal{F})$
gives rise to an element $s \in \mathcal{F}^+(U)$. We leave 
it to the reader to verify that $s|_{U_i} = s_i$. 

\medskip\noindent
Proof of (\ref{plus-iso}). This is immediate from the definitions
because the sheaf property says exactly that every map
$\mathcal{F} \to H^0(\mathcal{U}, \mathcal{F})$ is bijective
(for every covering $\mathcal{U}$ of $U$).

\medskip\noindent
Statement (\ref{plusplus}) is now obvious.
\end{proof}

\begin{definition}
\label{definition-associated-sheaf}
Let $\mathcal{C}$ be a site and let $\mathcal{F}$ be a presheaf
of sets on $\mathcal{C}$. The sheaf $\mathcal{F}^\# := \mathcal{F}^{++}$
together with the canonical map $\mathcal{F} \to \mathcal{F}^\#$
is called {\it the sheaf associated to $\mathcal{F}$}.
\end{definition}

\begin{proposition}
\label{proposition-sheafification-adjoint}
The canonical map $\mathcal{F} \to \mathcal{F}^\#$ has the
following universal property: For any map $\mathcal{F} \to \mathcal{G}$,
where $\mathcal{G}$ is a sheaf of sets, there is a unique map
$\mathcal{F}^\# \to \mathcal{G}$ such that $\mathcal{F} \to \mathcal{F}^\#
\to \mathcal{G}$ equals the given map.
\end{proposition}

\begin{proof}
By Lemma \ref{lemma-plus-functorial} we get a commutative diagram
$$
\xymatrix{
\mathcal{F} \ar[r] \ar[d]
&
\mathcal{F}^{+} \ar[r] \ar[d]
&
\mathcal{F}^{++} \ar[d]
\\
\mathcal{G} \ar[r]
&
\mathcal{G}^{+} \ar[r]
&
\mathcal{G}^{++}
}
$$
and by Theorem \ref{theorem-plus} the lower horizontal maps 
are isomorphisms. The uniqueness follows from Lemma
\ref{lemma-plus-surjective} which says that every section of
$\mathcal{F}^\#$ locally comes from sections of $\mathcal{F}$.
\end{proof}

\noindent
It is clear from this result that the functor $\mathcal{F}
\mapsto (\mathcal{F} \to \mathcal{F}^\#)$ is unique
up to unique isomorphism of functors. Actually, let us temporarily
denote $i : \textit{Sh}(\mathcal{C}) \to \textit{PSh}(\mathcal{C})$
the functor of inclusion. The result above actually says that
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, i(\mathcal{G}))
=
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}^\#, \mathcal{G}).
$$
In other words, the functor of sheafification is the left adjoint
to the inclusion functor $i$. We finish this section with a couple
of lemmas.

\begin{lemma}
\label{lemma-colimit-sheaves}
Let $\mathcal{F} : \mathcal{I} \to \textit{Sh}(\mathcal{C})$
be a diagram. Then $\text{colim}_{\mathcal{I}} \mathcal{F}$ exists
and is the sheafification of the colimit in the category of presheaves.
\end{lemma}

\begin{proof}
Since the sheafification functor is a left adjoint it commutes 
with all colimits, see Categories,
Lemma \ref{categories-lemma-adjoint-exact}.
Hence, since $\textit{PSh}(\mathcal{C})$ has colimits, we deduce
that $\textit{Sh}(\mathcal{C})$ has colimits (which are the
sheafifications of the colimits in presheaves). 
\end{proof}

\begin{lemma}
\label{lemma-sheafification-exact}
The functor $\mathcal{F} \mapsto \mathcal{F}^\#$ is exact.
\end{lemma}

\begin{proof}
Since it is a left adjoint it is right exact, see 
Categories, Lemma \ref{categories-lemma-exact-adjoint}.
On the other hand, by Lemmas \ref{lemma-common-refinement}
and Lemma \ref{lemma-independent-refinement} the limits
in the construction of $\mathcal{F}^+$ are really over the
directed category $\overline{\mathcal{J}}_U$ which has
the same objects as $\mathcal{J}_U$ but just one morphisms
$\mathcal{U} \to \mathcal{U}'$ when $\mathcal{U}$
is a refinement of $\mathcal{U}'$. Hence by 
Categories, Lemma \ref{categories-lemma-directed-commutes} 
we see that $\mathcal{F} \to \mathcal{F}^+$ commutes
with finite limits (as a functor from presheaves to
presheaves). Then we conclude using Lemma 
\ref{lemma-limit-sheaf}.
\end{proof}

\begin{lemma}
\label{lemma-sections-sheafification}
Let $\mathcal{C}$ be a site.
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$.
Denote $\theta^2 : \mathcal{F} \to \mathcal{F}^\#$ the canonical
map of $\mathcal{F}$ into its sheafification.
Let $U$ be an object of $\mathcal{C}$.
Let $s \in \mathcal{F}^\#(U)$. There exists
a covering $\{U_i \to U\}$ and sections
$s_i \in \mathcal{F}(U_i)$ such that
\begin{enumerate}
\item $s|_{U_i} = \theta^2(s_i)$, and
\item for every $i, j$ there exists a covering
$\{U_{ijk} \to U_i \times_U U_j\}$ of $\mathcal{C}$ such that
the pullback of $s_i$ and $s_j$ to each $U_{ijk}$ agree.
\end{enumerate}
Conversely, given any covering $\{U_i \to U\}$, elements
$s_i \in \mathcal{F}(U_i)$ such that (2) holds, then there
exists a unique section $s \in \mathcal{F}^\#(U)$ such
that (1) holds.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


















\section{Injective and surjective maps of sheaves}
\label{section-sheaves-injective}

\begin{definition}
\label{definition-sheaves-injective-surjective}
Let $\mathcal{C}$ be a site, and let $\varphi : \mathcal{F}
\to \mathcal{G}$ be a map of sheaves of sets.
\begin{enumerate}
\item We say that $\varphi$ is {\it injective} if for every object
$U$ of $\mathcal{C}$ the map $\varphi : \mathcal{F}(U)
\to \mathcal{G}(U)$ is injective.
\item We say that $\varphi$ is {\it surjective} if for every object
$U$ of $\mathcal{C}$ and every section $s\in \mathcal{F}(U)$
there exists a covering $\{U_i \to U\}$ such that for
all $i$ the restriction $s|_{U_i}$ is in the image of
$\varphi : \mathcal{F}(U_i) \to \mathcal{G}(U_i)$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-mono-epi-sheaves}
The injective (resp.\ surjective) maps defined above
are exactly the monomorphisms (resp.\ epimorphisms) of
the category $\textit{Sh}(\mathcal{C})$. A map of sheaves
is an isomorphism if and only if it is both injective
and surjective.
\end{lemma}

\begin{proof}
FIXME.
\end{proof}



















\section{Representable sheaves}
\label{section-representable-sheaves}

\noindent
Let $\mathcal{C}$ be a category. The canonical topology is
the finest topology such that all representable presheaves
are sheaves (it is formally defined in
Definition \ref{definition-canonical-topology} but we will not
need this).
This topology is not always the topology associated to the
structure of a site on $\mathcal{C}$.
We will give a collection of coverings that generates this topology
in case $\mathcal{C}$ has fibered products. First we give
the following general definition.

\begin{definition}
\label{definition-universal-effective-epimorphisms}
Let $\mathcal{C}$ be a category.
We say that $\{U_i \to U\}$ is a {\it family of universal
effective epimorphisms} if all the morphisms $U_i\to U$ 
are representable (see
Categories, Definition \ref{categories-definition-representable-morphism}),
and for any $X\in \text{Ob}(\mathcal{C})$
the sequence
$$
\xymatrix{
\text{Mor}_{\mathcal{C}}(U, X) \ar[r]
&
\text{Mor}_{\mathcal{C}}(U_i, X)
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\text{Mor}_{\mathcal{C}}(U_i \times_U U_j, X)
}
$$
is exact, and for any morphism $V \to U$ the base change
$\{U_i\times_U V \to V\}$ satisfies this property as well.
\end{definition}

\noindent
The class of families of universal effective epimorphisms
satisfies the axioms of Definition \ref{definition-site}.
If $\mathcal{C}$ has fibre products, then the associated topology is
the canonical topology. (In this case, to get a site argue as in Sets,
Section \ref{sets-section-coverings-site}.)

\medskip\noindent
Conversely, suppose that $\mathcal{C}$ is a site such that
all representable presheaves are sheaves. Then clearly, all
coverings are families of universal effective epimorphisms.
Thus the following definitions is the ``correct'' one in the
setting of sites.

\begin{definition}
\label{weaker-than-canonical}
We say that {\it the topology on a site $\mathcal{C}$ is
weaker than the canonical topology} if all the coverings
of $\mathcal{C}$ are families of universal effective epimorphisms.
\end{definition}

\begin{definition}
\label{definition-representable-sheaf}
Suppose that the topology on the site $\mathcal{C}$
is weaker than the canonical topology. In this case
we write $\underline{U} = h_U$ for the representable
sheaf associated to the object $U$ of $\mathcal{C}$.
\end{definition}

\noindent
Note that we have in the situation of the definition
$$
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\underline{U}, \mathcal{F})
=
\mathcal{F}(U)
$$
for every sheaf $\mathcal{F}$, since after all the same thing
was true for presheaves. In general (but only rarely) the
presheaves $h_U$ are not sheaves and to get a sheaf you have
to sheafifiy them. In this case it will still be true that
$\text{Mor}_{\textit{Sh}(\mathcal{C})}(h_U^\#, \mathcal{F}) =
\mathcal{F}(U)$ for every sheaf $\mathcal{F}$
by the adjointness property of $\#$.

\medskip\noindent
The next lemma says that, if the topology is weaker than the
canonical topology, every sheaf is made up out of
representable sheaves in a way.

\begin{lemma}
\label{lemma-sheaf-coequalizer-representable}
Let $\mathcal{C}$ be a site.
Let $\mathcal{F}$ be a sheaf of sets.
There exists a diagram of sheaves of sets
$$
\xymatrix{
\mathcal{F}_1
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\mathcal{F}_0 \ar[r]
&
\mathcal{F}}
$$
which represents $\mathcal{F}$ as a coequalizer,
such that $\mathcal{F}_i$, $i=0,1$ are coproducts
of sheaves of the form $h_U^\#$.
\end{lemma}

\begin{proof}
First we show there is an epimorphism $\mathcal{F}_0 \to \mathcal{F}$
of the desired type. Namely, just take
$$
\mathcal{F}_0
=
\coprod\nolimits_{U \in \text{Ob}(\mathcal{C}), s\in \mathcal{F}(U)}
(h_U)^\# \longrightarrow \mathcal{F}
$$
Here the arrow restricted to the component corresponding to
$(U, s)$ maps the element $\text{id}_U \in h_U^\#(U)$
to the section $s \in \mathcal{F}(U)$. This is an epimorphism
according to Lemma \ref{lemma-mono-epi-sheaves} above.
To construct $\mathcal{F}_1$ first set $\mathcal{G}
= \mathcal{F}_0 \times_{\mathcal{F}} \mathcal{F}_0$ and
then construct an epimorphism $\mathcal{F}_1 \to \mathcal{G}$
as above.
\end{proof}


\section{Continuous functors}
\label{section-continuous-functors}

\begin{definition}
\label{definition-continuous}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
A functor $u : \mathcal{C} \to \mathcal{D}$ is called
{\it continuous} if for every
$\{V_i \to V\}_{i\in I} \in \text{Cov}(\mathcal{C})$
we have the following
\begin{enumerate}
\item $\{u(V_i) \to u(V)\}_{i\in I}$ is in $\text{Cov}(\mathcal{D})$, and
\item for any morphism $T \to V$ in $\mathcal{C}$ the morphism
$u(T\times_V V_i) \to u(T) \times_{u(V)} u(V_i)$ is an isomorphism.
\end{enumerate}
\end{definition}

\noindent
Recall that given a functor $u$ as above, and a presheaf of sets
$\mathcal{F}$ on $\mathcal{D}$ we have defined
$u^p\mathcal{F}$ to be simply the presheaf 
$\mathcal{F} \circ u$, in other words
$$
u^p\mathcal{F} (V) = \mathcal{F}(u(V))
$$
for every object $V$ of $\mathcal{C}$.

\begin{lemma}
\label{lemma-pushforward-sheaf}
If $\mathcal{F}$ is a sheaf and $u$ is continuous then
$u^p\mathcal{F}$ is a sheaf as well.
\end{lemma}

\begin{proof}
Let $\{V_i \to V\}$ be a covering. 
By assumption $\{u(V_i) \to u(V)\}$ is a covering
in $\mathcal{D}$ and $u(V_i\times_V V_j) = 
u(V_i)\times_{u(V)}u(V_j)$. Hence the sheaf condition for
$u^p\mathcal{F}$ and the covering $\{V_i \to V\}$
is precisely the same as the sheaf condition for $\mathcal{F}$
and the covering $\{u(V_i) \to u(V)\}$.
\end{proof}

\noindent
In order to avoid confusion we sometimes denote
$$
u^s :
\textit{Sh}(\mathcal{D})
\longrightarrow
\textit{Sh}(\mathcal{C})
$$
the functor $u^p$ restricted to the subcategory of sheaves of sets.

\begin{lemma}
\label{lemma-adjoint-sheaves}
The functor $u_s : \mathcal{G} \mapsto (u_p \mathcal{G})^\#$
is a left adjoint to $u^s$.
\end{lemma}

\begin{proof}
Follows directly from Lemma \ref{lemma-adjoints-u} and
Proposition \ref{proposition-sheafification-adjoint}.
\end{proof}

\begin{remark}
\label{remark-quasi-continuous}
(Skip on first reading.)
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let us
use the definition of tautologically equivalent families of maps,
see Remark \ref{remark-enlarge-coverings} to (slightly) weaken
the conditions defining continuity.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
Let us call $u$ {\it quasi-continuous} if for every
$\mathcal{V} = \{V_i \to V\}_{i\in I} \in \text{Cov}(\mathcal{C})$
we have the following
\begin{enumerate}
\item[(1')] the family of maps
$\{u(V_i) \to u(V)\}_{i\in I}$ is tautologically equivalent
to an element of $\text{Cov}(\mathcal{D})$, and
\item[(2)] for any morphism $T \to V$ in $\mathcal{C}$ the morphism
$u(T\times_V V_i) \to u(T) \times_{u(V)} u(V_i)$ is an isomorphism.
\end{enumerate}
We are going to see that Lemmas \ref{lemma-pushforward-sheaf}
and \ref{lemma-adjoint-sheaves} hold in case
$u$ is quasi-continuous as well.

\medskip\noindent
We first remark that the morphisms $u(V_i) \to u(V)$ are representable, since
they are isomorphic to representable morphisms (by the first condition).
In particular, the family $u(\mathcal{V}) = \{u(V_i) \to u(V)\}_{i\in I}$
gives rise to a zeroth Cech cohomology group
$H^0(u(\mathcal{V}), \mathcal{F})$ for any presheaf $\mathcal{F}$ on
$\mathcal{D}$.
Let $\mathcal{U} = \{U_j \to u(V)\}_{j \in J}$ be an element
of $\text{Cov}(\mathcal{D})$ tautologically
equivalent to $\{u(V_i) \to u(V)\}_{i \in I}$. Note that $u(\mathcal{V})$
is a refinement of $\mathcal{U}$ and vice versa. Hence by Remark
\ref{remark-both-refine-same-H0} we see that
$H^0(u(\mathcal{V}), \mathcal{F}) = H^0(\mathcal{U}, \mathcal{F})$.
In particular, if $\mathcal{F}$ is a sheaf, then 
$\mathcal{F}(u(V)) = H^0(u(\mathcal{V}), \mathcal{F})$ because
of the sheaf property expressed in terms of zeroth Cech cohomology
groups. We conclude that $u^p\mathcal{F}$ is a sheaf if $\mathcal{F}$
is a sheaf, since $H^0(\mathcal{V}, u^p\mathcal{F}) =
H^0(u(\mathcal{V}), \mathcal{F})$ which we just observed is
equal to $\mathcal{F}(u(V)) = u^p\mathcal{F}(V)$. Thus Lemma
\ref{lemma-pushforward-sheaf} holds. Lemma \ref{lemma-adjoint-sheaves}
follows immediately.
\end{remark}






\section{Morphisms of sites}
\label{section-morphism-sites}

\begin{definition}
\label{definition-morphism-sites}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
A {\it morphism of sites} $f : \mathcal{D} \to \mathcal{C}$
is given by a continuous functor $u : \mathcal{C} \to \mathcal{D}$
such that the functor $u_s$ is exact.
\end{definition}

\noindent
Notice how the functor $u$ goes in the direction {\it opposite}
the morphism $f$. If $f \leftrightarrow u$ is a morphism of sites
then we use the notation $f^{-1} = u_s$ and $f^* = u^s$.
The functor $f^{-1}$ is called the {\it pullback functor} and
the functor $f_*$ is called the {\it push forward functor}.
As in topology we have the following adjointness property
$$
\text{Mor}_{\textit{Sh}(\mathcal{D})}(f^{-1}\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{G}, f_*\mathcal{F})
$$
The motivation for this definition comes from the following
example.

\begin{example}
\label{example-continuous-map}
Let $f : X  \to Y$ be a continuous map of topological spaces.
Recall that we have sites $\mathcal{T}_X$ and $\mathcal{T}_Y$,
see Example \ref{example-site-toplogical}. Consider the functor
$u : \mathcal{T}_Y \to \mathcal{T}_X$, $V \mapsto f^{-1}(V)$.
This functor is clearly continuous because inverse images of
open coverings are open coverings. (Actually, this depends on how
you chose sets of coverings for $\mathcal{T}_X$ and $\mathcal{T}_Y$.
But in any case the functor is quasi-continuous, see Remark
\ref{remark-quasi-continuous}.)
It is easy to verify that
the functor $u^s$ equals the usual pushforward functor $f_*$
from topology. Hence, since $u_s$ is an adjoint and since
the usual topological pullback functor $f^{-1}$ is an adjoint as well,
we get a canonical isomorphism $f^{-1} \cong u_s$. Since $f^{-1}$
is exact we deduce that $u_s$ is exact. Hence $u$ defines a morphism
of sites $f : \mathcal{T}_X \to \mathcal{T}_Y$, which we may denote
$f$ as well since we've already seen the functors $u_s, u^s$ agree
with their usual notions anyway.
\end{example}

\begin{proposition}
\label{proposition-get-morphism}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let
$u : \mathcal{C} \to \mathcal{D}$ be continuous.
Assume furthermore the following:
\begin{enumerate}
\item the category $\mathcal{C}$ has finite products and
$u$ commutes with them, and
\item the category $\mathcal{C}$ has fibre products and
$u$ commutes with them.
\end{enumerate}
Then $u$ defines a morphism of sites $\mathcal{D} \to
\mathcal{C}$, in other words $u_s$ is exact.
\end{proposition}

\begin{proof} 
This follows from Lemmas \ref{lemma-directed} and
\ref{lemma-directed-morphism} below.
\end{proof}

\begin{lemma}
\label{lemma-directed}
Under the hypotheses of the proposition above the index categories
$(\mathcal{I}^u_Y)^{\text{opp}}$ of
Section \ref{section-functoriality-PSh}
are directed (see
Categories, Definition \ref{categories-definition-directed}).
\end{lemma}

\begin{proof}
Let $\phi_1 : Y \to u(X_1)$ and $\phi_2 : Y \to u(X_2)$ be
in $\text{Ob}(\mathcal{I}_Y)$. By assumption $X_1\times X_2$
exists and $u(X_1\times X_2) = u(X_1)\times u(X_2)$.
Consider the morphism $\phi : Y \to u(X_1\times X_2)$
corresponding to $(\phi_1,\phi_2)$ by the universal property
of products. Clearly the object $\phi : Y \to u(X_1\times X_2)$
maps to both $\phi_1 : Y \to u(X_1)$ and $\phi_2 : Y \to u(X_2)$.

\medskip\noindent
Next, suppose $\phi_1 : Y \to u(X_1)$ and $\phi_2 : Y \to u(X_2)$ are
in $\text{Ob}(\mathcal{I}_Y)$ and we are given two morphisms
$a, b$ from the first to the second in $\mathcal{I}_Y$. By definition
$a$ is a morphism $a : X_1 \to X_2$ such that $u(a) \circ \phi_1 =
\phi_2$ and similarly for $b$. In this case, let 
\begin{equation}
\label{equation-equalizer}
X = (X_1 \times_{a, X_2, b} X_1)
\times_{(pr_1, pr_2), X_1 \times X_1, \Delta} 
X_1
\end{equation}
where $\Delta : X_1 \to X_1\times X_1$ is the diagonal morphism,
and $p_i$ is the projection map.
Let $c : X \to X_1$ be the projection onto the last factor.
The morphism $c : X \to X_1$ is the equalizer of
the maps $a,b : X_1 \to X_2$.
By our assumption that $u$ commutes with fibred products we
see
$$
u(X)
=
(u(X_1) \times_{u(a), u(X_2), u(b)} u(X_1))
\times_{(pr_1, pr_2), u(X_1) \times u(X_1), \Delta} 
u(X_1).
$$
Hence $u(c) : u(X) \to u(X_1)$ is the equalizer of 
$u(a), u(b) : u(X_1) \to u(X_2)$. Thus the relation between
$\phi_1$, $\phi_2$, $a$ and $b$ there is a
morphism $\phi : Y \to u(X)$ such that $u(c) \circ \phi = \phi_1$.
This means in particular that the morphism
$c$ induces a morphism from $\phi : Y \to u(X)$
to $\phi_1 : Y \to u(X_1)$ in $\mathcal{I}_Y$.
By construction it equalizes the morphisms $a$, $b$.
\end{proof}

\begin{lemma}
\label{lemma-directed-morphism}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let
$u : \mathcal{C} \to \mathcal{D}$ be continuous.
Assume all the categories $\mathcal{I}_Y^u$ of
Section \ref{section-functoriality-PSh}
are directed. Then $u$ defines a morphism of sites $\mathcal{D} \to
\mathcal{C}$, in other words $u_s$ is exact.
\end{lemma}

\begin{proof}
Since $u_s$ is the left adjoint of $u^s$ we see that $u_s$ is right
exact, see Categories, Lemma \ref{categories-lemma-exact-adjoint}.
Hence it suffices to show that $u_s$ is left exact. In other words
we have to show that $u_s$ commutes with finite limits.
Because the categories $\mathcal{I}_Y^{\text{opp}}$ are directed
we see that $u_p$ commutes with finite limits, see
Categories, Lemma \ref{categories-lemma-directed-commutes}
(this also uses the description of limits in $\textit{PSh}$,
see Section \ref{section-limits-colimits-PSh}). 
And since sheafification commutes with finite limits as well
(Lemma \ref{lemma-sheafification-exact}) we conclude because
$u_s = \# \circ u_p$.
\end{proof}

\section{Topoi}
\label{section-topoi}

\begin{definition}
\label{definition-topos}
A {\it topos} is the category $\textit{Sh}(\mathcal{C})$ of sheaves
of sets on a site.
\end{definition}

\noindent
We will not define a morphism of topoi. But given a morphism of
sites $f : \mathcal{D} \to \mathcal{C}$ the pair of functors
$(f^{-1}, f_*)$ is an example of a morphism of topi.

\medskip\noindent
The simplest example of a site is perhaps the site whose
category has exactly one object $pt$ and one morphism $\text{id}_{pt}$
and whose only covering is the covering $\{\text{id}_{pt}\}$.
We will simply write $pt$ for this site.
It is clear that the category of sheaves $ = $ the category of
presheaves $ = $ the category of sets.
In a formula $\textit{Sh}(pt) = \textit{Sets}$.

\begin{remark}
\label{remark-pt-topos}
There are many sites that give rise to the topos 
$\textit{Sh}(pt)$. For example, suppose that $S$ is a nonempty
set of sets. Let $\mathcal{S}$ be the category
whose objects are elements of $S$ and whose morphisms
are arbitrary set maps. Assume that $\mathcal{S}$ has
fibre products. For example this
will be the case if $S = \mathcal{P}(\text{infinite set})$
is the power set of any infinite set (exercise in set theory).
Make $\mathcal{S}$ into a site by declaring
surjective families of maps to be coverings (and choose
a suitable sufficiently large set of covering families as in Sets,
Section \ref{sets-section-coverings-site}).
It is a nice exercise to prove that $\textit{Sh}(\mathcal{S})$
is equivalent to the category of sets. If $s \in S$
is a singleton set, then the functor
of evaluation at $s$ gives the equivalence of categories
$\textit{Sh}(\mathcal{S}) \to \textit{Sets}$.
\end{remark}

\section{Sites and points}
\label{section-points}

\noindent
A point of a topos $\textit{Sh}(\mathcal{C})$ is a morphism of
topoi from $\textit{Sh}(pt)$ to $\textit{Sh}(\mathcal{C})$.
We have not defined this notion. Instead, we
define a point of a site in terms of a functor
$u : \mathcal{C} \to \textit{Sets}$. This makes sense because, as
we saw in Remark \ref{remark-pt-topos} a suitable collection of sets
containing $u(\text{Ob}(\mathcal{C}))$ can be turned
into the objects of a site whose category of sheaves is equivalent
to $\textit{Sets}$.

\medskip\noindent
Let $\mathcal{C}$ be a site. Let $p = u$ be
a functor $u : \mathcal{C} \to \textit{Sets}$.
This curious language is introduced because it
seems funny to talk about neighbourhoods of functors;
so we think of a ``point'' $p$ as a geometric thing which
is given by a categorical datum, namely the functor $u$.
The fact that $p$ is actually equal to $u$ does not matter.
A {\it neighbourhood} of $p$ is a pair $(U, x)$ with
$U \in \text{Ob}(\mathcal{C})$ and $x \in u(U)$.
A {\it morphism of neighbourhoods} $(V,y) \to (U,x)$ 
is given by a morphism $\alpha :V \to U$ of $\mathcal{C}$
such that $u(\alpha)(y) = x$. Note that the category of
neighbourhoods isn't a ``big'' category.

\medskip\noindent
We define the {\it stalk} of a presheaf $\mathcal{F}$ at $p$ as
$$
\mathcal{F}_p = \text{colim}_{\{(U,x)\}^{opp}}\ \mathcal{F}(U).
$$
The colimit is over the opposite of the category of
neighbourhoods of $p$. In other words, an element of
$\mathcal{F}_p$ is given by a triple $(U, x, s)$, where
$(U,x)$ is a neighbourhood of $p$ and $s \in \mathcal{F}(U)$. Equality
of triples is the equivalence relation generated by 
$(U, x, s) \sim (V, y, \alpha^*s)$ when $\alpha$ is as above.

\medskip\noindent
Note that if $\varphi : \mathcal{F} \to \mathcal{G}$ is a morphism
of presheaves of sets, then we get a canonical map of stalks
$\varphi_p : \mathcal{F}_p \to \mathcal{G}_p$. Thus we obtain
a {\it stalk functor}
$$
\textit{PSh}(\mathcal{C}) \longrightarrow \textit{Sets},\ 
\mathcal{F} \longmapsto \mathcal{F}_p.
$$
We have defined the stalk functor using any functor
$p = u : \mathcal{C} \to \textit{Sets}$. No conditions are
necessary for the definition to work. On the other hand,
it is probably better not to use this notion unless $p$
actually is a point (see definition below), since in general
the stalk functor does not have good properties.

\begin{definition}
\label{definition-point}
Let $\mathcal{C}$ be a site. A {\it point $p$} of
$\mathcal{C}$ is given by a functor $u : \mathcal{C}
\to \textit{Sets}$ such that
\begin{enumerate}
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ the map
$\coprod u(U_i) \to u(U)$ is surjective.
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ and
every morphism $V \to U$ the maps
$u(U_i \times_U V) \to u(U_i) \times_{u(U)} u(V)$ are bijective.
\item The stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$
is exact.
\end{enumerate}
\end{definition}

\noindent
We will prove some lemmas for general functors $u$.

\begin{lemma}
\label{lemma-points-recover}
Let $\mathcal{C}$ be a site.
Let $p = u : \mathcal{C} \to \textit{Sets}$ be a functor.
There are functorial isomorphisms
$(h_U)_p = u(U)$ for $U \in \text{Ob}(\mathcal{C})$.
\end{lemma}

\begin{proof}
An element of $(h_U)_p$ is given by a triple $(V, y, f)$,
where $V \in \text{Ob}(\mathcal{C})$, $y\in u(V)$ and
$f \in h_U(V) = \text{Mor}_{\mathcal{C}}(V, U)$.
Two such $(V, y, f)$, $(V', y', f')$ determine the same object if
there exists a morphism $\phi : V \to V'$ such that 
$u(\phi)(x) = x'$ and $f' \circ \phi = f$, and in general you have
to take chains of identities like this to get the correct equivalence
relation. In any case, every $(V, y, f)$ is equivalent to
the element $(U, u(f)(y), \text{id}_U)$. If $\phi$ exists as above,
then the triples $(V, y, f)$, $(V', y', f')$ determine the same triple
$(U, u(f)(y), \text{id}_U) = (U, u(f')(y'), \text{id}_U)$.
This proves that the map
$u(U) \to (h_U)_p$, $x \mapsto \text{class of }(U, x, \text{id}_U)$
is bijective.
\end{proof}

\noindent
Let $\mathcal{C}$ be a site. Let $p = u : \mathcal{C} \to \textit{Sets}$
be a functor. In analogy with the constructions in
Section \ref{section-functoriality-PSh} we define a functor
$u^p : \textit{Sets} \to \textit{PSh}(\mathcal{C})$, $S \mapsto u^pS$
where $u^pS$ is the presheaf defined by
the rule $u^pS(U) = \text{Map}(u(U), S)$.

\begin{lemma}
\label{lemma-adjoint-point-push-stalk}
For any functor $\mathcal{C} \to \textit{Sets}$.
The functor $u^p$ is a right adjoint to the stalk functor
on presheaves.
\end{lemma}

\begin{proof}
Let $\mathcal{F}$ be a presheaf on $\mathcal{C}$.
Let $S$ be a set. A morphism $\mathcal{F} \to u^pS$
is given by a compatible system of maps
$\mathcal{F}(U) \to \text{Map}(u(U), S)$, i.e., 
a compatible system of maps $\mathcal{F}(U) \times u(U) \to S$.
And by definition of $\mathcal{F}_p$ a map $\mathcal{F}_p \to S$
is given by a rule associating with each triple $(U, x, \sigma)$
an element in $S$. This also means a compatible system of
maps $\mathcal{F}(U) \times u(U) \to S$.
\end{proof}

\noindent
In analogy with Section \ref{section-continuous-functors}
we have the following lemma.

\begin{lemma}
\label{lemma-point-pushforward-sheaf}
Let $\mathcal{C}$ be a site. Let $p = u : \mathcal{C} \to \textit{Sets}$
be a functor. Suppose that
\begin{enumerate}
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ the map
$\coprod u(U_i) \to u(U)$ is surjective.
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ and
every morphism $V \to U$ the maps
$u(U_i \times_U U_j) \to u(U_i) \times_{u(U)} u(U_j)$ are surjective.
\end{enumerate}
Then we have
\begin{enumerate}
\item the presheaf $u^pS$ is a sheaf for all sets $S$, denote it $u^sS$,
\item the stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$
and the functor $u^s: \textit{Sets} \to \textit{Sh}(\mathcal{C})$ are
adjoint, and
\item we have $\mathcal{F}_p = \mathcal{F}^\#_p$
for every presheaf of sets $\mathcal{F}$.
\end{enumerate}
\end{lemma}

\begin{proof}
The first assertion is immediate from the definition of a sheaf, and the
definition of $u^pS$. The second is a restatement of the adjointness
of $u^p$ and the stalk functor (but now restricted to sheaves). The third
assertion follows as, for any set $S$, we have
$$
\text{Map}(\mathcal{F}_p, S) =
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, u^pS) =
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}^\#, u^sS) =
\text{Map}(\mathcal{F}^\#_p, S)
$$
by the adjointness property of sheafification.
\end{proof}

\noindent
In particular Lemma \ref{lemma-point-pushforward-sheaf}
holds when $p = u$ is a point. In this case we think of the
sheaf $u^sS$ as the ``scyscraper'' sheaf with value $S$ at $p$.

\begin{definition}
\label{definition-pushforward-point}
Let $p$ be a point of the site $\mathcal{C}$ given by the functor $u$.
For a set $S$ we define $p_*S = u^s S$ the sheaf
described in Lemma \ref{lemma-point-pushforward-sheaf} above.
We sometimes call this a {\it skyscraper sheaf}.
\end{definition}

\noindent
In particular we have the following adjointness property
of skyscraper sheaves and stalks:
$$
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}, p_*S)
=
\text{Map}(\mathcal{F}_p, S)
$$
This motivates the notation $p^{-1}\mathcal{F} = \mathcal{F}_p$
which we will sometimes use.

\begin{lemma}
\label{lemma-neighbourhoods-directed}
Let $\mathcal{C}$ be a site. Assume that $\mathcal{C}$ has
products and fibred products. Let $p = u : \mathcal{C} \to \textit{Sets}$
be a functor such that
\begin{enumerate}
\item for every pair of objects $U, V$ of $\mathcal{C}$ the map
$u(U \times V) \to u(U) \times u(V)$ is surjective, and
\item for every pair of morphisms $U \to W$ and $V \to W$ with
the same target the map
$u(U \times_W V) \to u(U) \times_{u(W)} u(V)$ is surjective.
\end{enumerate}
Then the opposite of the category of neighbourhoods of $p$ is directed.
Moreover, the stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$,
$\mathcal{F} \to \mathcal{F}_p$ commutes with finite limits.
\end{lemma}

\begin{proof}
This is shown in exactly the same way as in the proof
of Lemma \ref{lemma-directed} above. Namely, if
$(U, x)$ and $(V, y)$ are neighbourhoods,
then by (1) there exists a neighbourhood $(U\times V, z)$ mapping 
to both of them. Let $a, b : (V, y) \to (U, x)$ be two morphisms
in the category of neighbourhoods. Let $W$ be the equalizer of
$a, b : V \to U$. As in Equation (\ref{equation-equalizer})
we may write $W$ in terms of products and fibre products:
\begin{equation}
W = (V \times_{a, U, b} V) \times_{(pr_1, pr_2), V \times V, \Delta} V
\end{equation}
By assumptions (1) and (2) there exists an element $z \in u(W)$
which maps to $((y, y), y)$.
Then $(W, z) \to (V, y)$ equalizes $a, b$ as desired.

\medskip\noindent
Let $\mathcal{I} \to \textit{Sh}(\mathcal{C})$,
$i \mapsto \mathcal{F}_i$ be a finite diagram of sheaves.
We have to show that the stalk of the limit of this
system agrees with the limit of the stalks.

\medskip\noindent
Let $\mathcal{F}$ be the limit of the system as a {\it presheaf}.
According to Lemma \ref{lemma-limit-sheaf} this is a sheaf and
it is the limit in the category of sheaves.
Hence we have to show that
$\mathcal{F}_p = \text{lim}_{\mathcal{I}} \mathcal{F}_{i, p}$.
Recall also that $\mathcal{F}$ has a simple description, see
Section \ref{section-limits-colimits-PSh}. Thus we have to show that
$$
\text{lim}_{i}\ 
\text{colim}_{\{(U,x)\}^{opp}}\ 
\mathcal{F}_i(U)
=
\text{colim}_{\{(U,x)\}^{opp}}\ 
\text{lim}_{i}\ 
\mathcal{F}_i(U).
$$
This holds, by Categories, Lemma \ref{categories-lemma-directed-commutes},
because we just showed the opposite of the category of neighbourhoods
is directed.
\end{proof}

\begin{proposition}
\label{proposition-point-limits}
Let $\mathcal{C}$ be a site. Assume that finite limits exist
in $\mathcal{C}$. (I.e., $\mathcal{C}$ has fibre products, and a
final object.) A point $p$ of such a site $\mathcal{C}$
is given by a functor $u : \mathcal{C} \to \textit{Sets}$ such that
\begin{enumerate}
\item $u$ commutes with finite limits, and
\item if $\{U_i \to U\}$ is a covering, then
$\coprod_i u(U_i) \to u(U)$ is surjective.
\end{enumerate}
\end{proposition}

\begin{proof}
Suppose first that $p$ is a point (Definition \ref{definition-point})
given by a functor $u$. Condition (2) is satisfied directly from
the definition of a point. By Lemma \ref{lemma-points-recover}
we have $(h_U)_p = u(U)$. By Lemma \ref{lemma-point-pushforward-sheaf}
we have $(h_U^\#)_p = (h_U)_p$. Thus we see that $u$
is equal to the composition of functors
$$
\mathcal{C} \xrightarrow{h}
\textit{PSh}(\mathcal{C}) \xrightarrow{{}^\#}
\textit{Sh}(\mathcal{C}) \xrightarrow{()_p}
\textit{Sets}
$$
Each of these functors is exact, and hence we see $u$ satisfies (1).

\medskip\noindent
Conversely, suppose that $u$ satisfies (1) and (2).
In this case we immediately see that $u$ satisfies the first two
conditions of Definition \ref{definition-point}. And its
stalk functor is exact, because it is a left adjoint by
Lemma \ref{lemma-point-pushforward-sheaf} and it commutes
with limits by Lemma \ref{lemma-neighbourhoods-directed}.
\end{proof}

\begin{remark}
\label{remark-improve-proposition-points-limits}
In fact, let $\mathcal{C}$ be a site. Assume $\mathcal{C}$ has products
and fibre products. Let $p = u: \mathcal{C} \to \textit{Sets}$ be a functor 
such that
\begin{enumerate}
\item for every pair of objects $U, V$ of $\mathcal{C}$ the map
$u(U \times V) \to u(U) \times u(V)$ is surjective, and
\item for every pair of morphisms $U \to W$ and $V \to W$ with
the same target the map
$u(U \times_W V) \to u(U) \times_{u(W)} u(V)$ is surjective.
\item for every covering $\{U_i \to U\}$ the map
$\coprod u(U_i) \to u(U)$ is surjective.
\end{enumerate}
Then $p$ is a point of $\mathcal{C}$. See
Lemma \ref{lemma-point-pushforward-sheaf}
and Lemma \ref{lemma-neighbourhoods-directed}.
So it suffices to prove the surjectivity
when checking that $u$ commutes with products and fibred products.
\end{remark}

\begin{example}
\label{example-point-topological}
Let $X$ be a topological space.
Let $\mathcal{T}_X$ be the site
of Example \ref{example-site-toplogical}.
Let $x \in X$ be a point. Consider the functor
$$
u : \mathcal{T}_X \longrightarrow \textit{Sets},\ 
U \mapsto \left\{
\begin{matrix}
\emptyset & \text{if} & x \not \in U \\
\{x\} & \text{if} & x \in U
\end{matrix}\right.
$$
This functor commutes with product and fibred products,
and turns coverings into surjective families of maps.
Hence we obtain a point $p$ of the site $\mathcal{T}_X$.
It is immediately verified that the stalk functor
agrees with the stalk at $x$ defined in Topology,
Section \ref{sheaves-section-stalks}.
\end{example}

\begin{example}
\label{example-point-G-sets}
Consider the site $\mathcal{T}_G$ described in
Example \ref{example-site-on-group} and
Section \ref{section-example-sheaf-G-sets}.
The forgetful functor $u : \mathcal{T}_G \to \textit{Sets}$
commutes with products and fibred products and turns 
coverings into surjective families. Hence it defines a point
of $\mathcal{T}_G$. We identify $\textit{Sh}(\mathcal{T}_G)$
and $G\textit{-Sets}$. The stalk functor
$$
p^{-1} :
\textit{Sh}(\mathcal{T}_G) = G\textit{-Sets}
\longrightarrow
\textit{Sets}
$$
is the forgetful functor. The pushforward $p_*$ is the
functor
$$
\textit{Sets}
\longrightarrow
\textit{Sh}(\mathcal{T}_G) = G\textit{-Sets}
$$
which maps a set $S$ to the $G$-set $\text{Map}(G, S)$ with
action $g \cdot \psi = \psi \circ R_g$ where $R_g$ is right
multiplication.
\end{example}

\section{Morphisms between points}
\label{section-morphisms-points}

\begin{definition}
\label{definition-morphism-points}
Let $\mathcal{C}$ be a site. Let $p, p'$ be points of $\mathcal{C}$
given by functors $u, u' : \mathcal{C} \to \textit{Sets}$.
A {\it morphism $f : p \to p'$} is given by a transformation of
functors
$$
f_u : u' \to u.
$$
\end{definition}

\noindent
Note how the transformation of functors goes the other way.
This makes sense, as we will see later, by thinking of
the morphism $f$ as a kind of $2$-arrow pictorially as
follows:
$$
\xymatrix{
\textit{Sets}
=
\textit{Sh}(pt)
\rrtwocell^p_{p'}{f}
&
&
\textit{Sh}(\mathcal{C})
}
$$
Namely, we will see later that $f_u$ induces a canonical
transformation of functors $p_* \to p'_*$ between
the skyscraper sheaf constructions.

\medskip\noindent
This is a fairly important notion, and deserves a more complete
treatment here. List of desiderata
\begin{enumerate}
\item Describe the autormorphisms of the point of $\mathcal{T}_G$
described in Example \ref{example-point-G-sets}.
\item Describe $\text{Mor}(p, p')$ in terms of  $\text{Mor}(p_*, p'_*)$.
\item Specialization of points in topological spaces.
Show that if $x' \in \overline{\{x\}}$ in the topological space
$X$, then there is a morphism $p \to p'$, where $p$ (resp.\ $p'$)
is the point of $\mathcal{T}_X$ associated to $x$ (resp.\ $x'$).
\end{enumerate}




\section{Sites with enough points}
\label{section-sites-enough-points}

\begin{definition}
\label{definition-enough-points}
Let $\mathcal{C}$ be a site.
\begin{enumerate}
\item A family of points $\{p_i\}_{i\in I}$ is called {\it conservative}
if for every map of sheaves $\phi : \mathcal{F} \to \mathcal{G}$ 
which is an isomorphism on all the fibres $\mathcal{F}_{p_i} 
\to \mathcal{G}_{p_i}$ is an isomorphism.
\item  We say that $\mathcal{C}$ {\it has enough points}
if there exists a conservative family of points.
\end{enumerate}
\end{definition}

\noindent
It turns out that you can then check ``exactness'' at the stalks.

\begin{lemma}
\label{lemma-exactness-stalks}
Let $\mathcal{C}$ be a site and let $\{p_i\}_{i\in I}$ be a conservative
family of points. Then
\begin{enumerate}
\item Given any map of sheaves $\varphi : \mathcal{F} \to \mathcal{G}$
we have $\forall i, \varphi_{p_i}$ injective implies $\varphi$ injective.
\item Given any map of sheaves $\varphi : \mathcal{F} \to \mathcal{G}$
we have $\forall i, \varphi_{p_i}$ surjective implies $\varphi$ surjective.
\item Given any pair of maps of sheaves
$\varphi_1, \varphi_2 : \mathcal{F} \to \mathcal{G}$
we have $\forall i, \varphi_{1,p_i} = \varphi_{2,p_i}$
implies $\varphi_1 = \varphi_2$.
\item Given a finite diagram $\mathcal{G} : \mathcal{J}
\to \textit{Sh}(\mathcal{C})$, a sheaf $\mathcal{F}$ and morphisms
$q_j : \mathcal{F} \to \mathcal{G}_j$ then $(\mathcal{F}, q_j)$
is a limit of the diagram if and only if for each $i$ the stalk
$(\mathcal{F}_{p_i}, (q_j)_{p_i})$ is one.
\item Given a finite diagram $\mathcal{F} : \mathcal{J}
\to \textit{Sh}(\mathcal{C})$, a sheaf $\mathcal{G}$ and morphisms
$e_j : \mathcal{F}_j \to \mathcal{G}$ then $(\mathcal{G}, e_j)$
is a colimit of the diagram if and only if for each $i$ the stalk
$(\mathcal{G}_{p_i}, (e_j)_{p_i})$ is one.
\end{enumerate}
\end{lemma}

\begin{proof}
We will use over and over again that all the stalk functors commute
with any finite limits and colimits and hence with products, fibred
products, etc. We will also use that injective maps are the monomorphisms
and the surjective maps are the epimorphisms.
A map of sheaves $\varphi : \mathcal{F} \to \mathcal{G}$
is injective if and only if
$\mathcal{F} \to \mathcal{F}\times_\mathcal{G}\mathcal{F}$
is an isomorphism. Hence (1). 
Similarly, $\varphi : \mathcal{F} \to \mathcal{G}$
is surjective if and only if
$\mathcal{G} \to \mathcal{G}\coprod_\mathcal{F}\mathcal{G}$
is an isomorphism. Hence (2). 
The maps $a, b : \mathcal{F} \to \mathcal{G}$
are equal if and only if $\mathcal{F}\times_{a, \mathcal{G}, b}\mathcal{F}
\to \mathcal{F} \times \mathcal{F}$ is an isomorphism. Hence (3).
The other two are left to the reader.
\end{proof}

\begin{lemma}
\label{lemma-enough}
Let $\mathcal{C}$ be a site and let $\{(p_i, u_i)\}_{i\in I}$ be a
family of points. The family is conservative if and only if for every
sheaf $\mathcal{F}$ and every $U\in \text{Ob}(\mathcal{C})$ and every
pair of distinct sections $s,s' \in \mathcal{F}(U)$, $s \not= s'$ there
exists an $i$ and $x\in u_i(U)$ such that the triples
$(U, x, s)$ and $(U, x, s')$ define distinct elements of
$\mathcal{F}_{p_i}$.
\end{lemma}

\begin{proof}
Suppose that the family is conservative and that $\mathcal{F}$, $U$, and
$s,s'$ are as in the lemma. The sections $s$, $s'$ define maps
$a, a' : (h_U)^\# \to \mathcal{F}$ which are distinct. Hence, by Lemma
\ref{lemma-exactness-stalks} there is an $i$ such that $a_{p_i}
\not = a'_{p_i}$. Recall that $(h_U)^\#_{p_i} = u_i(U)$.
Hence there exists a $x \in u_i(U)$ such that $a_{p_i}(x)
\not = a'_{p_i}(x)$ in $\mathcal{F}_{p_i}$.
Unwinding the definitions you see that $(U, x, s)$
and $(U, x, s')$ are as in the statement of the lemma.

\medskip\noindent
To prove the converse, assume the condition on the existence of
points of the lemma, and let $\phi : \mathcal{F} \to \mathcal{G}$
be a map of sheaves which is an isomorphism at all the stalks.
We have to show that $\phi$ is both
injective and surjective, see Lemma \ref{lemma-mono-epi-sheaves}.
Injectivity is an immediate consequence of the assumption.
Let $pt$ denote the final object of the category of sheaves;
it is the constant sheaf  $U \mapsto pt(U) = \{e\}$ (singleton set with
unique element $e$). Consider the sheaf $\mathcal{H}
= \mathcal{G} \coprod_{\mathcal{F}} pt$.
The map $\mathcal{F} \to \mathcal{G}$ is surjective if and only
if the map $pt \to \mathcal{H}$ is an isomorphism, and by assumption
all the maps on stalks $\{e\} \to \mathcal{H}_{p_i}$ are bijective.
Thus if $\phi$ is not surjective,
then there exists a $U$ and a section $s \in \mathcal{H}(U)$
which is not equal to the section $e$. Apply the existence
of $i$, $x\in u_i(U)$ to get a contradiction.
\end{proof}










\section{Topologies}
\label{section-topologies}

\noindent
In this section we define what a topology on a category is.
However, the case of most interest for algebraic geometry
is the topology defined by a site on its underlying category.
We strongly suggest the first time reader
{\bf skip this section and all other sections of this document},
and start reading about schemes right away!

\begin{definition}
\label{definition-sieve}
Let $\mathcal{C}$ be a category. Let $U \in \text{Ob}(\mathcal{C})$.
A {\it sieve $S$ on $U$} is a subpresheaf $S \subset h_U$.
\end{definition}

\noindent
In other words, a sieve on $U$ picks out for each object
$T \in \text{Ob}(\mathcal{C})$ a subset $S(T)$ of the set
of all morphisms $T \to U$. In fact, the only condition
on the collection of subsets
$S(T) \subset h_U(T) = \text{Mor}_{\mathcal{C}}(T, U)$
is the following rule
\begin{equation}
\label{equation-property-sieve}
\left.
\begin{matrix}
(\alpha : T \to U) \in S(T) \\
g : T' \to T
\end{matrix}
\right\} \Rightarrow
(\alpha \circ g : T' \to U) \in S(T')
\end{equation}
A good mental picture to keep in mind is to think of the
map $S \to h_U$ as a ``morphism from $S$ to $U$''.

\begin{lemma}
\label{lemma-sieves-set}
Let $\mathcal{C}$ be a category. Let $U \in \text{Ob}(\mathcal{C})$.
\begin{enumerate}
\item The collection of sieves on $U$ is a set.
\item Inclusion defines a partial ordering on this set.
\item Unions and intersections of sieves are sieves.
\item
\label{sieve-generated}
Given a family of morphisms $\{U_i \to U\}_{i\in I}$
of $\mathcal{C}$ with target $U$
there exists a unique smallest sieve $S$ on $U$ such that
each $U_i \to U$ belongs to $S(U_i)$.
\item The sieve $S = h_U$ is the maximal sieve.
\item The empty subpresheaf is the minimal sieve.
\end{enumerate}
\end{lemma}

\begin{proof}
By our definition of subpresheaf, the collection of
all subpresheaves of a presheaf $\mathcal{F}$ is a subset of 
$\prod_{U \in \text{Ob}(\mathcal{C})} \mathcal{P}(\mathcal{F}(U))$.
And this is a set. (Here $\mathcal{P}(A)$ denotes
the powerset of $A$.) Hence the collection of sieves on $U$
is a set.

\medskip\noindent
The partial ordering is defined by: $S \leq S'$ if and only if
$S(T) \subset S'(T)$ for all $T \to U$. Notation: $S \subset S'$.

\medskip\noindent
Given a collection of sieves $S_i$, $i \in I$ on $U$ we can
define $\bigcup S_i$ as the sieve with values
$(\bigcup S_i)(T) = \bigcup S_i(T)$ for all
$T \in \text{Ob}(\mathcal{C})$.
We define the intersection $\bigcap S_i$ in the same way.

\medskip\noindent
Given $\{U_i \to U\}_{i\in I}$ as in the statement, consider
the morphisms of presheaves $h_{U_i} \to h_U$. We simply
define $S$ as the union of the images (Definition \ref{definition-image})
of these maps of presheaves.

\medskip\noindent
The last two statements of the lemma are obvious.
\end{proof}

\begin{definition}
\label{definition-sieve-generated}
Let $\mathcal{C}$ be a category.
Given a family of morphisms $\{f_i : U_i \to U\}_{i\in I}$
of $\mathcal{C}$ with target $U$ we say the sieve
$S$ on $U$ described in Lemma \ref{lemma-sieves-set}
part (\ref{sieve-generated}) is the {\it sieve  on $U$
generated by the morphisms $f_i$}.
\end{definition}

\begin{definition}
\label{definition-pullback-sieve}
Let $\mathcal{C}$ be a category.
Let $f : V \to U$ be a morphism of $\mathcal{C}$.
Let $S \subset h_U$ be a sieve. We define the
{\it pullback of $S$ by $f$} to be the sieve
$S \times_U V$ of $V$ defined by the rule
$$
(\alpha : T \to V) \in (S \times_U V)(T)
\Leftrightarrow
(f \circ \alpha : T \to U) \in S(T)
$$
\end{definition}

\noindent
We leave it to the reader to see that this is indeed a sieve
(hint: use Equation \ref{equation-property-sieve}).
We also sometimes call $S \times_U V$ the {\it base change}
of $S$ by $f : V \to U$.

\begin{lemma}
\label{lemma-pullback-sieve-section}
Let $\mathcal{C}$ be a category.
Let $U \in \text{Ob}(\mathcal{C})$.
Let $S$ be a sieve on $U$.
If $f : V \to U$ is in $S$, then
$S \times_U V = h_V$ is maximal.
\end{lemma}

\begin{proof}
Trivial from the definitions.
\end{proof}

\begin{definition}
\label{definition-topology}
Let $\mathcal{C}$ be a category.
A {\it topology on $\mathcal{C}$} is given by the following
datum:
\begin{list}{}{}
\item For every $U \in \text{Ob}(\mathcal{C})$
a subset $J(U)$ of the set of all sieves on $U$.
\end{list}
These sets $J(U)$ have to satisfy the following
conditions
\begin{enumerate}
\item For every morphism $f : V \to U$ in $\mathcal{C}$, and
every element $S \in J(U)$ the pullback $S \times_U V$
is an element of $J(V)$.
\item If $S$ and $S'$ are sieves on $U \in \text{Ob}(\mathcal{C})$,
if $S \in J(U)$, and if for all $f \in S(V)$ the pullback
$S' \times_U V$ belongs to $J(V)$, then $S'$ belongs to $J(U)$.
\item For every $U \in \text{Ob}(\mathcal{C})$ the
maximal sieve $S = h_U$ belongs to $J(U)$.
\end{enumerate}
\end{definition}

\noindent
In this case, the sieves belonging to $J(U)$ are called
the {\it covering sieves}.

\begin{lemma}
\label{lemma-topology-basic}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
Let $U \in \text{Ob}(\mathcal{C})$.
\begin{enumerate}
\item Finite intersections of elements of $J(U)$ are in $J(U)$.
\item If $S \in J(U)$ and $S' \supset S$, then $S' \in J(U)$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $S, S' \in J(U)$. Consider $S'' = S \cap S'$. For every
$V \to U$ in $S(U)$ we have
$$
S' \times_U V = S'' \times_U V
$$
simply because $V \to U$ already is in $S$. Hence by the second
axiom of the definition we see that $S'' \in J(U)$.

\medskip\noindent
Let $S \in J(U)$ and $S' \supset S$. For every
$V \to U$ in $S(U)$ we have $S' \times_U V = h_V$ by
Lemma \ref{lemma-pullback-sieve-section}. Thus
$S' \times_U V \in J(V)$ by the third axiom. Hence
$S' \in J(U)$ by the second axiom.
\end{proof}

\begin{definition}
\label{definition-finer}
Let $\mathcal{C}$ be a category. Let $J$, $J'$ be
two topologies on $\mathcal{C}$. We say that $J$ is
{\it finer} than $J'$ if and only if for every object
$U$ of $\mathcal{C}$ we have $J'(U) \subset J(U)$.
\end{definition}

\noindent
In other words, any covering sieve of $J'$ is a
covering sieve of $J$. There exists a finest topology
on $\mathcal{C}$, namely that topology where any sieve
is a covering sieve. This is called the
{\it discrete topology} of $\mathcal{C}$.
There also exists a coarsest topology.
Namely, the topology where $J(U) = \{h_U\}$
for all objects $U$. This is called the
{\it chaotic topology}.

\begin{lemma}
\label{lemma-play-with-topologies}
Let $\mathcal{C}$ be a category. 
Let $\{J_i\}_{i\in I}$ be a set of topologies.
\begin{enumerate}
\item The rule $J(U) = \bigcap J_i(U)$ defines
a topology on $\mathcal{C}$.
\item There is a coarsest topology finer than
all of the topologies $J_i$.
\end{enumerate}
\end{lemma}

\begin{proof}
The first part is direct from the definitions.
The second follows by taking the intersection
of all topologies finer than all of the $J_i$.
\end{proof}

\noindent
At this point we can define
without any motivation what a sheaf is.

\begin{definition}
\label{definition-sheaf-sets-topology}
Let $\mathcal{C}$ be a category endowed with a
topology $J$. Let $\mathcal{F}$ be a presheaf of sets
on $\mathcal{C}$.
We say that $\mathcal{F}$ is a
{\it sheaf} on $\mathcal{C}$
if for every $U \in \text{Ob}(\mathcal{C})$ and for
every covering sieve $S$ of $U$ the canonical map
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
$$
is bijective.
\end{definition}

\noindent
Recall that the left hand side of the displayed
formula equals $\mathcal{F}(U)$. In other words, $\mathcal{F}$
is a sheaf if and only if a section of $\mathcal{F}$
over $U$ is the same thing as a compatible collection of sections
$s_{T,\alpha} \in \mathcal{F}(T)$ parametrized by
$(\alpha : T \to U) \in S(T)$, and this for every covering sieve $S$
on $U$. 

\begin{lemma}
\label{lemma-topology-presheaves-sheaves}
Let $\mathcal{C}$ be a category. Let $\{ \mathcal{F}_i \}_{i\in I}$ be a
collection of presheaves of sets on $\mathcal{C}$. For each
$U \in \text{Ob}(\mathcal{C})$ denote
$J(U)$ the set of sieves $S$ with the following property:
For every morphism $V \to U$, the maps
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_V, \mathcal{F}_i)
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S \times_U V, \mathcal{F}_i)
$$
are bijective for all $i \in I$. Then $J$ defines a
topology on $\mathcal{C}$. This topology is the finest
topology in which all of the $\mathcal{F}_i$ are sheaves.
\end{lemma}

\begin{proof}
If we show that $J$ is a topology, then the last statement of
the lemma immediately follows. The first and second axioms of
a topology are immediately verified. Thus, assume that
we have an object $U$, and sieves $S, S'$ of $U$
such that $S \in J(U)$, and for all $V \to U$ in $S(V)$
we have $S' \times_U V \in J(V)$. We have to show that
$S' \in J(U)$. In other words, we have to show that for
any $f : W \to U$, the maps
$$
\mathcal{F}_i(W) =
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_W, \mathcal{F}_i)
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S' \times_U W, \mathcal{F}_i)
$$
are bijective for all $i \in I$. Pick an element
$i \in I$ and pick an element
$\varphi \in
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S' \times_U W, \mathcal{F}_i)$.
We will construct a section $s \in \mathcal{F}_i(W)$
mapping to $\varphi$.

\medskip\noindent
Suppose $\alpha : V \to W$ is an element of $S \times_U W$.
According to the definition of pullbacks we see that
the composition $f \circ\alpha : V \to W  \to U$ is in $S$. Hence
$S' \times_U V$ is in $J(W)$ by assumption on the pair
of sieves $S, S'$. Now we have a commutative diagram
of presheaves
$$
\xymatrix{
S' \times_U V \ar[r] \ar[d] & h_V \ar[d] \\
S' \times_U W \ar[r] & h_W
}
$$
The restriction of $\varphi$ to $S' \times_U V$
corresponds to an element $s_{V, \alpha} \in \mathcal{F}_i(V)$.
This we see from the definition of $J$,
and because $S' \times_U V$ is in $J(W)$.
We leave it to the reader to check
that the rule $(V, \alpha) \mapsto s_{V, \alpha}$ defines
an element
$\psi \in
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S \times_U W, \mathcal{F}_i)$.
Since $S \in J(U)$ we see immediately from the definition of $J$
that $\psi$ corresponds to an element $s$ of $\mathcal{F}_i(W)$.

\medskip\noindent
We leave it to the reader to verify that the construction
$\varphi \mapsto s$ is inverse to the natural map displayed above.
\end{proof}

\begin{definition}
\label{definition-canonical-topology}
Let $\mathcal{C}$ be a category.
The finest topology on $\mathcal{C}$ such that
all representable presheaves are sheaves, see
Lemma \ref{lemma-topology-presheaves-sheaves},
is called the {\it canonical topology} of $\mathcal{C}$.
\end{definition}














\section{The topology defined by a site}
\label{section-topology-site}

\noindent
Suppose that $\mathcal{C}$ is a category, and suppose that
$\text{Cov}_1(\mathcal{C})$ and $\text{Cov}_2(\mathcal{C})$
are sets of coverings that define the structure of a site
on $\mathcal{C}$. In this situation it can happen that
the categories of sheaves (of sets) for $\text{Cov}_1(\mathcal{C})$
and $\text{Cov}_2(\mathcal{C})$ are the same.

\medskip\noindent
It turns out that the category of sheaves on $\mathcal{C}$
with respect to some topology $J$
determines and is determined by the topology $J$.
This is a nontrivial statement which we will address later,
see Theorem \ref{theorem-topology-and-topos}.

\medskip\noindent
Accepting this for the moment it makes sense to study the
topology determined by a site.

\begin{lemma}
\label{lemma-site-gives-topology}
Let $\mathcal{C}$ be a site with coverings $\text{Cov}(\mathcal{C})$.
For every object $U$ of $\mathcal{C}$, let $J(U)$ denote
the set of sieves $S$ on $U$ with the following property:
there exists a covering
$\{f_i : U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
so that the sieve $S'$ generated by the $f_i$ (see Definition
\ref{definition-sieve-generated}) is contained in $S$. 
\begin{enumerate}
\item This $J$ is a topology on $\mathcal{C}$.
\item A presheaf $\mathcal{F}$ is a sheaf for this topology
(see Definition \ref{definition-sheaf-sets-topology})
if and only if it is a sheaf on the site (see 
Definition \ref{definition-sheaf-sets}).
\end{enumerate}
\end{lemma}

\begin{proof}
To prove the first assertion we just note that axioms
(1), (2) and (3) of the definition of a site
(Definition \ref{definition-site})
directly imply the axioms 
(3), (2) and (1) of the definition of a topology
(Definition \ref{definition-topology}). As an example we
prove $J$ has property (2). Namely, let $U$ be an object
of $\mathcal{C}$, let $S, S'$ be sieves on $U$ such that
$S \in J(U)$, and such that for every $V \to U$ in $S(V)$
we have $S' \times_U V \in J(V)$. By definition of $J(U)$
we can find a covering $\{f_i : U_i \to U\}$ of the site
such that $S$ the image of $h_{U_i} \to h_U$ is contained
in $S$. Since each $S'\times_U U_i$ is in $J(U_i)$ we
see that there are coverings $\{U_{ij} \to U_i\}$ of the
site such that $h_{U_{ij}} \to h_{U_i}$ is contained
in $S' \times_U U_i$. By definition of the base change
this means that $h_{U_{ij}} \to h_U$ is contained
in the subpresheaf $S' \subset h_U$. By axiom (2) for
sites we see that $\{U_{ij} \to U\}$ is a covering of
$U$ and we conclude that $S' \in J(U)$ by definition of $J$.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf. Suppose that $\mathcal{F}$
is a sheaf in the topology $J$. We will show that $\mathcal{F}$
is a sheaf on the site as well. Let $\{f_i : U_i \to U\}_{i\in I}$
be a covering of the site. Let $s_i \in \mathcal{F}(U_i)$ be a
family of sections such that
$s_i|_{U_i\times_U U_j} = s_j|_{U_i\times_U U_j}$ for all
$i,j$. We have to show that there exists a unique section
$s \in \mathcal{F}(U)$ restricting back to the $s_i$ on the $U_i$.
Let $S \subset h_U$ be the sieve generated by the $f_i$.
Note that $S \in J(U)$ by definition. In stead of constructing
$s$, by the sheaf condition in the topology, it suffices
to construct an element
$$
\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F}).
$$
Take $\alpha \in S(T)$ for some object $T \in \mathcal{U}$.
This means exactly that $\alpha : T \to U$ is a morphism
which factors through $f_i$ for some $i\in I$ (and maybe more than $1$).
Pick such an index $i$ and a factorization $\alpha = f_i \circ \alpha_i$. 
Define $\varphi(\alpha) = \alpha_i^* s_i$. If $i'$, $\alpha
= f_i \circ \alpha_{i'}'$ is a second choice, then
$\alpha_i^* s_i = (\alpha_{i'}')^* s_{i'}$ exactly because of our
condition $s_i|_{U_i\times_U U_j} = s_j|_{U_i\times_U U_j}$ for all
$i, j$. Thus $\varphi(\alpha)$ is well defined. We leave it to the reader
to verify that $\varphi$, which in turn determines $s$ is correct
in the sense that $s$ restricts back to $s_i$.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf. Suppose that $\mathcal{F}$
is a sheaf on the site $(\mathcal{C}, \text{Cov}(\mathcal{C}))$.
We will show that $\mathcal{F}$ is a sheaf for the topology $J$
as well. Let $U$ be an object of $\mathcal{C}$. Let
$S$ be a covering sieve on $U$ with respect to the topology $J$.
Let
$$
\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F}).
$$
We have to show there is a unique element in
$\mathcal{F}(U) = \text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})$
which restricts back to $\varphi$. By definition there exists
a covering $\{f_i : U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
such that $f_i : U_i \in U$ belongs to $S(U_i)$.  Hence
we can set $s_i = \varphi(f_i) \in \mathcal{F}(U_i)$. 
Then it is a pleasant exercise to see that
$s_i|_{U_i\times_U U_j} = s_j|_{U_i\times_U U_j}$ for all
$i,j$. Thus we obtain the desired section $s$ by the sheaf
condition for $\mathcal{F}$ on the site 
$(\mathcal{C}, \text{Cov}(\mathcal{C}))$.
Details left to the reader.
\end{proof}

\begin{definition}
\label{definition-topology-associated-site}
Let $\mathcal{C}$ be a site with coverings $\text{Cov}(\mathcal{C})$.
The {\it topology associated to $\mathcal{C}$} is the topology
$J$ contructed in Lemma \ref{lemma-site-gives-topology} above.
\end{definition}

\noindent
Let $\mathcal{C}$ be a category.
Let $\text{Cov}_1(\mathcal{C})$ and $\text{Cov}_2(\mathcal{C})$
be two coverings defining the structure of a site on $\mathcal{C}$.
It may very well happen that the topologies defined
by these are the same. If this happens
then we say $\text{Cov}_1(\mathcal{C})$ and
$\text{Cov}_2(\mathcal{C})$ {\it define the same topology} on
$\mathcal{C}$. And if this happens then the categories of sheaves
are the same, by Lemma \ref{lemma-site-gives-topology}.

\medskip\noindent
It is usually the case that we only care about the topology defined
by a collection of coverings, and we view the possibility of choosing
different sets of coverings as a tool to study the topology.

\begin{remark}
\label{remark-enlarge-coverings}
Enlarging the class of coverings.
Let us temporarily introduce the following notion.
Two families of morphisms $\{\varphi_i : U_i \to U\}_{i\in I}$, and
$\{\psi_j : V_j \to U\}_{j\in J}$ with the same target
$U \in \text{Ob}(\mathcal{C})$ are called {\it tautologically equivalent}
if there exist maps $\alpha : I \to J$ and $\beta : J\to I$ and
for all $i\in I$ and $j \in J$ commutative diagrams
$$
\xymatrix{
U_i \ar[rd] \ar[rr]
&
&
V_{\alpha(i)} \ar[ld]
&
&
V_j \ar[rd] \ar[rr]
&
&
U_{\beta(j)} \ar[ld]
\\
&
U
&
&
&
&
U
&
}
$$
with isomorphisms as horizontal arrows.
This defines an equivalence relation on families of morphisms
having a fixed target. (We remark that any pair of combinatorially
equivalent coverings, see
Sets, Section \ref{sets-section-coverings-site},
is tautologically equivalent.)
Clearly, if $\text{Cov}(\mathcal{C})$
defines the structure of a site on $\mathcal{C}$ then we may
add to $\mathcal{C}$ any set of morphisms tautologically
equivalent to elements of $\text{Cov}(\mathcal{C})$ without
changing the topology.
\end{remark}

\begin{remark}
\label{remark-shrink-coverings}
Shrinking the class of coverings. Let $\mathcal{C}$
be a site. Consider the power set
$\mathcal{S} = \mathcal{P}(\text{Arrow}(\mathcal{C}))$
of the set of morphisms, i.e., the set
of all sets of morphisms. Let $\mathcal{S}_\tau \subset \mathcal{S}$
be the subset consisting of those $T \in \mathcal{S}$ such that
(a) all $\varphi \in T$ have the same target,
(b) the collection $\{\varphi\}_{\varphi \in T}$ is tautologically
equivalent (see Remark \ref{remark-enlarge-coverings} above)
to some covering in $\text{Cov}(\mathcal{C})$.
Clearly, considering the elements of $\mathcal{S}_\tau$ as
the coverings, we do not get exactly the notion of a site
as defined in Definition \ref{definition-site}.
The structure $(\mathcal{C}, \mathcal{S}_\tau)$
we get satisfies slightly modified conditions. The modified
conditions are:
\begin{enumerate}
\item[(0')] $\text{Cov}(\mathcal{C}) \subset 
\mathcal{P}(\text{Arrow}(\mathcal{C}))$,
\item[(1')] If $V \to U$ is an isomorphism then $\{V \to U\} \in 
\text{Cov}(\mathcal{C})$.
\item[(2')] If $\{U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
and for each $i$ we have
$\{V_{ij} \to U_i\}_{j\in J_i} \in \text{Cov}(\mathcal{C})$, then
$\{V_{ij} \to U\}_{i \in I, j\in J_i}$ is tautologically
equivalent to an element of $\text{Cov}(\mathcal{C})$.
\item[(3')] If $\{U_i \to U\}_{i\in I}\in \text{Cov}(\mathcal{C})$
and $V \to U$ is a morphism of $\mathcal{C}$ then $U_i \times_U V$
exists for all $i$ and $\{U_i \times_U V \to V \}_{i\in I}$
is tautologically equivalent to an element of $\text{Cov}(\mathcal{C})$.
\end{enumerate}
And it is easy to verify that, given a structure satisfying 
(0') -- (3') above, then after suitably enlarging
$\text{Cov}(\mathcal{C})$ (compare Sets,
Section \ref{sets-section-coverings-site}) we get a site.
Obviously there is little difference between this notion and the
actual notion of a site, at least from the point of view of the
topology. There are two benefits:
because of condition (0') above the coverings automatically
form a set, and because of (0') the totality of all structures
of this type forms a set as well.
The price you pay for this is that you have to keep writing
``tautologically equivalent'' everywhere.
\end{remark}

















\section{Sheafification in a topology}
\label{section-sheafification-topology}

\noindent
In this section we explain the analogue of the
sheafification construction in a topology.

\medskip\noindent
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
Let $\mathcal{F}$ be a presheaf of sets.
For every $U \in \text{Ob}(\mathcal{C})$ we
define
$$
L\mathcal{F}(U)
=
\text{colim}_{S \in J(U)^{opp}}\ \ 
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
$$
as a colimit. Here we think of $J(U)$ as a partially ordered set,
ordered by inclusion, see Lemma \ref{lemma-sieves-set}. The transition
maps in the system are defined as follows.
If $S \subset S'$ are in $J(U)$, then $S \to S'$ is
a morphism of presheaves. Hence there is a natural restriction
mapping
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S', \mathcal{F}).
$$
Thus we see that
$S \mapsto \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})$
is a directed system as in Categories,
Definition \ref{categories-definition-system-over-poset}
provided we reverse the ordering
on $J(U)$ (which is what the superscript ${}^{opp}$ is supposed to
indicate). In particular, since $h_U \in J(U)$
there is a canonical map
$$
\ell : \mathcal{F}(U) \longrightarrow L\mathcal{F}(U)
$$
coming from the identification
$\mathcal{F}(U) = \text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})$.
In addition, the colimit defining $L\mathcal{F}(U)$ is directed
since for any pair of covering sieves $S, S'$ on $U$ the
sieve $S \cap S'$ is a covering sieve too, see Lemma \ref{lemma-sieves-set}.

\medskip\noindent
Let $f : V \to U$ be a morphism in $\mathcal{C}$.
Let $S \in J(U)$. There is a commutative diagram
$$
\xymatrix{
S \times_U V \ar[r] \ar[d] & h_V \ar[d] \\
S \ar[r] & h_U
}
$$
We can use the left vertical map to get canonical restriction maps
$ \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
\to \text{Mor}_{\textit{PSh}(\mathcal{C})}(S \times_U V, \mathcal{F})$.
Base change $S \mapsto S\times_U V$ induces an order
preserving map $J(U) \to J(V)$. And the restriction maps
define a transformation of functors as in
Categories, Lemma {categories-lemma-functorial-colimit}.
Hence we get a natural retriction map
$$
L\mathcal{F}(U) \longrightarrow L\mathcal{F}(V).
$$

\begin{lemma}
\label{lemma-L-presheaf}
In the situation above.
\begin{enumerate}
\item The assignment $U \mapsto L\mathcal{F}(U)$ combined with the
restriction mappings defined above is a presheaf.
\item The maps $\ell$ glue to give a morphism of presheaves
$\ell : \mathcal{F} \to L\mathcal{F}$.
\item The rule $\mathcal{F} \mapsto (\mathcal{F} \xrightarrow{\ell}
L\mathcal{F})$ is a functor.
\item If $\mathcal{F}$ is a subpresheaf of $\mathcal{G}$, then 
$L\mathcal{F}$ is a subpresheaf of $L\mathcal{G}$.
\item The map $\ell : \mathcal{F} \to L\mathcal{F}$ has the
following property: For every section $s \in L\mathcal{F}(U)$
there exists a covering sieve $S$ on $U$ and an element
$\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})$
such that $\ell(\varphi)$ equals the restriction of
$s$ to $S$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-presheaf-separated-topology}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
We say that a presheaf of sets $\mathcal{F}$
is {\it separated} if for every object $U$ and
every covering sieve $S$ on $U$ the canonical map
$\mathcal{F}(U) \to \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})$
is injective.
\end{definition}

\begin{theorem}
\label{theorem-L-topology}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
Let $\mathcal{F}$ be a presheaf of sets.
\begin{enumerate}
\item The presheaf $L\mathcal{F}$ is separated.
\item If $\mathcal{F}$ is separated, then $L\mathcal{F}$ is a sheaf
and the map of presheaves $\mathcal{F} \to L\mathcal{F}$ is injective.
\item If $\mathcal{F}$ is a sheaf, then $\mathcal{F} \to L\mathcal{F}$
is an isomorphism.
\item The presheaf $LL\mathcal{F}$ is always a sheaf.
\end{enumerate}
\end{theorem}

\begin{proof}
Part (3) is trivial from the definition of $L$ and
the definition of a sheaf (Definition \ref{definition-sheaf-sets-topology}).
Part (4) follows formally from the others.

\medskip\noindent
We sketch the proof of (1). Suppose $S$ is a covering sieve
of the object $U$. Suppose that $\varphi_i \in L\mathcal{F}(U)$,
$i = 1, 2$ map to the same element in
$\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, L\mathcal{F})$.
We may find a single covering sieve $S'$ on $U$ such
that both $\varphi_i$ are represented by elements
$\varphi_i \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S', \mathcal{F})$.
We may assume that $S' = S$ by replacing both $S$ and $S'$ by
$S' \cap S$ which is also a covering sieve, see Lemma \ref{lemma-sieves-set}.
Suppose $V\in \text{Ob}(\mathcal{C})$, and
$\alpha : V \to U$ in $S(V)$.
Then we have $S \times_U V = h_V$,
see Lemma \ref{lemma-pullback-sieve-section}. Thus the restrictions
of $\varphi_i$ via $V \to U$ correspond to sections $s_{i,V,\alpha}$
of $\mathcal{F}$ over $V$. The assumption is that there exist
a covering sieve $S_{V,\alpha}$ of $V$ such that
$s_{i,V,\alpha}$ restrict to the same element of
$\text{Mor}_{\textit{PSh}(\mathcal{C})}(S_{V,\alpha}, \mathcal{F})$.
Consider the sieve $S''$ on $U$ defined by the rule
\begin{eqnarray}
\label{equation-S-prime-prime}
(f : T \to U) \in S''(T) 
& \Leftrightarrow &
\exists\ V ,\ \alpha : V \to U,\ \alpha \in S(V),\nonumber \\
& &
\exists\ g : T \to V,\ g \in S_{V,\alpha}(T), \\
& &
f = \alpha \circ g \nonumber
\end{eqnarray}
By axiom (2) of a topology we see that $S''$ is a covering
sieve on $U$. By construction we see that $\varphi_1$
and $\varphi_2$ restrict to the same element of
$\text{Mor}_{\textit{PSh}(\mathcal{C})}(S'', L\mathcal{F})$
as desired.

\medskip\noindent
We sketch the proof of (2). Assume that $\mathcal{F}$ is a
separated presheaf of sets on $\mathcal{C}$ with respect to
the topology $J$.
Let $S$ be a covering sieve of the object $U$ of $\mathcal{C}$.
Suppose that $\varphi \in \text{Mor}_{\mathcal{C}}(S, L\mathcal{F})$.
We have to find an element $s \in L\mathcal{F}(U)$ restricting
to $\varphi$. Suppose $V\in \text{Ob}(\mathcal{C})$, and
$\alpha : V \to U$ in $S(V)$. The value $\varphi(\alpha)
\in L\mathcal{F}(V)$ is given by a covering sieve
$S_{V,\alpha}$ of $V$ and a morphism of presheaves
$\varphi_{V, \alpha} : S_{V, \alpha} \to \mathcal{F}$.
As in the proof above, define a covering sieve $S''$ on $U$ by 
Equation (\ref{equation-S-prime-prime}). We define
$$
\varphi'' : S'' \longrightarrow \mathcal{F}
$$
by the following simple rule: For every $f : T \to U$,
$f \in S''(T)$ choose $V, \alpha, g$ as in
Equation (\ref{equation-S-prime-prime}). Then set
$$
\varphi''(f) = \varphi_{V, \alpha}(g).
$$
We claim this is independent of the
choice of $V, \alpha, g$.
Consider a second such choice$ V', \alpha', g'$.
The restrictions of $\varphi_{V, \alpha}$ and
$\varphi_{V', \alpha'}$ to the intersection
of the following covering sieves on $T$
$$
(S_{V, \alpha}\times_{V,g} T) \cap (S_{V', \alpha'}\times_{V',g'} T)
$$
agree. Namely, these restrictions both correspond to the
restriction of $\varphi$ to $T$ (via $f$) and the desired
equality follows because $\mathcal{F}$ is separated.
Denote the common restriction $\psi$.
The independence of choice follows because
$\varphi_{V, \alpha}(g) = \psi(\text{id}_T) = 
\varphi_{V', \alpha'}(g')$. OK, so now $\varphi''$
gives an element $s \in L\mathcal{F}(U)$. We leave it to
the reader to check that $s$ restricts to $\varphi$.
\end{proof}

\begin{definition}
\label{definition-associated-sheaf-topology}
Let $\mathcal{C}$ be a category endowed with a topology $J$.
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$.
The sheaf $\mathcal{F}^\# := LL\mathcal{F}$
together with the canonical map $\mathcal{F} \to \mathcal{F}^\#$
is called {\it the sheaf associated to $\mathcal{F}$}.
\end{definition}

\begin{proposition}
\label{proposition-sheafification-adjoint-topology}
Let $\mathcal{C}$ be a category endowed with a topology.
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$.
The canonical map $\mathcal{F} \to \mathcal{F}^\#$ has the
following universal property: For any map
$\mathcal{F} \to \mathcal{G}$,
where $\mathcal{G}$ is a sheaf of sets, there is a unique map
$\mathcal{F}^\# \to \mathcal{G}$ such that $\mathcal{F} \to \mathcal{F}^\#
\to \mathcal{G}$ equals the given map.
\end{proposition}

\begin{proof}
Same as the proof of Proposition \ref{proposition-sheafification-adjoint}.
\end{proof}














\section{Topologies and sheaves}
\label{section-topology-and-sheaves}

\begin{lemma}
\label{lemma-sieve-sheafification}
Let $\mathcal{C}$ be a category endowed with a topology $J$.
Let $U$ be an object of $\mathcal{C}$.
Let $S$ be a sieve on $U$. The following are equivalent
\begin{enumerate}
\item The sieve $S$ is a covering sieve.
\item The sheafifcation $S^\# \to h_U^\#$
of the map $S \to h_U$ is an isomorphism.
\end{enumerate}
\end{lemma}

\begin{proof}
First we make a couple of general remarks.
We will use that $S^\# = LLS$, and $h_U^\# = LLh_U$.
In particular, by Lemma \ref{lemma-L-presheaf}, we see that
$S^\# \to h_U^\#$ is injective. Note that
$\text{id}_U \in h_U(U)$. Hence it gives rise to
sections of $Lh_U$ and $h_U^\# = LLh_U$ over $U$ which
we will also denote $\text{id}_U$.

\medskip\noindent
Suppose $S$ is a covering sieve. It clearly suffices to
find a morphism $h_U \to S^\#$ such that the composition
$h_U \to h_U^\#$ is the canonical map. To find such a map
it suffices to find a section $s \in S^\#(U)$ wich restricts
to $\text{id}_U$. But since $S$ is a
covering sieve, the element
$\text{id}_S \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, S)$
gives rise to a section of $LS$ over $U$ which restricts to
$\text{id}_U$ in $Lh_U$. Hence we win.

\medskip\noindent
Suppose that $S^\# \to h_U^\#$ is an isomorphism.
Let $1 \in S^\#(U)$ be the element corresponding to
$\text{id}_U$ in $h_U^\#(U)$. Because $S^\# = LLS$
there exists a covering sieve $S'$ on $U$ such that
$1$ comes from a 
$$
\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S', LS).
$$
This in turn means that for every $\alpha : V \to U$,
$\alpha\in S'(V)$ there exists a covering sieve $S_{V,\alpha}$
on $V$ such that $\varphi(\text{id}_V)$ corresponds to
a morphism of presheaves $S_{V, \alpha} \to S$. In other words
$S_{V, \alpha}$ is contained in $S \times_U V$. By the second
axiom of a topology we see that $S$ is a covering sieve.
\end{proof}

\begin{theorem}
\label{theorem-topology-and-topos}
Let $\mathcal{C}$ be a category.
Let $J$, $J'$ be topologies on $\mathcal{C}$.
The following are equivalent
\begin{enumerate}
\item $J = J'$,
\item sheaves for the topology $J$ are the same as
sheaves for the topology $J'$.
\end{enumerate}
\end{theorem}

\begin{proof}
It is a tautology that if $J = J'$ then the notions of sheaves
are the same. Conversely, Lemma \ref{lemma-sieve-sheafification}
characterizes covering sieves in terms of the sheafification
functor. But the sheafification functor
$\textit{PSh}(\mathcal{C}) \to \textit{Sh}(\mathcal{C}, J)$
is the right adjoint of the inclusion functor
$\textit{Sh}(\mathcal{C}, J) \to \textit{PSh}(\mathcal{C})$.
Hence if the subcategories
$\textit{Sh}(\mathcal{C}, J)$ and 
$\textit{Sh}(\mathcal{C}, J')$ are the same, then the sheafification
functors are the same and hence the collections of covering
sieves are the same.
\end{proof}

\begin{lemma}
\label{lemma-finer-topology}
Assumption and notation as in Theorem \ref{theorem-topology-and-topos}.
Then $J \subset J'$ if and only if every sheaf for the
topology $J'$ is a sheaf for the topology $J$.
\end{lemma}

\begin{proof}
Again one direction is clear. For the other direction
suppose that
$\textit{Sh}(\mathcal{C}, J') \subset \textit{Sh}(\mathcal{C}, J)$.
By formal nonsense this implies
that if $\mathcal{F}$ is a presheaf of sets,
and $\mathcal{F} \to \mathcal{F}^\#$,
resp.\ $\mathcal{F} \to \mathcal{F}^{\#,\prime}$
is the sheafification wrt $J$, resp.\ $J'$ then there
is a canonical map $\mathcal{F}^\# \to \mathcal{F}^{\#,\prime}$
such that
$\mathcal{F} \to \mathcal{F}^\# \to \mathcal{F}^{\#,\prime}$
equals the canonical map $\mathcal{F} \to \mathcal{F}^{\#,\prime}$.
Of course, $\mathcal{F}^\# \to \mathcal{F}^{\#,\prime}$
identifies the second sheaf as the sheafification of the first
with respect to the topology $J'$.
Apply this to the map $S \to h_U$ of
Lemma \ref{lemma-sieve-sheafification}. We get a commutative
diagram
$$
\xymatrix{
S \ar[r] \ar[d] &
S^\# \ar[r] \ar[d] &
S^{\#,\prime} \ar[d] \\
h_U \ar[r] &
h_U^\# \ar[r] &
h_U^{\#,\prime}
}
$$
And clearly, if $S$ is a covering sieve for the topology $J$
then the middle vertical map is an isomorphism (by the lemma)
and we conclude that the right vertical map is an isomorphism as
it is the sheafification of the one in the middle wrt $J'$.
By the lemma again we conclude that $S$ is a covering sieve
for $J'$ as well.
\end{proof}










\section{Points and topologies}
\label{section-points-topologies}

\noindent
Recall from Section \ref{section-points} that given a functor
$p = u : \mathcal{C} \to \textit{Sets}$ we can define
a stalk functor
$$
\textit{PSh}(\mathcal{C}) \longrightarrow \textit{Sets},
\mathcal{F} \longmapsto \mathcal{F}_p.
$$

\begin{definition}
\label{definition-point-topology}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
A {\it point $p$} of the topology is given by a functor
$u : \mathcal{C} \to \textit{Sets}$ such that
\begin{enumerate}
\item For every covering sieve $S$ on $U$ the map
$S_p \to (h_U)_p$ is surjective.
\item The stalk functor is exact.
\end{enumerate}
\end{definition}











\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
