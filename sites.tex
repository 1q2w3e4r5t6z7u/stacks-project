\input{preamble}

% OK, start here.
%
\begin{document}

\title{Sites and Sheaves}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
The notion of a site was introduced by Grothendieck to be able to study
sheaves in the \'etale topology of schemes. The basic reference for this
notion is perhaps \cite{SGA4}. Our notion of a site differs from that
in \cite{SGA4}; what we call a site is called a category endowed with
a pretopology in \cite[Exposee II, Definition 1.3]{SGA4}.
The reason we do this is that in algebraic geometry it is often convenient to
work with a given class of coverings, for example when defining when
a property of schemes is local in a given topology, see Descent,
Section \ref{descent-section-descending-properties}.
Our exposition will closely follow \cite{ArtinTopologies}.
We will not use universes.












\section{Presheaves}
\label{section-presheaves}

\noindent
Let $\mathcal{C}$ be a category.
A {\it presheaf of sets} is a contravariant functor $\mathcal{F}$
from $\mathcal{C}$ to $\text{Sets}$ (see Categories, Remark
\ref{categories-remark-functor-into-sets}).
So for every object $U$ of $\mathcal{C}$ we have a set
$\mathcal{F}(U)$. The elements of this set are called
the {\it sections} of $\mathcal{F}$ over $U$. For every morphism
$f : V \to U$ the map $\mathcal{F}(f) : \mathcal{F}(U) \to \mathcal{F}(V)$
is called the {\it restricton map} and is often denoted
$f^\ast : \mathcal{F}(U) \to \mathcal{F}(V)$. Another way
of expressing this is to say that $f^*(s)$ is the {\it pullback}
of $s$ via $f$. Functoriality means that $g^* f^* (s) = (f \circ g)^*(s)$.
Sometimes we use the notation $s|_V := f^\ast(s)$.
This notation is consistent with the notion of restriction
of functions from topology because if $W \to V \to U$
are morphisms in $\mathcal{C}$ and $s$ is a section of
$\mathcal{F}$ over $U$ then $s|_W = (s|_V)|_W$ by the
functorial nature of $\mathcal{F}$. Of course we have to be
careful since it may very well happen
that there is more than one morphism $V \to U$ and it is
certainly not going to be the case that the corresponding
pull back maps are equal.

\begin{definition}
\label{definition-presheaves-sets}
A {\it presheaf of sets} on $\mathcal{C}$ is a contravariant
functor from $\mathcal{C}$ to $\textit{Sets}$. {\it Morphisms
of presheaves} are transformations of functors. The category
of presheaves of sets is denoted $\textit{PSh}(\mathcal{C})$.
\end{definition}

\noindent
Note that for any object $U$ of $\mathcal{C}$ the functor of
points $h_U$, see Categories, Example \ref{categories-example-hom-functor}
is a presheaf. These are called the {\it representable presheaves}.
These presheaves have the pleasing property that for any
presheaf $\mathcal{F}$ we have
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})
=
\mathcal{F}(U).
$$
This is similar to the Yoneda lemma (Categories,
Lemma \ref{categories-lemma-yoneda}) and left as a good exercise to
the reader.

\medskip\noindent
Similarly, we can define the notion of a presheaf of abelian groups,
rings, etc. More generally we may define a presheaf with values in a
category.

\begin{definition}
\label{definition-presheaf}
Let $\mathcal{C}$, $\mathcal{A}$ be categories.
A {\it presheaf} $\mathcal{F}$ on $\mathcal{C}$
with values in $\mathcal{A}$ is a contravariant
functor from $\mathcal{C}$ to $\mathcal{A}$,
i.e., $\mathcal{F} : \mathcal{C}^\circ \to \mathcal{A}$.
A {\it morphism} of presheaves $\mathcal{F} \to \mathcal{G}$
on $\mathcal{C}$ with values in $\mathcal{A}$ is a transformation
of functors from $\mathcal{F}$ to $\mathcal{G}$.
\end{definition}

\noindent
These form the objects and morphisms of the category of presheaves
on $\mathcal{C}$ with values in $\mathcal{A}$.

\begin{remark}
\label{remark-big-presheaves}
As already pointed out we may consider the category
presheaves with values in any of the ``big'' categories
listed in Categories, Remark \ref{categories-remark-big-categories}.
These will be ``big'' categories as well and they will be
listed in the above mentioned remark as we go along.
\end{remark}
















\section{Injective and surjective maps of presheaves}
\label{section-injective-surjective}

\begin{definition}
\label{definition-presheaves-injective-surjective}
Let $\mathcal{C}$ be a category, and let $\varphi : \mathcal{F}
\to \mathcal{G}$ be a map of presheaves of sets.
\begin{enumerate}
\item We say that $\varphi$ is {\it injective} if for every object
$U$ of $\mathcal{C}$ we have $\alpha : \mathcal{F}(U)
\to \mathcal{G}(U)$ is injective.
\item We say that $\varphi$ is {\it surjective} if for every object
$U$ of $\mathcal{C}$ we have $\alpha : \mathcal{F}(U)
\to \mathcal{G}(U)$ is surjective.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-mono-epi}
The injective (resp.\ surjective) maps defined above
are exactly the monomorphisms (resp.\ epimorphisms) of
$\textit{PSh}(\mathcal{C})$. A map is an isomorphism
if and only if it is both injective and surjective.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-sub-presheaf}
We say $\mathcal{F}$ is a {\it subpresheaf} of $\mathcal{G}$
if for every object $U \in \text{Ob}(\mathcal{C})$ the set
$\mathcal{F}(U)$ is a subset of $\mathcal{G}(U)$, compatibly
with the restriction mappings.
\end{definition}

\noindent
In other words, the inclusion
maps $\mathcal{F}(U) \to \mathcal{G}(U)$
glue together to give an (injective) morphism of
presheaves $\mathcal{F} \to \mathcal{G}$.

\begin{lemma}
\label{lemma-image}
Let $\mathcal{C}$ be a category.
Suppose that $\varphi : \mathcal{F} \to \mathcal{G}$ is a
morphism of presheaves of setson $\mathcal{C}$.
There exists a unique subpresheaf $\mathcal{G}' \subset \mathcal{G}$
such that $\varphi$ factors as
$\mathcal{F} \to \mathcal{G}' \to \mathcal{G}$
and such that the first map is surjective.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-image}
Notation as in Lemma \ref{lemma-image}. We
say that $\mathcal{G}'$ is the {\it image of $\varphi$}.
\end{definition}
















\section{Limits and colimits in $\textit{PSh}$}
\label{section-limits-colimits-PSh}

\noindent
Let $\mathcal{C}$ be a category.
Limits and colimits exist in the category
$\textit{PSh}(\mathcal{C})$. In addition, for any
$U \in \text{ob}(\mathcal{C})$ the functor
$$
\textit{PSh}(\mathcal{C})
\longrightarrow
\textit{Sets}, \ \ 
\mathcal{F}
\longmapsto
\mathcal{F}(U)
$$
commutes with limits and colimits. Perhaps the easiest way to prove
these statement is the following. Given a diagram
$
\mathcal{F} :
\mathcal{I}
\to
\textit{PSh}(\mathcal{C})
$
define presheaves
$$
\mathcal{F}_{\lim} :
U
\longmapsto
\lim\nolimits_{i \in \mathcal{I}} \mathcal{F}_i(U)
\text{  and  }
\mathcal{F}_{\text{colim}} :
U
\longmapsto
\text{colim}_{i \in \mathcal{I}} \mathcal{F}_i(U)
$$
The are clearly projection maps $\mathcal{F}_{\lim} \to \mathcal{F}_i$
and canonical maps $\mathcal{F}_i \to \mathcal{F}_{\text{colim}}$. These
maps satisfy the requirements of the maps of a limit (reps.\ colimit)
of Categories, Defintion \ref{categories-definition-limit} (resp.\ 
Categories, Defintion \ref{categories-definition-colimit}). Finally, if
$(\mathcal{G}, q_i : \mathcal{G} \to \mathcal{F}_i)$ is another
system (as in the definition of a limit), then we get for every
$U$ a system of maps $\mathcal{G}(U) \to \mathcal{F}_i(U)$
with suitable functoriality requirements. And thus a unique
map $\mathcal{G}(U) \to \mathcal{F}_{\lim}(U)$. It is easy
to verify these are compatible  as we vary $U$ and arise from
the desired map $\mathcal{G} \to \mathcal{F}_{\lim}$.
A similar argument works in the case of the colimit.





















\section{Functoriality of $\textit{PSh}$}
\label{section-functoriality-PSh}

\noindent
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor between categories.
In this case we denote
$$
u^p :
\textit{PSh}(\mathcal{D})
\longrightarrow
\textit{PSh}(\mathcal{C})
$$
the functor that associates to $\mathcal{G}$ on $\mathcal{D}$ the presheaf
$u^p\mathcal{G} = \mathcal{G} \circ u$. Note that by the previous section
this functor commutes with all limits.

\medskip\noindent
For $V \in \text{ob}(D)$ let $\mathcal{I}_V = \mathcal{I}^u_V$ denote
the category with
$$
\begin{matrix}
\text{Ob}(\mathcal{I}_V)
&
=
&
\{
(U, \phi)
\mid
U \in \text{Ob}(\mathcal{C}),
\phi : V \to u(U)
\}
\\
\text{Mor}_{\mathcal{I}_Y}((U, \phi), (U', \phi'))
&
=
&
\{
f : U \to U' \text{ in }\mathcal{C}
\mid
u(f) \circ \phi = \phi'
\}
\end{matrix}
$$
Given $g : V' \to V$ in $\mathcal{D}$ we get a functor
$\overline{g} : \mathcal{I}_V \to \mathcal{I}_{V'}$
by setting $\overline{g}(U, \phi) = (U, \phi \circ g)$
on objects. Given a presheaf $\mathcal{F}$ on $\mathcal{C}$
we obtain a functor
$$
\mathcal{F}_V :
\mathcal{I}_V^{\text{opp}}
\longrightarrow
\textit{Sets}, \ \ 
(U, \phi)
\longmapsto
\mathcal{F}(U).
$$
In other words, $\mathcal{F}_V$ is a presheaf of sets on $\mathcal{I}_V$.
Note that we have $\mathcal{F}_{V'} \circ \overline{g} = \mathcal{F}_V$.
We define
$$
u_p\mathcal{F}(V) :=
\text{colim}_{\mathcal{I}_V^{opp}}\ \mathcal{F}_V
$$
As a colimit we obtain for each $(U, \phi) \in \text{Ob}(\mathcal{I}_V)$
a canonical map $\mathcal{F}(U)\xrightarrow{c(\phi)}u_p\mathcal{F}(V)$.
For $g : V' \to V$ as above there is a
canonical restriction map
$g^* : u_p\mathcal{F}(V) \to u_p\mathcal{F}(V')$
compatible with
$\mathcal{F}_{V'} \circ \overline{g} = \mathcal{F}_V$
by Categories, Lemma \ref{categories-lemma-functorial-colimit}.
It is the unique map so that for all $(U, \phi) \in \text{Ob}(\mathcal{I}_V)$
the diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]^{c(\phi)} \ar[d]_{\text{id}}
&
u_p\mathcal{F}(V) \ar[d]^{g^*}
\\
\mathcal{F}(U) \ar[r]^{c(\phi \circ g)}
&
u_p\mathcal{F}(V')
}
$$
commutes. The uniquess of these maps implies that we obtain a
presheaf. This presheaf will be denoted $u_p\mathcal{F}$.

\begin{lemma}
\label{lemma-recover}
There is a canonical map
$\mathcal{F}(U) \to u_p\mathcal{F}(u(U))$,
which is compatible with restriction maps
(on $\mathcal{F}$ and on $u_p\mathcal{F}$).
\end{lemma}

\begin{proof}
This is just the map $c(\text{id}_{u(U)})$ introduced above.
\end{proof}

\noindent
Note that any map of presheaves $\mathcal{F} \to \mathcal{F}'$
gives rise to compatible systems of maps between functors
$\mathcal{F}_Y \to \mathcal{F}'_Y$, and hence to a map
of presheaves $u_p\mathcal{F} \to u_p\mathcal{F}'$. In other
words, we have defined a functor
$$
u_p :
\textit{PSh}(\mathcal{C})
\longrightarrow
\textit{PSh}(\mathcal{D})
$$

\begin{lemma}
\label{lemma-adjoints-u}
The functor $u_p$ is a left adjoint to the functor $u^p$.
In other words the formula
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, u^p\mathcal{G})
=
\text{Mor}_{\textit{PSh}(\mathcal{D})}(u_p\mathcal{F}, \mathcal{G})
$$
holds bifunctorially in $\mathcal{F}$ and $\mathcal{G}$.
\end{lemma}

\begin{proof}
Let $\mathcal{G}$ be a presheaf on $\mathcal{D}$ and let
$\mathcal{F}$ be a presheaf on $\mathcal{C}$.
We will show that the displayed formula holds
by constructing maps either way. We will leave
it to the reader to verify they are each others inverse.

\medskip\noindent
Given a map $\alpha : u_p \mathcal{F} \to \mathcal{G}$
we get $u^p\alpha : u^p u_p \mathcal{F} \to u^p \mathcal{G}$.
Lemma \ref{lemma-recover} says that there is a
map $\mathcal{F} \to u^p u_p \mathcal{F}$. The composition
of the two gives the desired map. (The good thing about this construction
is that it is clearly functorial in everything in sight.)

\medskip\noindent
Conversely, given a map $\beta : \mathcal{F} \to u^p\mathcal{G}$
we get a map $u_p\beta : u_p\mathcal{F} \to u_p u^p\mathcal{G}$.
We claim that the functor $u^p\mathcal{G}_Y$ on $\mathcal{I}_Y$
has a canonical map to the constant functor with value $\mathcal{G}(Y)$.
Namely, for every object $(X, \phi)$ of $\mathcal{I}_Y$,
the value of $u^p\mathcal{G}_Y$ on this object is $\mathcal{G}(u(X))$
which maps to $\mathcal{G}(Y)$ by $\mathcal{G}(\phi) = \phi^* $.
This is a transformation of functors because $\mathcal{G}$ is a functor
itself. This leads to a map $u_p u^p \mathcal{G}(Y) \to \mathcal{G}(Y)$.
Another trivial verification shows that this is functorial in $Y$
leading to a map of presheaves $u_p u^p \mathcal{G} \to \mathcal{G}$.
The composition $u_p\mathcal{F} \to u_p u^p\mathcal{G} \to
\mathcal{G}$ is the desired map.
\end{proof}

\begin{remark}
\label{remark-functoriality-presheaves-values}
Suppose that $\mathcal{A}$ is a category such that
any diagram $\mathcal{I}_Y \to \mathcal{A}$ has a
colimit in $\mathcal{A}$. In this case it is clear
that there are functors $u^p$ and $u_p$, defined in
exactly the same way as above, on the categories
of presheaves with values in $\mathcal{A}$.
Moreover, the adjointness of the pair
$u^p$ and $u_p$ continues to hold in this setting.
\end{remark}
















\section{Sites}
\label{section-sites-definitions}

\noindent
Our notion of a site uses the following type of structures.

\begin{definition}
\label{definition-family-morphisms-fixed-target}
Let $\mathcal{C}$ be a category, see
Conventions, Section \ref{conventions-section-categories}.
A {\it family of morphisms with fixed target} in $\mathcal{C}$ is
given by an object $U \in \text{Ob}(\mathcal{C})$, a set $I$ and
for each $i\in I$ a morphism $U_i \to U$ of $\mathcal{C}$ with target $U$.
We use the notation $\{U_i \to U\}_{i\in I}$ to indicate this.
\end{definition}

\noindent
It can happen that the set $I$ is empty! This
notation is meant to suggest an open covering as in topology.

\begin{definition}
\label{definition-site}
A {\it site}\footnote{This notation differs from that of \cite{SGA4}, as
explained in the introduction.} is given by a category $\mathcal{C}$ and a set
$\text{Cov}(\mathcal{C})$ of families of morphisms with fixed target
$\{U_i \to U\}_{i \in I}$, called {\it coverings of $\mathcal{C}$},
satisfying the following axioms
\begin{enumerate}
\item If $V \to U$ is an isomorphism then $\{V \to U\} \in
\text{Cov}(\mathcal{C})$.
\item If $\{U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$ and for each
$i$ we have $\{V_{ij} \to U_i\}_{j\in J_i} \in \text{Cov}(\mathcal{C})$, then
$\{V_{ij} \to U\}_{i \in I, j\in J_i} \in \text{Cov}(\mathcal{C})$.
\item If $\{U_i \to U\}_{i\in I}\in \text{Cov}(\mathcal{C})$
and $V \to U$ is a morphism of $\mathcal{C}$ then $U_i \times_U V$
exists for all $i$ and
$\{U_i \times_U V \to V \}_{i\in I} \in \text{Cov}(\mathcal{C})$.
\end{enumerate}
\end{definition}

\begin{remark}
\label{remark-no-big-sites}
(On set theoretic issues -- skip on a first reading.)
The main reason for introducing sites is to study the
category of sheaves on a site, because it is the generalization
of the category of sheaves on a topological space that has
been so important in algebraic geometry. In order to avoid thinking
about things like ``classes of classes'' and so on, we will
not allow sites to be ``big'' categories, in contrast to what
we do for categories and $2$-categories.

\medskip\noindent
Suppose that $\mathcal{C}$ is a category and that
$\text{Cov}(\mathcal{C})$ is a proper class of coverings
satisfying (1), (2) and (3) above. We will not allow this as a
site either, mainly because we are going to take limits over coverings.
However, there are several natural
ways to replace $\text{Cov}(\mathcal{C})$ by a set of coverings
or a slightly different structure
that give rise to the same category of sheaves. For example:
\begin{enumerate}
\item In Sets, Section \ref{sets-section-coverings-site}
we show how to pick a suitable set of
coverings that gives the same category of sheaves.
\item Another thing we can do is to take the associated topology
(see Definition \ref{definition-topology-associated-site}).
The resulting topology on $\mathcal{C}$ has the same category of sheaves.
Two topologies have the same categories of sheaves if and only if
they are equal, see Theorem \ref{theorem-topology-and-topos}.
A topology on a category is given by a choice of sieves on objects.
The collection of all possible sieves and even all possible
topologies on $\mathcal{C}$ is a set.
\item We could also slightly modify the
notion of a site, see Remark \ref{remark-shrink-coverings} below, and
end up with a canonical set of coverings which is contained in the
powerset of the set of arrows of $\mathcal{C}$.
\end{enumerate}
Each of these solutions has some minor drawback. For the first, one has
to check that constructions later on do not depend on the choice
of the set of coverings. For the second, one has to learn about topologies
and redo many of the arguments for sites. For the third, see
the last sentence of Remark \ref{remark-shrink-coverings}.

\medskip\noindent
Our approach will be to work with sites as in Definition \ref{definition-site}
above. Given a category $\mathcal{C}$ with a propert class of coverings
as above, we will replace this by a set of coverings producing a site using
Sets, Lemma \ref{sets-lemma-coverings-site}. It is shown in
Lemma \ref{lemma-choice-set-coverings-immaterial} below that the resulting
category of sheaves (the topos) is independent of this choice. We leave it to
the reader to use one of the other two strategies to deal with these issues if
he/she so desires.
\end{remark}

\begin{example}
\label{example-site-topological}
Let $X$ be a topological space. Let $\mathcal{T}_X$ be the category whose
objects consist of all the open sets $U$ in $X$ and whose morphisms
are just the inclusion maps. That is, there is at most one morphism
between any two objects in $\mathcal{T}_X$. Now define
$\{U_i \to U\}_{i \in I}\in \text{Cov}(\mathcal{T}_X)$ if
and only if $\bigcup U_i = U$.
Conditions (1) and (2) above are clear, and (3) is also
clear once we realize that in $\mathcal{T}_X$ we have
$U \times V = U \cap V$. Note that in particular the empty
set has to be an element of $\mathcal{T}_X$ since otherwise
this would not work in general. Furthermore, it is equally important,
as we will see later, to allow the {\it empty covering of the empty
set as a covering}!
We turn $\mathcal{T}_X$ into a site
by choosing a suitable set of coverings
$\text{Cov}(\mathcal{T}_X)_{\kappa, \alpha}$ as in
Sets, Lemma \ref{sets-lemma-coverings-site}.
Presheaves and sheaves (as defined below)
on the site $\mathcal{T}_X$ will agree exactly with the usual notion of
a presheaves and sheaves on a topological space, as defined
in Sheaves, Section \ref{sheaves-section-introduction}.
\end{example}

\begin{example}
\label{example-site-on-group}
Let $G$ be a group. Consider the category $G\textit{-Sets}$
whose objects are sets $X$ with a left $G$-action, with
$G$-equivariant maps as the morphisms. An important example
is ${}_GG$ which is the $G$-set whose underlying set is $G$ and
action given by left multiplication. This category has
fiber products, see Categories, Section
\ref{categories-section-example-fibre-products}.
We declare $\{\varphi_i : U_i \to U\}_{i\in I}$ to be
a covering if $\bigcup_{i\in I} \varphi_i(U_i) = U$.
This gives a class of coverings on $G\textit{-Sets}$
which is easily see to satisfy conditions (1), (2), and (3)
of Definition \ref{definition-site}. The result is not a
site since both the collection of objects of the underlying category and
the collection of coverings form a proper class.
We first replace by $G\textit{-Sets}$ by a
full subcategory $G\textit{-Sets}_\alpha$ as in Sets,
Lemma \ref{sets-lemma-sets-with-group-action}.
After this the site
$(G\textit{-Sets}_\alpha,
\text{Cov}_{\kappa, \alpha'}(G\textit{-Sets}_\alpha))$
gotten by suitably restricting the collection of coverings
as in Sets, Lemma \ref{sets-lemma-coverings-site} will be
denoted $\mathcal{T}_G$.
\end{example}

















\section{Sheaves}
\label{section-sheaves}

\noindent
Let $\mathcal{C}$ be a site. Before we introduce the notion of
a sheaf with values in a category we explain what it means
for a presheaf of sets to be a sheaf. Let $\mathcal{F}$ be
a presheaf of sets on $\mathcal{C}$ and let
$\{U_i \to U\}_{i\in I}$ be an element of $\text{Cov}(\mathcal{C})$.
By assumption all the fibre products $U_i\times_U U_j$ exist
in $\mathcal{C}$. There are two natural maps
$$
\xymatrix{
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
which we will denote $\text{pr}^*_i$, $i = 0, 1$ as indicated
in the displayed equation.
Namely, an element of the left hand side corresponds to a
family $(s_i)_{i\in I}$, where each $s_i$ is a section of
$\mathcal{F}$ over $U_i$. For each pair $(i_0, i_1) \in I\times I$
we have the projection morphisms
$$
\text{pr}^{(i_0, i_1)}_{i_0} :
U_{i_0}\times_U U_{i_1}
\longrightarrow
U_{i_0}
\text{ and }
\text{pr}^{(i_0, i_1)}_{i_1} :
U_{i_0}\times_U U_{i_1}
\longrightarrow
U_{i_1}.
$$
Thus we may pull back either the section $s_{i_0}$ via
the first of these maps or the section $s_{i_1}$ via the
second. Explicitly the maps we refered to above are
$$
\text{pr}_0^* :
(s_i)_{i\in I}
\longmapsto
\Big(
\text{pr}^{(i_0, i_1), *}_{i_0}(s_{i_0})
\Big)_{(i_0, i_1) \in I\times I}
$$
and
$$
\text{pr}_1^* :
(s_i)_{i\in I}
\longmapsto
\Big(
\text{pr}^{(i_0, i_1), *}_{i_1}(s_{i_1})
\Big)_{(i_0, i_1) \in I\times I}.
$$
Finally consider the natural map
$$
\mathcal{F}(U)
\longrightarrow
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
, \ \ 
s
\longmapsto
(s|_{U_i})_{i \in I}
$$
where we have used the notation $s|_{U_i}$ to indicate the
pullback of $s$ via the map $U_i \to U$. It is clear from the
functorial natural of $\mathcal{F}$ and the commutativity
of the fibre product diagrams that
$\text{pr}_0^*( (s|_{U_i})_{i \in I} ) =
\text{pr}_1^*( (s|_{U_i})_{i \in I} )$.

\begin{definition}
\label{definition-sheaf-sets}
Let $\mathcal{C}$ be a site, and let $\mathcal{F}$ be a presheaf of sets
on $\mathcal{C}$. We say $\mathcal{F}$ is a {\it sheaf} if
for every covering $\{U_i \to U\}_{i \in I} \in \text{Cov}(\mathcal{C})$
the diagram
\begin{equation}
\label{equation-sheaf-condition}
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
\end{equation}
represents the first arrow as the equalizer of $\text{pr}_0^*$
and $\text{pr}_1^*$.
\end{definition}

\noindent
Loosely speaking this means that given sections $s_i \in \mathcal{F}(U_i)$
such that
$$
s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}
$$
in $\mathcal{F}(U_i \times_U U_j)$ for all pairs $(i, j) \in I\times I$
then there exists a unique $s \in \mathcal{F}(U)$ such
that $s_i = s|_{U_i}$.

\begin{example}
\label{example-sheaves-topological}
Let $X$ be a topological space. Let $\mathcal{T}_X$ be the
site constructed in Example \ref{example-site-topological}.
The notion of a sheaf on $\mathcal{T}_X$ coincides
with the notion of a sheaf on $X$ introduced in
Sheaves, Definition \ref{sheaves-definition-sheaf}.
\end{example}

\begin{example}
\label{example-topological-wrong}
Let $X$ be a topological space.
Let us consider the site $\mathcal{T}_X'$ which is
the same as the site $\mathcal{T}_X$ of
Example \ref{example-site-topological} except that
we disallow the empty covering of the empty set.
In other words, we do allow the covering $\{\emptyset \to \emptyset\}$
but we do not allow the covering whose index set is empty.
It is easy to show that this still defines a site. However,
we claim that the sheaves on $\mathcal{T}_X'$ are different
from the sheaves on $\mathcal{T}_X$. For example, as an extreme
case consider the situation where $X = \{p\}$ is a singleton.
Then the objects of $\mathcal{T}_X'$ are $\emptyset, X$
and the coverings are $\{\{\emptyset \to \emptyset\}, \{X \to X\}\}$.
Clearly, a sheaf on this is given by any choice of
a set $\mathcal{F}(\emptyset)$ and any choice of a
set $\mathcal{F}(X)$, together with any restricion map
$\mathcal{F}(X) \to \mathcal{F}(\emptyset)$. Thus sheaves
on $\mathcal{T}'_X$ are the same as usual sheaves on the two point space
$\{\eta, p\}$ with open sets $\{\emptyset, \{\eta\}, \{p, \eta\}\}$.
In general sheaves on $\mathcal{T}'_X$ are the same as sheaves
on the space $X \amalg \{\eta\}$, with opens given by
the empty set and any set of the form $U \cup \{\eta\}$ for
$U \subset X$ open.
\end{example}


\begin{definition}
\label{definition-category-sheaves-sets}
The category {\it $\textit{Sh}(\mathcal{C})$}
of sheaves of sets is the full subcategory of the category
$\textit{PSh}(\mathcal{C})$ whose objects are the sheaves of sets.
\end{definition}

\noindent
Let $\mathcal{A}$ be a category. If products indexed by $I$, and
$I\times I$ exist in $\mathcal{A}$ for any $I$ that occurs as an index
set for covering families then Definition \ref{definition-sheaf-sets}
above makes sense, and defines a notion of a sheaf on $\mathcal{C}$
with values in $\mathcal{A}$. Note that the diagram in $\mathcal{A}$
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
is an equalizer diagram if and only if for every object $X$ of
$\mathcal{A}$ the diagram of sets
$$
\xymatrix{
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U)) \ar[r]
&
\prod
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U_i))
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U_{i_0}\times_U U_{i_1}))
}
$$
is an equalizer diagram.

\medskip\noindent
Suppose $\mathcal{A}$ is arbitrary.
Let $\mathcal{F}$ be a presheaf with values in $\mathcal{A}$.
Choose any object $X\in \text{Ob}(\mathcal{A})$.
Then we get a presheaf of sets $\mathcal{F}_X$ defined
by the rule
$$
\mathcal{F}_X(U) = \text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U)).
$$
From the above it follows that a good definition is
obtained by requiring all the presheaves $\mathcal{F}_X$ to be
sheaves of sets.

\begin{definition}
\label{definition-sheaf}
Let $\mathcal{C}$ be a site, let $\mathcal{A}$ be a category
and let $\mathcal{F}$ be a presheaf on $\mathcal{C}$ with values in
$\mathcal{A}$. We say that $\mathcal{F}$ is a {\it sheaf}
if for all objects $X$ of $\mathcal{A}$ the presheaf of sets
$\mathcal{F}_X$ (defined above) is a sheaf.
\end{definition}











\section{Families of morphisms with fixed target}
\label{section-refinements}

\noindent
This section is meant to introduce some notions regarding
families of morphisms with the same target.

\begin{definition}
\label{definition-morphism-coverings}
Let $\mathcal{C}$ be a category.
Let $\mathcal{U} = \{U_i \to U\}_{i\in I}$ be a family
of morphisms of $\mathcal{C}$ with fixed target.
Let $\mathcal{V} = \{V_j \to V\}_{j\in J}$ be another.
\begin{enumerate}
\item
A {\it morphism of families of maps with fixed target
of $\mathcal{C}$ from  $\mathcal{U}$ to $\mathcal{V}$},
or simply a {\it morphism from $\mathcal{U}$ to $\mathcal{V}$}
is given by a morphism $U \to V$, a map of sets
$\alpha : I \to J$ and for each $i\in I$
a morphism $U_i \to V_{\alpha(i)}$ such that the diagram
$$
\xymatrix{
U_i \ar[r] \ar[d]
&
V_{\alpha(i)} \ar[d]
\\
U \ar[r]
&
V
}
$$
is commutative.
\item In the special case that $U = V$ and $U \to V$ is the identity
we call $\mathcal{U}$ a {\it refinement} of the family $\mathcal{V}$.
\end{enumerate}
\end{definition}

\noindent
A trivial but important remark is that if
$\mathcal{U} = \{U_i \to U\}_{i \in I}$
is the {\it empty family of maps}, i.e., if $I = \emptyset$, then no
family $\mathcal{V} = \{V_j \to V\}_{j\in J}$ with $J \not = \emptyset$
can refine $\mathcal{U}$!

\begin{definition}
\label{definition-combinatorial-tautological}
Let $\mathcal{C}$ be a category.
Let $\mathcal{U} = \{\varphi_i : U_i \to U\}_{i\in I}$, and
$\mathcal{V} = \{\psi_j : V_j \to U\}_{j\in J}$ be two families of morphisms
with fixed target.
\begin{enumerate}
\item  We say $\mathcal{U}$ and $\mathcal{V}$ are
{\it combinatorially equivalent}
if there exist maps
$\alpha : I \to J$ and $\beta : J\to I$ such that
$\varphi_i = \psi_{\alpha(i)}$ and $\psi_j = \varphi_{\beta(j)}$.
\item We say $\mathcal{U}$ and $\mathcal{V}$ are
{\it tautologically equivalent} if there exist maps
$\alpha : I \to J$ and $\beta : J\to I$ and
for all $i\in I$ and $j \in J$ commutative diagrams
$$
\xymatrix{
U_i \ar[rd] \ar[rr] & &
V_{\alpha(i)} \ar[ld] & &
V_j \ar[rd] \ar[rr] & &
U_{\beta(j)} \ar[ld] \\
&
U & & & &
U &
}
$$
with isomorphisms as horizontal arrows.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-tautological-combinatorial}
Let $\mathcal{C}$ be a category.
Let $\mathcal{U} = \{\varphi_i : U_i \to U\}_{i\in I}$, and
$\mathcal{V} = \{\psi_j : V_j \to U\}_{j\in J}$ be two families of morphisms
with the same fixed target.
\begin{enumerate}
\item If $\mathcal{U}$ and $\mathcal{V}$ are combinatorially equivalent
then they are tautologically equivalent.
\item If $\mathcal{U}$ and $\mathcal{V}$ are tautologically equivalent
then $\mathcal{U}$ is a refinement of $\mathcal{V}$ and
$\mathcal{V}$ is a refinement of $\mathcal{U}$.
\item The relation ``being combinatorially equivalent'' is an
equivalence relation on all families of morphisms with fixed target.
\item The relation ``being tautologically equivalent'' is an
equivalence relation on all families of morphisms with fixed target.
\item The relation ``$\mathcal{U}$ refines $\mathcal{V}$ and
$\mathcal{V}$ refines $\mathcal{U}$'' is an equivalence relation on
all families of morphisms with fixed target.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
In the following lemma, given a category $\mathcal{C}$, a presheaf
$\mathcal{F}$  on $\mathcal{C}$, a
family $\mathcal{U} = \{U_i \to U\}_{i\in I}$ such that
all fibre products $U_i \times_U U_{i'}$ exist, we say that
{\it the sheaf condition for $\mathcal{F}$ with respect to
$\mathcal{U}$} holds if the diagram (\ref{equation-sheaf-condition})
is an equalizer diagram.

\begin{lemma}
\label{lemma-tautological-same-sheaf}
Let $\mathcal{C}$ be a category. Let
$\mathcal{U} = \{\varphi_i : U_i \to U\}_{i\in I}$, and
$\mathcal{V} = \{\psi_j : V_j \to U\}_{j\in J}$ be two families of morphisms
with the same fixed target. Assume that the fibre products
$U_i \times_U U_{i'}$ and $V_j \times_U V_{j'}$ exist.
If $\mathcal{U}$ and $\mathcal{V}$ are
tautologically equivalent, then for any presheaf $\mathcal{F}$ on
$\mathcal{C}$ the sheaf condition for $\mathcal{F}$ with respect to
$\mathcal{U}$ is equivalent to the sheaf condition for $\mathcal{F}$
with respect to $\mathcal{V}$.
\end{lemma}

\begin{proof}
First, note that if $\varphi : A \to B$ is an isomorphism in the
category $\mathcal{C}$, then $\varphi^* : \mathcal{F}(B) \to \mathcal{F}(A)$
is an isomorphism. Let $\beta : J \to I$ be a map and let
$\psi_j : V_j \to U_{\beta(j)}$ be isomorphisms over $U$ which
are assumed to exist by hypothesis. Let us show that the sheaf
condition for $\mathcal{V}$ implies the sheaf condition for $\mathcal{U}$.
Suppose given sections $s_i \in \mathcal{F}(U_i)$ such that
$$
s_i|_{U_i \times_U U_{i'}} = s_{i'}|_{U_i \times_U U_{i'}}
$$
in $\mathcal{F}(U_i \times_U U_{i'})$ for all pairs $(i, i') \in I\times I$.
Then we can define $s_j = \psi_j^*s_{\beta(j)}$. For any pair
$(j, j') \in J\times J'$ the morphism
$\psi_j \times_{\text{id}_U} \psi_{j'} : V_j \times_U V_{j'} \to
U_{\beta(j)} \times_U U_{\beta(j')}$ is an isomorphism as well.
Hence by transport of structure we see that
$$
s_j|_{V_j \times_U V_{j'}} = s_{j'}|_{V_j \times_U V_{j'}}
$$
as well. The sheaf condition w.r.t.\ $\mathcal{V}$ implies there
exists a unique $s$ such that $s|_{V_j} = s_j$ for all $j \in J$.
By the first remark of the proof this implies that $s|_{U_i} = s_i$
for all $i \in \text{Im}(\beta)$ as well. Suppose that $i \in I$,
$i \not \in \text{Im}(\beta)$. For such an $i$ we have isomorphisms
$U_i \to V_{\alpha(i)} \to U_{\beta(\alpha(i))}$ over $U$. This gives a
morphism $U_i \to U_i \times_U U_{\beta(\alpha(i))}$ which is a
section of the projection. Because $s_i$ and $s_{\beta(\alpha(i))}$
restrict to the same element on the fibre product we conclude that
$s_{\beta(\alpha(i))}$ pulls back to $s_i$ via $U_i \to U_{\beta(\alpha(i))}$.
Thus we see that also $s_i = s|_{U_i}$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-refine-same-topology}
Let $\mathcal{C}$ be a category. Let $\text{Cov}_i$, $i = 1, 2$
be two sets of families of morphisms with fixed target which
each define the structure of a site on $\mathcal{C}$.
\begin{enumerate}
\item If every $\mathcal{U} \in \text{Cov}_1$ is tautologically
equivalent to some $\mathcal{V} \in \text{Cov}_2$, then
$\textit{Sh}(\mathcal{C}, \text{Cov}_2) \subset
\textit{Sh}(\mathcal{C}, \text{Cov}_1)$.
If also, every $\mathcal{U} \in \text{Cov}_2$ is tautologically
quivalent to some $\mathcal{V} \in \text{Cov}_1$ then
the category of sheaves are equal.
\item Suppose
that for each $\mathcal{U} \in \text{Cov}_1$ there exists a
$\mathcal{V} \in \text{Cov}_2$ such that $\mathcal{V}$ refines
$\mathcal{U}$. In this case
$\textit{Sh}(\mathcal{C}, \text{Cov}_2) \subset
\textit{Sh}(\mathcal{C}, \text{Cov}_1)$.
If also for every $\mathcal{U} \in \text{Cov}_2$
there exists a $\mathcal{V} \in \text{Cov}_1$ such that $\mathcal{V}$
refines $\mathcal{U}$, then the categories of sheaves
are equal.
\end{enumerate}
\end{lemma}

\begin{proof}
Part (1) follows directly from Lemma \ref{lemma-tautological-same-sheaf}
and the definitions.

\medskip\noindent
We advise the reader to {\bf skip the proof of (2)} on a first reading.
Let $\mathcal{F}$ be a sheaf of sets for the site
$(\mathcal{C}, \text{Cov}_2)$. Let $\mathcal{U} \in \text{Cov}_1$,
say $\mathcal{U} = \{U_i \to U\}_{i\in I}$. Choose a
refinement $\mathcal{V} \in \text{Cov}_2$ of $\mathcal{U}$, say
$\mathcal{V} = \{V_j \to U\}_{j\in J}$ and refinement given
by $\alpha : J \to I$ and $f_j : V_j \to U_{\alpha(j)}$.

\medskip\noindent
First let $s, s' \in \mathcal{F}(U)$. If for all $i \in I$ we
have $s|_{U_i} = s'|_{U_i}$, then we also have $s|_{V_j} = s'|_{V_j}$
for all $j \in J$. This implies that $s = s'$ by the sheaf condition
for $\mathcal{F}$ with respect to $\text{Cov}_2$. Hence we see that
the unicity in the sheaf condition for $\mathcal{F}$ and the
site $(\mathcal{C}, \text{Cov}_1)$ holds.

\medskip\noindent
Next, suppose given
$s_i \in \mathcal{F}(U_i)$ such that $s_i|_{U_i \times_U U_{i'}}
= s_{i'}|_{U_i \times_U U_{i'}}$ for all $i, i' \in I$.
Set $s_j = f_j^*(s_{\alpha(j)}) \in \mathcal{F}(V_j)$.
Since the morphisms $f_j$ are morphisms over $U$ we obtain
induced morphisms $f_{jj'} : V_j \times_U V_{j'} \to
U_{\alpha(i)} \times_U U_{\alpha(i')}$ compatible with the
$f_j, f_{j'}$ via the projection maps. It follows that
$$
s_j|_{V_j \times_U V_{j'}}
= f_{jj'}^*(s_{\alpha(j)}|_{U_{\alpha(j)} \times_U U_{\alpha(j')}})
= f_{jj'}^*(s_{\alpha(j')}|_{U_{\alpha(j)} \times_U U_{\alpha(j')}})
= s_{j'}|_{V_j \times_U V_{j'}}
$$
for all $j, j' \in J$. Hence, by the sheaf condition
for $\mathcal{F}$ with respect to $\text{Cov}_2$, we get a section
$s \in \mathcal{F}(U)$ which restricts to $s_j$ on each $V_j$.
We are done if we show $s$ restricts to $s_{i_0}$ on $U_{i_0}$
for any $i_0 \in I$. For each $i_0 \in I$ the family
$\mathcal{U}' = \{U_i \times_U U_{i_0} \to U_{i_0}\}_{i \in I}$
is an element of $\text{Cov}_1$ by the axioms of a site.
Also, the family
$\mathcal{V}' = \{V_j \times_U U_{i_0} \to U_{i_0}\}_{j \in J}$
is an element of $\text{Cov}_2$.
Then $\mathcal{V}'$ refines $\mathcal{U}'$
via $\alpha : J \to I$ and the maps $f'_j = f_j \times \text{id}_{U_{i_0}}$.
The element $s_{i_0}$ restricts to $s_i|_{U_i \times_U U_{i_0}}$
on the members of the covering $\mathcal{U}'$ and hence via
$(f_j')^*$ to the elements $s_j|_{V_j \times_U U_{i_0}}$ on the members
of the covering $\mathcal{V}'$. By construction of $s$ this is the
same as the family of restrictions of $s|_{U_{i_0}}$ to the members
of the covering $\mathcal{V}'$. Hence by the sheaf condition
for $\mathcal{F}$ with respect to $\text{Cov}_2$ we see that
$s|_{U_{i_0}} = s_{i_0}$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-choice-set-coverings-immaterial}
Let $\mathcal{C}$ be a category.
Let $\text{Cov}(\mathcal{C})$ be a proper class of coverings
satisfying conditions (1), (2) and (3) of Definition \ref{definition-site}.
Let $\text{Cov}_1, \text{Cov}_2 \subset \text{Cov}(\mathcal{C})$
be two subsets of $\text{Cov}(\mathcal{C})$ which endow
$\mathcal{C}$ with the structure of a site. If
every covering $\mathcal{U} \in \text{Cov}(\mathcal{C})$
is combinatorially equivalent to a covering in
$\text{Cov}_1$ and combinatorially equivalent to a
covering in $\text{Cov}_2$, then
$\textit{Sh}(\mathcal{C}, \text{Cov}_1) =
\textit{Sh}(\mathcal{C}, \text{Cov}_2)$.
\end{lemma}

\begin{proof}
This is clear from Lemmas \ref{lemma-refine-same-topology}
and \ref{lemma-tautological-combinatorial} above as the hypothesis
implies that every covering
$\mathcal{U} \in \text{Cov}_1 \subset \text{Cov}(\mathcal{C})$
is combinatorially equivalent to an element of $\text{Cov}_2$,
and similarly with the roles of $\text{Cov}_1$ and $\text{Cov}_2$
reversed.
\end{proof}
















\section{Sheaves on $\mathcal{T}_G$}
\label{section-example-sheaf-G-sets}

\noindent
As an example, consider the site $\mathcal{T}_G$ of
Example \ref{example-site-on-group}. We will describe the
category of sheaves on $\mathcal{T}_G$. The answer will turn
out to be independent of the choices made in defining $\mathcal{T}_G$.
In fact, during the proof we will need only the following
properties of the site $\mathcal{T}_G$:
\begin{enumerate}
\item[(a)] $\mathcal{T}_G$ is a full subcategory of $G\textit{-Sets}$,
\item[(b)] $\mathcal{T}_G$ contains the $G$-set ${}_GG$,
\item[(c)] $\mathcal{T}_G$ has fibre products and they are the same as
in $G\textit{-Sets}$,
\item[(d)] given $U \in \text{Ob}(\mathcal{T}_G)$ and a $G$-invariant
subset $O \subset U$, there exists an object of $\mathcal{T}_G$ isomorphic
to $O$, and
\item[(e)] any surjective family of maps $\{U_i \to U\}_{i \in I}$, with
$U, U_i \in \text{Ob}(\mathcal{T}_G)$ is combinatorially equivalent to a
covering of $\mathcal{T}_G$.
\end{enumerate}
These properties hold by Sets, Lemmas \ref{sets-lemma-what-is-in-it-G-sets}
and \ref{sets-lemma-coverings-site}.

\medskip\noindent
Remark that the map
$$
\text{Hom}_G({}_GG, {}_GG)
\longrightarrow
G^{opp},
\varphi
\longmapsto
\varphi(1)
$$
is an isomorphism of groups. The inverse map sends $g \in G$
to the map $R_g : s \mapsto sg$ (i.e.\ right multiplication).
Note that $R_{g_1g_2} = R_{g_2} \circ R_{g_1}$ so the opposite
is necessary.

\medskip\noindent
This implies that for every presheaf $\mathcal{F}$ on $\mathcal{T}_G$
the value $\mathcal{F}({}_GG)$ inherets the structure of a $G$-set
as follows: $g \cdot s$ for $g \in G$ and $s \in \mathcal{F}({}_GG)$
defined by $\mathcal{F}(R_g)(s)$. This is a left action
because
$$
(g_1g_2) \cdot s  = \mathcal{F}(R_{g_1g_2})(s) =
\mathcal{F}(R_{g_2}\circ R_{g_1})(s) =
\mathcal{F}(R_{g_1})( \mathcal{F}(R_{g_2})(s)) =
g_1 \cdot (g_2 \cdot s).
$$
Here we've used that $\mathcal{F}$
is contravariant. Note that if $\mathcal{F} \to \mathcal{G}$
is a morphism of presheaves of sets on $\mathcal{T}_G$
then we get a map $\mathcal{F}({}_GG) \to \mathcal{G}({}_GG)$
which is compatible with the $G$-actions we have just defined.
All in all we have constructed a functor
$$
\textit{PSh}(\mathcal{T}_G)
\longrightarrow
G\textit{-Sets}, \ \ 
\mathcal{F}
\longmapsto
\mathcal{F}({}_GG).
$$
We leave it to the reader to verify that this construction
has the pleasing property that the representable presheaf
$h_U$ is mapped to something canonically isomorphic to $U$.
In a formula $h_U({}_GG) = \text{Hom}_G({}_GG, U) \cong U$.

\medskip\noindent
Suppose that $S$ is a $G$-set. We define a presheaf
$\mathcal{F}_S$ by the formula\footnote{It may appear this is the
representable presheaf defined by $S$. This may not be the case
because $S$ may not be an object of $\mathcal{T}_G$ which was chosen
to be a sufficiently large set of $G$-sets.}
$$
\mathcal{F}_S(U)
=
\text{Mor}_{G\textit{-Sets}}(U, S).
$$
This is clearly a presheaf. On the other hand, suppose that
$\{U_i \to U\}_{i\in I}$ is a covering in $\mathcal{T}_G$.
This implies that $\coprod_i U_i \to U$ is surjective. Thus it is
clear that the map
$$
\mathcal{F}_S(U)
=
\text{Mor}_{G\textit{-Sets}}(U, S)
\longrightarrow
\prod \mathcal{F}_S(U_i)
=
\prod \text{Mor}_{G\textit{-Sets}}(U_i, S)
$$
is injective. And, given a family of $G$-equivariant
maps $s_i : U_i \to S$, such that all the diagrams
$$
\xymatrix{
U_i\times_U U_j \ar[d] \ar[r]
&
U_j \ar[d]^{s_j}
\\
U_i \ar[r]^{s_i}
&
S
}
$$
commute, there is a unique $G$-equivariant map
$s : U \to S$ such that $s_i$ is the composition
$U_i \to U \to S$. Namely, we just define $s(u) = s_i(u_i)$
where $i\in I$ is any index such that there exists some
$u_i \in U_i$ mapping to $u$ under the map $U_i \to U$.
The commutativity of the diagrams above implies exactly
that this construction is well defined. All in all we have
constructed a functor
$$
G\textit{-Sets}
\longrightarrow
\textit{Sh}(\mathcal{T}_G), \ \ 
S
\longmapsto
\mathcal{F}_S
.
$$

\medskip\noindent
We now have the following diagram of categories and functors
$$
\xymatrix{
\textit{PSh}(\mathcal{T}_G) \ar[rr]^{\mathcal{F} \mapsto \mathcal{F}({}_GG)}
&
&
G\textit{-Sets} \ar[ld]_{S \mapsto \mathcal{F}_S}
\\
&
\textit{Sh}(\mathcal{T}_G) \ar[lu]
&
}
$$
It is immediate from the definitions that $\mathcal{F}_S({}_GG)
= \text{Mor}_G({}_GG, S) = S$, the last equality by evaluation at $1$.
This almost proves the following.

\begin{proposition}
\label{proposition-sheaves-on-group}
The functors $\mathcal{F} \mapsto \mathcal{F}({}_GG)$
and $S \mapsto \mathcal{F}_S$ define quasi-inverse
equivalences between $\textit{Sh}(\mathcal{T}_G)$
and $G\textit{-Sets}$.
\end{proposition}

\begin{proof}
We have already seen that composing the functors one way around
is isomorphic to the identity functor.
In the other direction, for any sheaf $\mathcal{H}$ there is a natural
map of sheaves
$$
can :
\mathcal{H}
\longrightarrow
\mathcal{F}_{\mathcal{H}({}_GG)}.
$$
Namely, for any object $U$ of $\mathcal{T}_G$ we let $can_U$
be the map
$$
\begin{matrix}
\mathcal{H}(U)
&
\longrightarrow
&
\mathcal{F}_{\mathcal{H}({}_GG)}(U)
=
\text{Mor}_G(U, \mathcal{H}({}_GG))
\\
s
&
\longmapsto
&
(u \mapsto \alpha_u^*s).
\end{matrix}
$$
Here $\alpha_u : {}_GG \to U$ is the map
$\alpha_u(g) = gu$ and $\alpha_u^* : \mathcal{H}(U)
\to \mathcal{H}({}_GG)$ is the pullback map. A trivial
but confusing verification shows that this is indeed a map
of presheaves. We have to show that $can$ is an isomorphism.
We do this by showing $can_U$ is an isomorphism for all $U
\in \text{ob}(\mathcal{T}_G)$. We leave the (important but
easy) case that $U = {}_GG$ to the reader.
A general object $U$ of $\mathcal{T}_G$ is a disjoint union of
$G$-orbits: $U = \coprod_{i\in I} O_i$. The family of maps
$\{O_i \to U\}_{i \in I}$ is tautologically equivalent
to a covering in $\mathcal{T}_G$ (by the properties of $\mathcal{T}_G$
listed at the beginning of this section). Hence by Lemma
\ref{lemma-tautological-same-sheaf} the sheaf $\mathcal{H}$
satisfies the sheaf property with respect to
$\{O_i \to U\}_{i \in I}$. The sheaf property for this covering
implies $\mathcal{H}(U) = \prod_i \mathcal{H}(O_i)$.
Hence it suffices to show that $can_U$ is an
isomorphism when $U$ consists of a single $G$-orbit. Let $u \in U$
and let $H \subset G$ be its stabilizer. Clearly,
$\text{Mor}_G(U, \mathcal{H}({}_GG)) = \mathcal{H}({}_GG)^H$
equals the subset of $H$-invariant elements. On the other hand
consider the covering $\{{}_GG \to U\}$ given by $g \mapsto
gu$ (again it is just combinatorially equivalent to some covering
of $\mathcal{T}_G$, and again this doesn't matter).
Note that the fibre product $({}_GG)\times_U ({}_GG)$
is equal to $\{(g, gh), g\in G, h\in H\} \cong \prod_{h\in H} {}_GG$.
Hence the sheaf property for this covering reads as
$$
\xymatrix{
\mathcal{H}(U) \ar[r]
&
\mathcal{H}({}_GG)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod_{h \in H}
\mathcal{H}({}_GG).
}
$$
The two maps $\text{pr}_i^*$ into the factor
$\mathcal{H}({}_GG)$ differ by multiplication by $h$.
Now the result follows from this and the fact that $can$
is an isomorphism for $U = {}_GG$.
\end{proof}





















\section{Sheafification}
\label{section-sheafification}

\noindent
In order to define the sheafification we study the zeroth
Cech cohomology group of a covering and its functoriality
properties.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$, and let
$\mathcal{U} = \{U_i \to U\}_{i \in I}$ be a covering of $\mathcal{C}$.
Let us use the notation $\mathcal{F}(\mathcal{U})$ to indicate the equalizer
$$
H^0(\mathcal{U}, \mathcal{F})
=
\{
(s_i)_{i\in I} \in \prod\nolimits_i \mathcal{F}(U_i)
\mid
s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}\ 
\forall i, j \in I
\}.
$$
As we will see later, this is the zeroth Cech cohomology
of $\mathcal{F}$ over $U$ with respect to the covering $\mathcal{U}$.
A small remark is that we can define $H^0(\mathcal{U}, \mathcal{F})$
as soon as all the morphisms $U_i \to U$ are representable, i.e.,
$\mathcal{U}$ need not be a covering of the site.
There is a canonical map $\mathcal{F}(U) \to H^0(\mathcal{U}, \mathcal{F})$.
It is clear that a morphism of coverings $\mathcal{U} \to \mathcal{V}$
induces commutative diagrams
$$
\xymatrix{
& U_i \ar[rr] & & V_{\alpha(i)} \\
U_i \times_U U_j \ar[rr] \ar[ur] \ar[dr] & &
V_{\alpha(i)}\times_V V_{\alpha(j)} \ar[ur] \ar[dr] & \\
& U_j \ar[rr] & & V_{\alpha(j)}
}.
$$
This in turn produces a map $H^0(\mathcal{V}, \mathcal{F}) \to
H^0(\mathcal{U}, \mathcal{F})$, compatible with the map $\mathcal{F}(V)
\to \mathcal{F}(U)$.

\medskip\noindent
By construction, a presheaf $\mathcal{F}$ is a sheaf if and only if for
every covering $\mathcal{U}$ of $\mathcal{C}$ the natural map
$\mathcal{F}(U) \to H^0(\mathcal{U}, \mathcal{F})$ is bijective.
We will use this notion to prove the following
simple lemma about limits of sheaves.

\begin{lemma}
\label{lemma-limit-sheaf}
Let $\mathcal{F} : \mathcal{I} \to \textit{Sh}(\mathcal{C})$
be a diagram. Then $\text{lim}_{\mathcal{I}} \mathcal{F}$ exists
and is equal to the limit in the category of presheaves.
\end{lemma}

\begin{proof}
Let $\lim_i \mathcal{F}_i$ be the limit as a presheaf.
We will show that this is a sheaf and then it will trivially follow
that it is a limit in the category of sheaves. To prove the sheaf
property, let $\mathcal{V} = \{V_j \to V\}_{j\in J}$ be a covering.
Let $(s_j)_{j\in J}$ be an element of $H^0(\mathcal{V}, \lim_i \mathcal{F}_i)$.
Using the projection maps we get elements $(s_{j, i})_{j\in J}$
in $H^0(\mathcal{V}, \mathcal{F}_i)$. By the sheaf poperty for
$\mathcal{F}_i$ we see that there is a unique $s_i \in \mathcal{F}_i(V)$
such that $s_{j, i} = s_i|_{V_j}$. Let $\phi : i \to i'$ be a morphism
of the index category. We would like to show that
$\mathcal{F}(\phi) : \mathcal{F}_i \to \mathcal{F}_{i'}$
maps $s_i$ to $s_{i'}$. We know this is true for the sections
$s_{i, j}$ and $s_{i', j}$ for all $j$ and hence by the sheaf property
for $\mathcal{F}_{i'}$ this is true. At this point we have an
element $s = (s_i)_{i \in \text{Ob}(\mathcal{I})}$ of
$(\lim_i \mathcal{F}_i)(V)$. We leave it to the reader to see
this element has the required property that $s_j = s|_{V_j}$.
\end{proof}

\begin{example}
\label{example-singleton-sheaf}
A particular example is the limit over the empty diagram.
This gives a final object in the category of (pre)sheaves.
Any presheaf that associates to each object
$U$ of $\mathcal{C}$ a singleton set, with unique restriction
mappings, is a final object. We often denote this sheaf by $*$.
\end{example}

\noindent
Let $\mathcal{J}_U$ be the category of all coverings of $U$.
In other words, the objects of $\mathcal{J}_U$ are the coverings
of $U$ in $\mathcal{C}$, and the morphisms are the refinements.
By our conventions on sites this is indeed a category, i.e.,
the collection of objects and morphisms forms a set.
Note that $\text{Ob}(\mathcal{J}_U)$ is not empty since
$\{\text{id}_U\}$ is an object of it. According to the remarks
above the construction $\mathcal{U} \mapsto H^0(\mathcal{U}, \mathcal{F})$
is a contravariant functor on $\mathcal{J}_U$.
We define
$$
\mathcal{F}^{+}(U)
=
\text{colim}_{\mathcal{J}_U^{\text{opp}}}
H^0(\mathcal{U}, \mathcal{F})
$$
See Categories, Section \ref{categories-section-limits} for
a discussion of limits and colimits. We point out that later
we will see that $\mathcal{F}^{+}(U)$ is the zeroth Cech
cohomology of $\mathcal{F}$ over $U$.

\medskip\noindent
Before we say more about the structure of the colimit, we turn
the collection of sets
$\mathcal{F}^{+}(U)$, $U \in \text{Ob}(\mathcal{C})$
into a presheaf. Namely, let $V \to U$ be a morphism of $\mathcal{C}$.
By the axioms of a site there is a functor\footnote{This construction
actually involves a choice of the fibre products $U_i\times_U V$
and hence the axiom of choice. The resulting map does not depend on
the choices made, see below.}
$$
\mathcal{J}_U
\longrightarrow
\mathcal{J}_V, \ \ 
\{U_i \to U\}
\longmapsto
\{U_i \times_U V \to V\}.
$$
Note that the projection maps furnish a functorial
morphism of coverings $\{U_i \times_U V \to V\} \to \{U_i \to U\}$
and hence, by the construction above, a functorial map of sets
$H^0(\{U_i \to U\}, \mathcal{F}) \to
H^0(\{U_i \times_U V \to V\}, \mathcal{F})$.
In other words, there is a transformation of functors
from $H^0(-, \mathcal{F}) : \mathcal{J}_U \to \textit{Sets}$
to the compostion $\mathcal{J}_U \to \mathcal{J}_V
\xrightarrow{H^0(-, \mathcal{F})} \textit{Sets}$. Hence by
generalities of colimits we obtain a canonical map
$\mathcal{F}^+(U) \to \mathcal{F}^+(V)$. In terms of the description
of the set $\mathcal{F}^+(U)$ above, it just takes the element
associated with $s = (s_i) \in H^0(\{U_i \to U\}, \mathcal{F})$ to the
element associated with $(s_i|_{V\times_U U_i})
\in H^0(\{U_i \times_U V \to V\}, \mathcal{F})$.

\begin{lemma}
\label{lemma-plus-presheaf}
The constructions above define a presheaf
$\mathcal{F}^+$ together with a canonical
map of presheaves $\mathcal{F} \to \mathcal{F}^+$.
\end{lemma}

\begin{proof}
All we have to do is to show that given morphisms
$W \to V \to U$ the composition $\mathcal{F}^+(U)
\to \mathcal{F}^+(V) \to \mathcal{F}^+(W)$
equals the map $\mathcal{F}^+(U) \to \mathcal{F}^+(W)$.
This can be shown directly by verifying that, given
a covering $\{U_i \to U\}$ and
$s = (s_i) \in H^0(\{U_i \to U\}, \mathcal{F})$,
we have canonically
$W \times_U U_i \cong W \times_V (V \times_U U_i)$,
and
$s_i|_{W \times_U U_i}$
corresponds to
$(s_i|_{V \times_U U_i})|_{W \times_V (V \times_U U_i)}$
via this isomorphism.
\end{proof}

\noindent
More indirectly, the result of
Lemma \ref{lemma-independent-refinement} shows that
we may pullback an element $s$ as above via any morphism
from any covering of $W$ to $\{U_i \to U\}$
and we will always end up with the same element in
$\mathcal{F}^+(W)$.

\begin{lemma}
\label{lemma-plus-functorial}
The association $\mathcal{F} \mapsto
(\mathcal{F} \to \mathcal{F}^+)$
is a functor.
\end{lemma}

\begin{proof}
Instead of proving this we state exactly what needs to be proven.
Let $\mathcal{F} \to \mathcal{G}$ be a map of presehaves. Prove
the commutativity of:
$$
\xymatrix{
\mathcal{F} \ar[r] \ar[d]
&
\mathcal{F}^{+} \ar[d]
\\
\mathcal{G} \ar[r]
&
\mathcal{G}^{+}
}
$$
\end{proof}

\noindent
The next two lemmas imply that the colimits above are directed.

\begin{lemma}
\label{lemma-common-refinement}
Given a pair of coverings $\{U_i \to U\}$
and $\{V_j \to U\}$ of a given object $U$ of the site
$\mathcal{C}$, there exists a covering which is a
common refinement.
\end{lemma}

\begin{proof}
Since $\mathcal{C}$ is a site we have that for every $i$ the
family $\{V_j \times_U U_i \to U_i\}_j$ is a covering.
And, then another axiom implies that $\{V_j \times_U U_i \to U\}_{i, j}$
is a covering of $U$. Clearly this covering refines both given
coverings.
\end{proof}

\begin{lemma}
\label{lemma-independent-refinement}
Any two morphisms $f, g: \mathcal{U} \to \mathcal{V}$ of coverings
inducing the same morphism $U \to V$ induce the same
map $H^0(\mathcal{V}, \mathcal{F}) \to  H^0(\mathcal{U}, \mathcal{F})$.
\end{lemma}

\begin{proof}
Let $\mathcal{U} = \{U_i \to U\}_{i\in I}$ and
$\mathcal{V} = \{V_j \to V\}_{j\in J}$.
The morphism $f$ consists of a map $U\to V$, a map $\alpha\colon I\to J$ and
maps $f_i\colon U_i\to V_{\alpha(i)}$.
Likewise, $g$~determines a map $\beta\colon I\to J$ and maps
$g_i\colon U_i\to V_{\beta(i)}$.
As $f$ and $g$ induce the same map $U\to V$, the diagram
$$
\xymatrix{
&
V_{\alpha(i)} \ar[dr]
\\
U_i \ar[ur]^{f_i} \ar[dr]_{g_i}
&
&
V
\\
&
V_{\beta(i)} \ar[ur]
}
$$
is commutative for every $i\in I$. Hence $f$ and $g$ factor through
the fibre product
$$
\xymatrix{
&
V_{\alpha(i)}
\\
U_i \ar[r]^-\varphi \ar[ur]^{f_i} \ar[dr]_{g_i}
&
V_{\alpha(i)}\times_VV_{\beta(i)} \ar[u]_{\text{pr}_1} \ar[d]^{\text{pr}_2}
\\
&
V_{\beta(i)}.
}
$$
Now let $s = (s_j)_j \in H^0(\mathcal{V}, \mathcal{F})$.
Then for all $i\in I$:
$$
(f^*s)_i
=
f_i^*(s_{\alpha(i)})
=
\varphi^*\text{pr}_1^*(s_{\alpha(i)})
=
\varphi^*\text{pr}_2^*(s_{\beta(i)})
=
g_i^*(s_{\beta(i)})
=
(g^*s)_i,
$$
where the middle equality is given by the definition
of $H^0(\mathcal{V}, \mathcal{F})$.
This shows that the maps
$H^0(\mathcal{V}, \mathcal{F}) \to H^0(\mathcal{U}, \mathcal{F})$
induced by $f$ and $g$ are equal.
\end{proof}

\begin{remark}
\label{remark-both-refine-same-H0}
In particular this lemma shows that if $\mathcal{U}$ is
a refinement of $\mathcal{V}$, and if $\mathcal{V}$ is a
refinement of $\mathcal{U}$, then there is a canonical
identification $H^0(\mathcal{U}, \mathcal{F}) =
H^0(\mathcal{V}, \mathcal{F})$.
\end{remark}

\noindent
From these two lemmas, and the fact that $\mathcal{J}_U$ is nonempty,
it follows that the diagram $H^0(-, \mathcal{F}) : \mathcal{J}_U^{\text{opp}}
\to \textit{Sets}$ is directed. Hence, by Categories,
Section \ref{categories-section-limit-sets}
the colimit $\mathcal{F}^{+}(U)$ may be described
in the following straightforward manner. Namely, every element in the set
$\mathcal{F}^{+}(U)$ arises from an element
$s \in H^0(\mathcal{U}, \mathcal{F})$ for some covering
$\mathcal{U}$ of $U$. Given a second element $s' \in
H^0(\mathcal{U}', \mathcal{F})$ then $s$ and $s'$ determine
the same element of the colimit if and only if there exists a covering
$\mathcal{V}$ of $U$ and refinements $f : \mathcal{V} \to \mathcal{U}$ and
$f' : \mathcal{V} \to \mathcal{U}'$ such that $f^*s = (f')^*s'$
in $H^0(\mathcal{V}, \mathcal{F})$. Since the trivial covering
$\{\text{id}_U\}$ is an object of $\mathcal{J}_U$ we get
a canonical map $\mathcal{F}(U) \to \mathcal{F}^+(U)$.

\begin{lemma}
\label{lemma-plus-surjective}
The map $\theta : \mathcal{F} \to \mathcal{F}^+$ has the following
property: For every object $U$ of $\mathcal{C}$ and every section
$s \in \mathcal{F}^+(U)$ there exists a covering $\{U_i \to U\}$
such that $s|_{U_i}$ is in the image of $\theta: \mathcal{F}(U_i)
\to \mathcal{F}^{+}(U_i)$.
\end{lemma}

\begin{proof}
Namely, let $\{U_i \to U\}$ be a covering such that $s$ arises
from the element $(s_i) \in H^0(\{U_i \to U\}, \mathcal{F})$.
According to Lemma \ref{lemma-independent-refinement} we may
consider the covering $\{U_i \to U_i\}$ and the (obvious) morphism
of coverings $\{U_i \to U_i\} \to \{U_i \to U\}$ to compute the
pullback of $s$ to an element of $\mathcal{F}^+(U_i)$. And indeed,
using this covering we get exactly $\theta(s_i)$ for the restriction
of $s$ to $U_i$.
\end{proof}

\begin{definition}
\label{definition-separated}
We say that a presheaf of sets $\mathcal{F}$ on a site
$\mathcal{C}$ is {\it separated} if, for all coverings
of $\{U_i \rightarrow U\}$, the map
$\mathcal{F}(U) \to \prod \mathcal{F}(U_i)$ is injective.
\end{definition}

\begin{theorem}
\label{theorem-plus}
With $\mathcal{F}$ as above
\begin{enumerate}
\item The presheaf $\mathcal{F}^+$ is separated.
\label{item-sep}
\item If $\mathcal{F}$ is separated, then $\mathcal{F}^+$ is a sheaf
and the map of presheaves $\mathcal{F} \to \mathcal{F}^+$ is injective.
\label{item-sheaf}
\item If $\mathcal{F}$ is a sheaf, then $\mathcal{F} \to \mathcal{F}^+$
is an isomorphism.
\label{item-plus-iso}
\item The presheaf $\mathcal{F}^{++}$ is always a sheaf.
\label{item-plusplus}
\end{enumerate}
\end{theorem}

\begin{proof}
Proof of (\ref{item-sep}).
Suppose that $s, s' \in \mathcal{F}^+(U)$ and suppose that
there exists some covering $\{U_i \to U\}$ such that
$s|_{U_i} = s'|_{U_i}$ for all $i$. We now have three coverings
of $U$: the covering $\{U_i \to U\}$ above, a covering $\mathcal{U}$
for $s$ as in Lemma \ref{lemma-plus-surjective},
and a similar covering $\mathcal{U}'$ for $s'$. By Lemma
\ref{lemma-common-refinement}, we can find a common refinement,
say $\{W_j \to U\}$. This means we have $s_j, s'_j \in \mathcal{F}(W_j)$
such that $s|_{W_j} = \theta(s_j)$, similarly for $s'|_{W_j}$, and
such that $\theta(s_j) = \theta(s'_j)$. This last equality means
that there exists some covering $\{W_{jk} \to W_j\}$ such that
$s_j|_{W_{jk}} = s'_j|_{W_{jk}}$. Then since $\{W_{jk} \to U\}$
is a covering we see that $s, s'$ map to the same element of
$H^0(\{W_{jk} \to U\}, \mathcal{F})$ as desired.

\medskip\noindent
Proof of (\ref{item-sheaf}). It is clear that $\mathcal{F} \to
\mathcal{F}^+$ is injective because all the maps
$\mathcal{F}(U) \to H^0(\mathcal{U}, \mathcal{F})$
are injective. It is also clear that, if $\mathcal{U} \to
\mathcal{U}'$ is a refinement, then $H^0(\mathcal{U}', \mathcal{F})
\to H^0(\mathcal{U}, \mathcal{F})$ is injective. Now,
suppose that $\{U_i \to U\}$ is a covering, and let
$(s_i)$ be a family of elements of $\mathcal{F}^+(U_i)$
satisfying the sheaf condition
$s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}$
for all $i, j \in I$. Choose coverings (as in
Lemma \ref{lemma-plus-surjective}) $\{U_{ij} \to U_i\}$
such that $s_i|_{U_{ij}}$ is the image of the (unique)
element $s_{ij} \in \mathcal{F}(U_{ij})$. The sheaf condition
implies that $s_{ij}$ and $s_{i'j'}$ agree over
$U_{ij} \times_U U_{i'j'}$ because it maps to
$U_i \times_U U_{i'}$ and we have the equality there.
Hence $(s_{ij}) \in H^0(\{U_{ij} \to U\}, \mathcal{F})$
gives rise to an element $s \in \mathcal{F}^+(U)$. We leave
it to the reader to verify that $s|_{U_i} = s_i$.

\medskip\noindent
Proof of (\ref{item-plus-iso}). This is immediate from the definitions
because the sheaf property says exactly that every map
$\mathcal{F} \to H^0(\mathcal{U}, \mathcal{F})$ is bijective
(for every covering $\mathcal{U}$ of $U$).

\medskip\noindent
Statement (\ref{item-plusplus}) is now obvious.
\end{proof}

\begin{definition}
\label{definition-associated-sheaf}
Let $\mathcal{C}$ be a site and let $\mathcal{F}$ be a presheaf
of sets on $\mathcal{C}$. The sheaf $\mathcal{F}^\# := \mathcal{F}^{++}$
together with the canonical map $\mathcal{F} \to \mathcal{F}^\#$
is called the {\it sheaf associated to $\mathcal{F}$}.
\end{definition}

\begin{proposition}
\label{proposition-sheafification-adjoint}
The canonical map $\mathcal{F} \to \mathcal{F}^\#$ has the
following universal property: For any map $\mathcal{F} \to \mathcal{G}$,
where $\mathcal{G}$ is a sheaf of sets, there is a unique map
$\mathcal{F}^\# \to \mathcal{G}$ such that $\mathcal{F} \to \mathcal{F}^\#
\to \mathcal{G}$ equals the given map.
\end{proposition}

\begin{proof}
By Lemma \ref{lemma-plus-functorial} we get a commutative diagram
$$
\xymatrix{
\mathcal{F} \ar[r] \ar[d]
&
\mathcal{F}^{+} \ar[r] \ar[d]
&
\mathcal{F}^{++} \ar[d]
\\
\mathcal{G} \ar[r]
&
\mathcal{G}^{+} \ar[r]
&
\mathcal{G}^{++}
}
$$
and by Theorem \ref{theorem-plus} the lower horizontal maps
are isomorphisms. The uniqueness follows from Lemma
\ref{lemma-plus-surjective} which says that every section of
$\mathcal{F}^\#$ locally comes from sections of $\mathcal{F}$.
\end{proof}

\noindent
It is clear from this result that the functor $\mathcal{F}
\mapsto (\mathcal{F} \to \mathcal{F}^\#)$ is unique
up to unique isomorphism of functors. Actually, let us temporarily
denote $i : \textit{Sh}(\mathcal{C}) \to \textit{PSh}(\mathcal{C})$
the functor of inclusion. The result above actually says that
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, i(\mathcal{G}))
=
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}^\#, \mathcal{G}).
$$
In other words, the functor of sheafification is the left adjoint
to the inclusion functor $i$. We finish this section with a couple
of lemmas.

\begin{lemma}
\label{lemma-colimit-sheaves}
Let $\mathcal{F} : \mathcal{I} \to \textit{Sh}(\mathcal{C})$
be a diagram. Then $\text{colim}_{\mathcal{I}} \mathcal{F}$ exists
and is the sheafification of the colimit in the category of presheaves.
\end{lemma}

\begin{proof}
Since the sheafification functor is a left adjoint it commutes
with all colimits, see Categories,
Lemma \ref{categories-lemma-adjoint-exact}.
Hence, since $\textit{PSh}(\mathcal{C})$ has colimits, we deduce
that $\textit{Sh}(\mathcal{C})$ has colimits (which are the
sheafifications of the colimits in presheaves).
\end{proof}

\begin{lemma}
\label{lemma-sheafification-exact}
The functor $\mathcal{F} \mapsto \mathcal{F}^\#$ is exact.
\end{lemma}

\begin{proof}
Since it is a left adjoint it is right exact, see
Categories, Lemma \ref{categories-lemma-exact-adjoint}.
On the other hand, by Lemmas \ref{lemma-common-refinement}
and Lemma \ref{lemma-independent-refinement} the colimits
in the construction of $\mathcal{F}^+$ are really over the
directed category $\overline{\mathcal{J}}_U$ which has
the same objects as $\mathcal{J}_U$ but just one morphisms
$\mathcal{U} \to \mathcal{U}'$ when $\mathcal{U}$
is a refinement of $\mathcal{U}'$. Hence by
Categories, Lemma \ref{categories-lemma-directed-commutes}
we see that $\mathcal{F} \to \mathcal{F}^+$ commutes
with finite limits (as a functor from presheaves to
presheaves). Then we conclude using Lemma
\ref{lemma-limit-sheaf}.
\end{proof}

\begin{lemma}
\label{lemma-sections-sheafification}
Let $\mathcal{C}$ be a site.
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$.
Denote $\theta^2 : \mathcal{F} \to \mathcal{F}^\#$ the canonical
map of $\mathcal{F}$ into its sheafification.
Let $U$ be an object of $\mathcal{C}$.
Let $s \in \mathcal{F}^\#(U)$. There exists
a covering $\{U_i \to U\}$ and sections
$s_i \in \mathcal{F}(U_i)$ such that
\begin{enumerate}
\item $s|_{U_i} = \theta^2(s_i)$, and
\item for every $i, j$ there exists a covering
$\{U_{ijk} \to U_i \times_U U_j\}$ of $\mathcal{C}$ such that
the pullback of $s_i$ and $s_j$ to each $U_{ijk}$ agree.
\end{enumerate}
Conversely, given any covering $\{U_i \to U\}$, elements
$s_i \in \mathcal{F}(U_i)$ such that (2) holds, then there
exists a unique section $s \in \mathcal{F}^\#(U)$ such
that (1) holds.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


















\section{Injective and surjective maps of sheaves}
\label{section-sheaves-injective}

\begin{definition}
\label{definition-sheaves-injective-surjective}
Let $\mathcal{C}$ be a site, and let $\varphi : \mathcal{F}
\to \mathcal{G}$ be a map of sheaves of sets.
\begin{enumerate}
\item We say that $\varphi$ is {\it injective} if for every object
$U$ of $\mathcal{C}$ the map $\varphi : \mathcal{F}(U)
\to \mathcal{G}(U)$ is injective.
\item We say that $\varphi$ is {\it surjective} if for every object
$U$ of $\mathcal{C}$ and every section $s\in \mathcal{F}(U)$
there exists a covering $\{U_i \to U\}$ such that for
all $i$ the restriction $s|_{U_i}$ is in the image of
$\varphi : \mathcal{F}(U_i) \to \mathcal{G}(U_i)$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-mono-epi-sheaves}
The injective (resp.\ surjective) maps defined above
are exactly the monomorphisms (resp.\ epimorphisms) of
the category $\textit{Sh}(\mathcal{C})$. A map of sheaves
is an isomorphism if and only if it is both injective
and surjective.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}



















\section{Representable sheaves}
\label{section-representable-sheaves}

\noindent
Let $\mathcal{C}$ be a category. The canonical topology is
the finest topology such that all representable presheaves
are sheaves (it is formally defined in
Definition \ref{definition-canonical-topology} but we will not
need this).
This topology is not always the topology associated to the
structure of a site on $\mathcal{C}$.
We will give a collection of coverings that generates this topology
in case $\mathcal{C}$ has fibered products. First we give
the following general definition.

\begin{definition}
\label{definition-universal-effective-epimorphisms}
Let $\mathcal{C}$ be a category. We say that $\{U_i \to U\}$ is a
{\it family of universal effective epimorphisms}\footnote{It is really
the family that is universal.}
if all the morphisms $U_i\to U$
are representable (see
Categories, Definition \ref{categories-definition-representable-morphism}),
and for any $X\in \text{Ob}(\mathcal{C})$
the sequence
$$
\xymatrix{
\text{Mor}_{\mathcal{C}}(U, X) \ar[r]
&
\text{Mor}_{\mathcal{C}}(U_i, X)
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\text{Mor}_{\mathcal{C}}(U_i \times_U U_j, X)
}
$$
is exact, and for any morphism $V \to U$ the base change
$\{U_i\times_U V \to V\}$ satisfies this property as well.
\end{definition}

\noindent
The class of families of universal effective epimorphisms
satisfies the axioms of Definition \ref{definition-site}.
If $\mathcal{C}$ has fibre products, then the associated topology is
the canonical topology. (In this case, to get a site argue as in Sets,
Lemma \ref{sets-lemma-coverings-site}.)

\medskip\noindent
Conversely, suppose that $\mathcal{C}$ is a site such that
all representable presheaves are sheaves. Then clearly, all
coverings are families of universal effective epimorphisms.
Thus the following definitions is the ``correct'' one in the
setting of sites.

\begin{definition}
\label{definition-weaker-than-canonical}
We say that the {\it topology on a site $\mathcal{C}$ is
weaker than the canonical topology} if all the coverings
of $\mathcal{C}$ are families of universal effective epimorphisms.
\end{definition}

\begin{definition}
\label{definition-representable-sheaf}
Suppose that the topology on the site $\mathcal{C}$
is weaker than the canonical topology. The Yoneda
embedding $h$ (see
Categories, Section \ref{categories-section-opposite}) actually
presents $\mathcal{C}$ as a full subcategory of the
category of sheaves of $\mathcal{C}$.
In this case we sometimes write {\it $\underline{U} = h_U$}
or simply {\it $U$} for the representable
sheaf associated to the object $U$ of $\mathcal{C}$.
\end{definition}

\noindent
Note that we have in the situation of the definition
$$
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\underline{U}, \mathcal{F})
=
\mathcal{F}(U)
$$
for every sheaf $\mathcal{F}$, since after all the same thing
was true for presheaves. In general (but only rarely) the
presheaves $h_U$ are not sheaves and to get a sheaf you have
to sheafifiy them. In this case it will still be true that
$\text{Mor}_{\textit{Sh}(\mathcal{C})}(h_U^\#, \mathcal{F}) =
\mathcal{F}(U)$ for every sheaf $\mathcal{F}$
by the adjointness property of $\#$.

\medskip\noindent
The next lemma says that, if the topology is weaker than the
canonical topology, every sheaf is made up out of
representable sheaves in a way.

\begin{lemma}
\label{lemma-sheaf-coequalizer-representable}
Let $\mathcal{C}$ be a site.
Let $\mathcal{F}$ be a sheaf of sets.
There exists a diagram of sheaves of sets
$$
\xymatrix{
\mathcal{F}_1
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\mathcal{F}_0 \ar[r]
&
\mathcal{F}}
$$
which represents $\mathcal{F}$ as a coequalizer,
such that $\mathcal{F}_i$, $i = 0, 1$ are coproducts
of sheaves of the form $h_U^\#$.
\end{lemma}

\begin{proof}
First we show there is an epimorphism $\mathcal{F}_0 \to \mathcal{F}$
of the desired type. Namely, just take
$$
\mathcal{F}_0
=
\coprod\nolimits_{U \in \text{Ob}(\mathcal{C}), s\in \mathcal{F}(U)}
(h_U)^\# \longrightarrow \mathcal{F}
$$
Here the arrow restricted to the component corresponding to
$(U, s)$ maps the element $\text{id}_U \in h_U^\#(U)$
to the section $s \in \mathcal{F}(U)$. This is an epimorphism
according to Lemma \ref{lemma-mono-epi-sheaves} above.
To construct $\mathcal{F}_1$ first set $\mathcal{G}
= \mathcal{F}_0 \times_{\mathcal{F}} \mathcal{F}_0$ and
then construct an epimorphism $\mathcal{F}_1 \to \mathcal{G}$
as above.
\end{proof}

\begin{lemma}
\label{lemma-covering-surjective-after-sheafification}
Let $\mathcal{C}$ be a site. If
$\{U_i \to U\}_{i \in I}$ is a covering of the site
$\mathcal{C}$, then the morphism of presheaves of sets
$$
\coprod\nolimits_{i \in I} h_{U_i} \to h_U
$$
becomes surjective after sheafification.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-mono-epi-sheaves} above we have to show that
$\coprod\nolimits_{i \in I} h_{U_i}^\# \to h_U^\#$
is an epimorphism. Let $\mathcal{F}$ be a sheaf of sets.
A morphism $h_U^\# \to \mathcal{F}$
corresponds to a section $s \in \mathcal{F}(U)$.
Hence the injectivity of $\text{Mor}(h_U^\#, \mathcal{F})
\to \prod_i \text{Mor}(h_{U_i}^\#, \mathcal{F})$ follows
directly from the sheaf property of $\mathcal{F}$.
\end{proof}


\section{Continuous functors}
\label{section-continuous-functors}

\begin{definition}
\label{definition-continuous}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
A functor $u : \mathcal{C} \to \mathcal{D}$ is called
{\it continuous} if for every
$\{V_i \to V\}_{i\in I} \in \text{Cov}(\mathcal{C})$
we have the following
\begin{enumerate}
\item $\{u(V_i) \to u(V)\}_{i\in I}$ is in $\text{Cov}(\mathcal{D})$, and
\item for any morphism $T \to V$ in $\mathcal{C}$ the morphism
$u(T\times_V V_i) \to u(T) \times_{u(V)} u(V_i)$ is an isomorphism.
\end{enumerate}
\end{definition}

\noindent
Recall that given a functor $u$ as above, and a presheaf of sets
$\mathcal{F}$ on $\mathcal{D}$ we have defined
$u^p\mathcal{F}$ to be simply the presheaf
$\mathcal{F} \circ u$, in other words
$$
u^p\mathcal{F} (V) = \mathcal{F}(u(V))
$$
for every object $V$ of $\mathcal{C}$.

\begin{lemma}
\label{lemma-pushforward-sheaf}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a continuous functor.
If $\mathcal{F}$ is a sheaf on $\mathcal{D}$ then
$u^p\mathcal{F}$ is a sheaf as well.
\end{lemma}

\begin{proof}
Let $\{V_i \to V\}$ be a covering.
By assumption $\{u(V_i) \to u(V)\}$ is a covering
in $\mathcal{D}$ and $u(V_i\times_V V_j) =
u(V_i)\times_{u(V)}u(V_j)$. Hence the sheaf condition for
$u^p\mathcal{F}$ and the covering $\{V_i \to V\}$
is precisely the same as the sheaf condition for $\mathcal{F}$
and the covering $\{u(V_i) \to u(V)\}$.
\end{proof}

\noindent
In order to avoid confusion we sometimes denote
$$
u^s :
\textit{Sh}(\mathcal{D})
\longrightarrow
\textit{Sh}(\mathcal{C})
$$
the functor $u^p$ restricted to the subcategory of sheaves of sets.

\begin{lemma}
\label{lemma-adjoint-sheaves}
In the situation of Lemma \ref{lemma-pushforward-sheaf}.
The functor $u_s : \mathcal{G} \mapsto (u_p \mathcal{G})^\#$
is a left adjoint to $u^s$.
\end{lemma}

\begin{proof}
Follows directly from Lemma \ref{lemma-adjoints-u} and
Proposition \ref{proposition-sheafification-adjoint}.
\end{proof}

\noindent
Here is a technical lemma.

\begin{lemma}
\label{lemma-technical-up}
In the situation of Lemma \ref{lemma-pushforward-sheaf}.
For any presheaf $\mathcal{G}$ on $\mathcal{C}$
we have $(u_p\mathcal{G})^\# = (u_p(\mathcal{G}^\#))^\#$.
\end{lemma}

\begin{proof}
For any sheaf $\mathcal{F}$ on $\mathcal{D}$ we have
\begin{eqnarray*}
\text{Mor}_{\textit{Sh}(\mathcal{D})}(u_s(\mathcal{G}^\#), \mathcal{F})
& = &
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{G}^\#, u^s\mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{G}^\#, u^p\mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{G}, u^p\mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{D})}(u_p\mathcal{G}, \mathcal{F}) \\
& = &
\text{Mor}_{\textit{Sh}(\mathcal{D})}((u_p\mathcal{G})^\#, \mathcal{F})
\end{eqnarray*}
and the result follows from the Yoneda lemma.
\end{proof}


\begin{remark}
\label{remark-quasi-continuous}
(Skip on first reading.)
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let us
use the definition of tautologically equivalent families of maps,
see Definition \ref{definition-combinatorial-tautological}
to (slightly) weaken the conditions defining continuity.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
Let us call $u$ {\it quasi-continuous} if for every
$\mathcal{V} = \{V_i \to V\}_{i\in I} \in \text{Cov}(\mathcal{C})$
we have the following
\begin{enumerate}
\item[(1')] the family of maps
$\{u(V_i) \to u(V)\}_{i\in I}$ is tautologically equivalent
to an element of $\text{Cov}(\mathcal{D})$, and
\item[(2)] for any morphism $T \to V$ in $\mathcal{C}$ the morphism
$u(T\times_V V_i) \to u(T) \times_{u(V)} u(V_i)$ is an isomorphism.
\end{enumerate}
We are going to see that Lemmas \ref{lemma-pushforward-sheaf}
and \ref{lemma-adjoint-sheaves} hold in case
$u$ is quasi-continuous as well.

\medskip\noindent
We first remark that the morphisms $u(V_i) \to u(V)$ are representable, since
they are isomorphic to representable morphisms (by the first condition).
In particular, the family $u(\mathcal{V}) = \{u(V_i) \to u(V)\}_{i\in I}$
gives rise to a zeroth Cech cohomology group
$H^0(u(\mathcal{V}), \mathcal{F})$ for any presheaf $\mathcal{F}$ on
$\mathcal{D}$.
Let $\mathcal{U} = \{U_j \to u(V)\}_{j \in J}$ be an element
of $\text{Cov}(\mathcal{D})$ tautologically
equivalent to $\{u(V_i) \to u(V)\}_{i \in I}$. Note that $u(\mathcal{V})$
is a refinement of $\mathcal{U}$ and vice versa. Hence by Remark
\ref{remark-both-refine-same-H0} we see that
$H^0(u(\mathcal{V}), \mathcal{F}) = H^0(\mathcal{U}, \mathcal{F})$.
In particular, if $\mathcal{F}$ is a sheaf, then
$\mathcal{F}(u(V)) = H^0(u(\mathcal{V}), \mathcal{F})$ because
of the sheaf property expressed in terms of zeroth Cech cohomology
groups. We conclude that $u^p\mathcal{F}$ is a sheaf if $\mathcal{F}$
is a sheaf, since $H^0(\mathcal{V}, u^p\mathcal{F}) =
H^0(u(\mathcal{V}), \mathcal{F})$ which we just observed is
equal to $\mathcal{F}(u(V)) = u^p\mathcal{F}(V)$. Thus Lemma
\ref{lemma-pushforward-sheaf} holds. Lemma \ref{lemma-adjoint-sheaves}
follows immediately.
\end{remark}






\section{Morphisms of sites}
\label{section-morphism-sites}

\begin{definition}
\label{definition-morphism-sites}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
A {\it morphism of sites} $f : \mathcal{D} \to \mathcal{C}$
is given by a continuous functor $u : \mathcal{C} \to \mathcal{D}$
such that the functor $u_s$ is exact.
\end{definition}

\noindent
Notice how the functor $u$ goes in the direction {\it opposite}
the morphism $f$. If $f \leftrightarrow u$ is a morphism of sites
then we use the notation $f^{-1} = u_s$ and $f_* = u^s$.
The functor $f^{-1}$ is called the {\it pullback functor} and
the functor $f_*$ is called the {\it push forward functor}.
As in topology we have the following adjointness property
$$
\text{Mor}_{\textit{Sh}(\mathcal{D})}(f^{-1}\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{G}, f_*\mathcal{F})
$$
The motivation for this definition comes from the following
example.

\begin{example}
\label{example-continuous-map}
Let $f : X  \to Y$ be a continuous map of topological spaces.
Recall that we have sites $\mathcal{T}_X$ and $\mathcal{T}_Y$,
see Example \ref{example-site-topological}. Consider the functor
$u : \mathcal{T}_Y \to \mathcal{T}_X$, $V \mapsto f^{-1}(V)$.
This functor is clearly continuous because inverse images of
open coverings are open coverings. (Actually, this depends on how
you chose sets of coverings for $\mathcal{T}_X$ and $\mathcal{T}_Y$.
But in any case the functor is quasi-continuous, see Remark
\ref{remark-quasi-continuous}.)
It is easy to verify that
the functor $u^s$ equals the usual pushforward functor $f_*$
from topology. Hence, since $u_s$ is an adjoint and since
the usual topological pullback functor $f^{-1}$ is an adjoint as well,
we get a canonical isomorphism $f^{-1} \cong u_s$. Since $f^{-1}$
is exact we deduce that $u_s$ is exact. Hence $u$ defines a morphism
of sites $f : \mathcal{T}_X \to \mathcal{T}_Y$, which we may denote
$f$ as well since we've already seen the functors $u_s, u^s$ agree
with their usual notions anyway.
\end{example}

\begin{lemma}
\label{lemma-composition-morphisms-sites}
Let $\mathcal{C}_i$, $i = 1, 2, 3$ be sites. Let
$u : \mathcal{C}_2 \to \mathcal{C}_1$ and
$v : \mathcal{C}_3 \to \mathcal{C}_2$ be continuous functors
which induce morphisms of sites. Then the functor
$u \circ v : \mathcal{C}_3 \to \mathcal{C}_1$ is continuous and
defines a morphism of sites $\mathcal{C}_1 \to \mathcal{C}_3$.
\end{lemma}

\begin{proof}
It is immediate from the definitions that $u \circ v$ is a continuous functor.
In addition, we clearly have $(u \circ v)^p = v^p \circ u^p$, and hence
$(u \circ v)^s = v^s \circ u^s$. Hence functors $(u \circ v)_s$  and
$u_s \circ v_s$ are both left adjoints of $(u \circ v)^s$. Therefore
$(u \circ v)_s \cong u_s \circ v_s$ and we conclude that $(u \circ v)_s$
is exact as a composition of exact functors.
\end{proof}

\begin{definition}
\label{definition-composition-morphisms-sites}
Let $\mathcal{C}_i$, $i = 1, 2, 3$ be sites. Let
$f : \mathcal{C}_1 \to \mathcal{C}_2$ and
$g : \mathcal{C}_2 \to \mathcal{C}_3$ be morphisms of sites
given by continuous functors $u : \mathcal{C}_2 \to \mathcal{C}_1$
and $v : \mathcal{C}_3 \to \mathcal{C}_2$. The {\it composition}
$g \circ f$ is the morphism of sites corresponding to the
functor $u \circ v$.
\end{definition}

\noindent
In this situation we have $(g \circ f)_* = g_* \circ f_*$ and
$(g \circ f)^{-1} = f^{-1} \circ g^{-1}$ (see proof of
Lemma \ref{lemma-composition-morphisms-sites}).

\begin{lemma}
\label{lemma-directed}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let
$u : \mathcal{C} \to \mathcal{D}$ be continuous. Assume
\begin{enumerate}
\item the category $\mathcal{C}$ has a final object $X$ and
$u(X)$ is a final object of $\mathcal{D}$ , and
\item the category $\mathcal{C}$ has fibre products and
$u$ commutes with them.
\end{enumerate}
Then the index categories $(\mathcal{I}^u_V)^{\text{opp}}$ of
Section \ref{section-functoriality-PSh} are directed (see
Categories, Definition \ref{categories-definition-directed}).
\end{lemma}

\begin{proof}
First we show that $\mathcal{I}_V$ is nonempty.
Namely, let $X$ be the final object of $\mathcal{C}$,
which exists by assumption.
Let $V \to u(X)$ be the morphism coming from the fact
that $u(X)$ is final in $\mathcal{D}$ by assumption.
This gives an object of $\mathcal{I}_V$.

\medskip\noindent
Let $\phi_1 : V \to u(U_1)$ and $\phi_2 : V \to u(U_2)$ be
in $\text{Ob}(\mathcal{I}_V)$. By assumption $U_1\times U_2$
exists and $u(U_1\times U_2) = u(U_1)\times u(U_2)$.
Consider the morphism $\phi : V \to u(U_1\times U_2)$
corresponding to $(\phi_1, \phi_2)$ by the universal property
of products. Clearly the object $\phi : V \to u(U_1\times U_2)$
maps to both $\phi_1 : V \to u(U_1)$ and $\phi_2 : V \to u(U_2)$.

\medskip\noindent
Next, suppose $\phi_1 : V \to u(U_1)$ and $\phi_2 : V \to u(U_2)$ are
in $\text{Ob}(\mathcal{I}_V)$. Let
$a, b : (U_1, \phi_1) \to (U_2, \phi_2)$
be morphisms of $\mathcal{I}_V$. By definition
$a$ is a morphism $a : U_1 \to U_2$ such that $u(a) \circ \phi_1 =
\phi_2$ and similarly for $b$. In this case, let
$c : U \to U_1$ be the equalizer of the maps $a, b : U_1 \to U_2$,
which exists, see
Categories, Lemma \ref{categories-lemma-finite-limits-exist}.
Moreover, $u$ commutes with finite limits, see
Categories, Lemma \ref{categories-lemma-characterize-left-exact},
and hence $u(c) : u(U) \to u(U_1)$ is the equalizer of
$u(a), u(b) : u(U_1) \to u(U_2)$. Thus the relation between
$\phi_1$, $\phi_2$, $a$ and $b$ implies there is a
morphism $\phi : V \to u(U)$ such that $u(c) \circ \phi = \phi_1$.
This means in particular that the morphism
$c$ induces a morphism from $\phi : V \to u(U)$
to $\phi_1 : V \to u(U_1)$ in $\mathcal{I}_V$.
By construction it equalizes the morphisms $a$, $b$.
\end{proof}

\noindent
We interrupt the flow of the arguments for a technical lemma
that will be usefull later on.

\begin{lemma}
\label{lemma-almost-directed}
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor between categories.
Suppose that $\mathcal{C}$ has fibre products, and that
$u$ commutes with them. Then the categories $(\mathcal{I}_V^u)^{opp}$ of
Section \ref{section-functoriality-PSh} satisfy the hypotheses of
Categories, Lemma \ref{categories-lemma-split-into-directed}.
\end{lemma}

\begin{proof}
We have to show that given three objects
$\phi : V \to u(U)$, $\phi' : V \to u(U')$, $\phi'' : V \to u(U'')$
and morphisms $a : U' \to U$, $b : U'' \to U$ such that
$u(a) \circ \phi = \phi'$ and $u(b) \circ \phi = \phi''$ there
exists another object $\phi''' : V \to u(U''')$ and morphisms
$c : U''' \to U'$ and $d : U''' \to U''$ such that
$u(c) \circ \phi = \phi'''$, $u(d) \circ \phi = \phi'''$ and
$a \circ c = b \circ d$. Of course we take
$U''' = U' \times_U U''$ with $c$ and $d$ the projection morphisms.
We leave it to the reader to see that this works.
\end{proof}

\begin{lemma}
\label{lemma-directed-morphism}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let
$u : \mathcal{C} \to \mathcal{D}$ be continuous.
Assume all the categories $(\mathcal{I}_V^u)^{opp}$ of
Section \ref{section-functoriality-PSh}
are directed. Then $u$ defines a morphism of sites $\mathcal{D} \to
\mathcal{C}$, in other words $u_s$ is exact.
\end{lemma}

\begin{proof}
Since $u_s$ is the left adjoint of $u^s$ we see that $u_s$ is right
exact, see Categories, Lemma \ref{categories-lemma-exact-adjoint}.
Hence it suffices to show that $u_s$ is left exact. In other words
we have to show that $u_s$ commutes with finite limits.
Because the categories $\mathcal{I}_Y^{\text{opp}}$ are directed
we see that $u_p$ commutes with finite limits, see
Categories, Lemma \ref{categories-lemma-directed-commutes}
(this also uses the description of limits in $\textit{PSh}$,
see Section \ref{section-limits-colimits-PSh}).
And since sheafification commutes with finite limits as well
(Lemma \ref{lemma-sheafification-exact}) we conclude because
$u_s = \# \circ u_p$.
\end{proof}

\begin{proposition}
\label{proposition-get-morphism}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let
$u : \mathcal{C} \to \mathcal{D}$ be continuous.
Assume furthermore the following:
\begin{enumerate}
\item the category $\mathcal{C}$ has a final object $X$ and
$u(X)$ is a final object of $\mathcal{D}$ , and
\item the category $\mathcal{C}$ has fibre products and
$u$ commutes with them.
\end{enumerate}
Then $u$ defines a morphism of sites $\mathcal{D} \to
\mathcal{C}$, in other words $u_s$ is exact.
\end{proposition}

\begin{proof}
This follows from Lemmas \ref{lemma-directed} and
\ref{lemma-directed-morphism}.
\end{proof}

\begin{remark}
\label{remark-explain-left-exact}
The conditions of Proposition \ref{proposition-get-morphism} above
are equivalent to saying that $u$ is left exact, i.e., commutes
with finite limits. See
Categories, Lemmas
\ref{categories-lemma-finite-limits-exist} and
\ref{categories-lemma-characterize-left-exact}.
It seems more natural to phrase it in terms of final objects
and fibre products since this seems to have more geometric meaning
in the examples.
\end{remark}

\begin{remark}
\label{remark-quasi-continuous-morphism-sites}
(Skip on first reading.)
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Analogously to
Definition \ref{definition-morphism-sites} we say that
a {\it quasi-morphism of sites $f : \mathcal{D} \to \mathcal{C}$}
is given by a quasi-continuous functor $u : \mathcal{C} \to \mathcal{D}$
(see Remark \ref{remark-quasi-continuous}) such that $u_s$ is exact.
The analogue of Proposition \ref{proposition-get-morphism} in this
setting is obtained by replacing the word ``continuous''
by the word ``quasi-continuous'', and replacing the word
``morphism'' by ``quasi-morphism''. The proof is literally the
same.
\end{remark}



























\section{Topoi}
\label{section-topoi}

\noindent
Here is a definition of a topos which is suitable for our purposes.
Namely, a topos is the category of sheaves on a site. In order to specify
a topos you just specify the site. The real difference between a topos
and a site lies in the definition of morphisms. Namely, it turns out that
there are lots of morphisms of topoi which do not come from morphisms
of the underlying sites.

\begin{definition}
\label{definition-topos}
Topoi.
\begin{enumerate}
\item  A {\it topos} is the category $\textit{Sh}(\mathcal{C})$ of sheaves
of sets on a site $\mathcal{C}$.
\item Let $\mathcal{C}$, $\mathcal{D}$ be sites.
A {\it morphism of topoi} $f$ from $\textit{Sh}(\mathcal{D})$
to $\textit{Sh}(\mathcal{C})$ is given by a pair of functors
$f_* : \textit{Sh}(\mathcal{D}) \to \textit{Sh}(\mathcal{C})$
and
$f^{-1} : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{D})$
such that
\begin{enumerate}
\item we have
$$
\text{Mor}_{\textit{Sh}(\mathcal{D})}(f^{-1}\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{G}, f_*\mathcal{F})
$$
bifunctorially, and
\item the functor $f^{-1}$ commutes with finite limits, i.e.,
is left exact.
\end{enumerate}
\item Let $\mathcal{C}$, $\mathcal{D}$, $\mathcal{E}$ be sites.
Given morphisms of topoi
$f :\textit{Sh}(\mathcal{D}) \to \textit{Sh}(\mathcal{C})$ and
$g :\textit{Sh}(\mathcal{E}) \to \textit{Sh}(\mathcal{D})$ the
{\it composition $f\circ g$} is the morphism of topoi defined
by the functors
$(f \circ g)_* = f_* \circ g_*$ and
$(f \circ g)^{-1} = g^{-1} \circ f^{-1}$.
\end{enumerate}
\end{definition}

\noindent
Note that, being an adjoint pair, the functor
$f_*$ commutes with all limits and that
$f^{-1}$ commutes with all colimits, see Categories,
Lemma \ref{categories-lemma-adjoint-exact}.
In particular, $f^{-1}$ is exact.

\begin{remark}
\label{remark-morphism-topoi-big}
(Set theoretical issues related to morphisms of topoi. Skip
on a first reading.)
A morphism of topoi as defined above is not a set but a class.
In other words it is given by a mathematical formula rather
than a mathematical object. Allthough we may contemplate
the collection of all morphisms between two given topoi,
it is not a good idea to introduce it as a mathematical object.
On the other hand, suppose $\mathcal{C}$ and $\mathcal{D}$ are
given sites. Consider a functor
$\Phi : \mathcal{C} \to \textit{Sh}(\mathcal{D})$.
Such a thing is a set, in other words, it is a mathematical object.
We may, in succession, ask the following questions on $\Phi$.
\begin{enumerate}
\item Is it true, given a sheaf $\mathcal{F}$ on $\mathcal{D}$,
that the rule
$U \mapsto \text{Mor}_{\textit{Sh}(\mathcal{D})}(\Phi(U), \mathcal{F})$
defines a sheaf on $\mathcal{C}$? If so, this defines a functor
$\Phi_* : \textit{Sh}(\mathcal{D}) \to \textit{Sh}(\mathcal{C})$.
\item Is it true that $\Phi_*$ has a left adjoint? If so,
write $\Phi^{-1}$ for this left adjoint.
\item Is it true that $\Phi^{-1}$ is exact?
\end{enumerate}
If the last question still has the answer ``yes'', then we obtain
a morphism of topoi $(\Phi_*, \Phi^{-1})$. Moreover, given any
morphism of topoi $(f_*, f^{-1})$ we may set
$\Phi(U) = f^{-1}(h_U^\#)$ and obtain a functor $\Phi$ as above
with $f_* \cong \Phi_*$ and $f^{-1} \cong \Phi^{-1}$ (compatible
with adjoint property).
The upshot is that by working with the collection of $\Phi$
instead of morphisms of topoi, we (a) replaced the notion of
a morphism of topoi by a mathematical object, and (b)
the collection of $\Phi$ forms a class (and not a collection
of classes). Of course, more can be said, for example one can work
out more precisely the significance of condition (2) above
for example; we do this in the case of points of topoi
in Section \ref{section-points}.
\end{remark}

\noindent
Most geometrically interesting morphisms of topoi
come about via Lemma \ref{lemma-cocontinuous-morphism-topoi}
and the following lemma.

\begin{lemma}
\label{lemma-morphism-sites-topoi}
Given a morphism of sites $f : \mathcal{D} \to \mathcal{C}$
corresponding to the functor $u : \mathcal{C} \to \mathcal{D}$
the pair of functors $(f^{-1} = u_s, f_* = u^s)$ is a morphism of topoi.
\end{lemma}

\begin{proof}
This is obvious from Definition \ref{definition-morphism-sites}.
\end{proof}

\noindent
The simplest example of a site is perhaps the site whose
category has exactly one object $pt$ and one morphism $\text{id}_{pt}$
and whose only covering is the covering $\{\text{id}_{pt}\}$.
We will simply write $pt$ for this site.
It is clear that the category of sheaves $ = $ the category of
presheaves $ = $ the category of sets.
In a formula $\textit{Sh}(pt) = \textit{Sets}$.

\begin{remark}
\label{remark-pt-topos}
There are many sites that give rise to the topos
$\textit{Sh}(pt)$. For example, suppose that $S$ is a nonempty
set of sets. Let $\mathcal{S}$ be the category
whose objects are elements of $S$ and whose morphisms
are arbitrary set maps. Assume that $\mathcal{S}$ has
fibre products. For example this
will be the case if $S = \mathcal{P}(\text{infinite set})$
is the power set of any infinite set (exercise in set theory).
Make $\mathcal{S}$ into a site by declaring
surjective families of maps to be coverings (and choose
a suitable sufficiently large set of covering families as in Sets,
Lemma \ref{sets-section-coverings-site}).
It is a nice exercise to prove that $\textit{Sh}(\mathcal{S})$
is equivalent to the category of sets. If $s \in S$
is a singleton set, then the functor
of evaluation at $s$ gives the equivalence of categories
$\textit{Sh}(\mathcal{S}) \to \textit{Sets}$.
\end{remark}

\begin{remark}
\label{remark-quasi-continuous-morphism-topoi}
(Skip on first reading.)
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
A quasi-morphism of sites $f : \mathcal{D} \to \mathcal{C}$
(see Remark \ref{remark-quasi-continuous-morphism-sites})
gives rise to a morphis of topoi $f$ from
$\textit{Sh}(\mathcal{D})$ to $\textit{Sh}(\mathcal{C})$
exactly as in Lemma \ref{lemma-morphism-sites-topoi}.
\end{remark}






























\section{More functoriality of $\textit{PSh}$}
\label{section-more-functoriality-PSh}

\noindent
In this section we revisit the material of
Section \ref{section-functoriality-PSh}.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor between categories.
Recall that
$$
u^p :
\textit{PSh}(\mathcal{D})
\longrightarrow
\textit{PSh}(\mathcal{C})
$$
is the functor that associates to $\mathcal{G}$ on $\mathcal{D}$ the presheaf
$u^p\mathcal{G} = \mathcal{G} \circ u$. It turns out that this functor
not only has a left adjoint (namely $u_p$) but also a right adjoint.

\medskip\noindent
Namely, for any $V \in \text{Ob}(\mathcal{D})$
we define a category ${}_V\mathcal{I} = {}_V^u\mathcal{I}$.
Its objects are pairs $(U, \psi : u(U) \to V)$.
Note that the arrow is in the opposite direction from the arrow
we used in defining the category $\mathcal{I}_V^u$ in
Section \ref{section-functoriality-PSh}.
A morphism $(U, \psi) \to (U', \psi')$ is given
by a morphism $\alpha : U \to U'$ such that
$\psi = \psi' \circ u(\alpha)$.
In addition, given any presheaf of sets $\mathcal{F}$
on $\mathcal{C}$ we introduce the functor
${}_V\mathcal{F} : {}_V\mathcal{I}^{opp} \to \textit{Sets}$,
which is defined by the rule
${}_V\mathcal{F}(U, \psi) = \mathcal{F}(U)$. We define
$$
{}_pu(\mathcal{F})(V)
:=
\text{lim}_{{}_V\mathcal{I}^{opp}}\ {}_V\mathcal{F}
$$
As a limit there are projection maps
$c(\psi) : {}_pu(\mathcal{F})(V) \to \mathcal{F}(U)$
for every object $(U, \psi)$ of ${}_V\mathcal{I}$.
In fact,
$$
{}_pu(\mathcal{F})(V)
=
\left\{
\begin{matrix}
\text{collections }
s_{(U, \psi)} \in \mathcal{F}(U) \\
\forall \beta : (U_1, \psi_1) \to (U_2, \psi_2)
\text{ in }{}_V\mathcal{I} \\
\text{ we have } \beta^*s_{(U_2, \psi_2)} = s_{(U_1, \psi_1)}
\end{matrix}
\right\}, \ 
s \mapsto s_{(U, \psi)} = c(\psi)(s).
$$
We leave it to the reader to define the restriction mappings
${}_pu(\mathcal{F})(V) \to {}_pu(\mathcal{F})(V')$
associated to any morphism $V' \to V$ of $\mathcal{D}$.
The resulting presheaf will be denoted ${}_pu\mathcal{F}$.

\begin{lemma}
\label{lemma-recover-pu}
There is a canonical map
${}_pu\mathcal{F}(u(U)) \to \mathcal{F}(U)$,
which is compatible with restriction maps.
\end{lemma}

\begin{proof}
This is just the projection map $c(\text{id}_{u(U)})$ above.
\end{proof}

\noindent
Note that any map of presheaves $\mathcal{F} \to \mathcal{F}'$
gives rise to compatible systems of maps between functors
${}_V\mathcal{F} \to {}_V\mathcal{F}'$, and hence to a map
of presheaves ${}_pu\mathcal{F} \to {}_pu\mathcal{F}'$. In other
words, we have defined a functor
$$
{}_pu :
\textit{PSh}(\mathcal{C})
\longrightarrow
\textit{PSh}(\mathcal{D})
$$

\begin{lemma}
\label{lemma-adjoints-pu}
The functor ${}_pu$ is a right adjoint to the functor $u^p$.
In other words the formula
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(u^p\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{PSh}(\mathcal{D})}(\mathcal{G}, {}_pu\mathcal{F})
$$
holds bifunctorially in $\mathcal{F}$ and $\mathcal{G}$.
\end{lemma}

\begin{proof}
This is proved in exactly the same way as the proof
of Lemma \ref{lemma-adjoints-u}. We note that the map
$u^p{}_pu \mathcal{F} \to \mathcal{F}$ from
Lemma \ref{lemma-recover-pu} is the map that
is used to go from the right to the left.

\medskip\noindent
Alternately, think
of a presheaf of sets $\mathcal{F}$ on $\mathcal{C}$ as a presheaf
$\mathcal{F}'$ on $\mathcal{C}^{opp}$ with values in $\textit{Sets}^{opp}$,
and similarly on $\mathcal{D}$.
Check that $({}_pu \mathcal{F})' = u_p(\mathcal{F}')$,
and that $(u^p\mathcal{G})' = u^p(\mathcal{G}')$.
By Remark \ref{remark-functoriality-presheaves-values}
we have the adjointness of $u_p$ and $u^p$ for
presheaves with values in $\textit{Sets}^{opp}$.
The result then follows formally from this.
\end{proof}

\section{Cocontinuous functors}
\label{section-cocontinuous-functors}

\noindent
There is another way to construct morphisms of topoi.
This involves using cocontinuous functors defined as
follows.

\begin{definition}
\label{definition-cocontinuous}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
The functor $u$ is called {\it cocontinuous}
if for every $U \in \text{Ob}(\mathcal{C})$
and every covering $\{V_j \to u(U)\}_{j \in J}$ of $\mathcal{D}$
there exists a covering
$\{U_i \to U\}_{i\in I}$ of $\mathcal{C}$
such that the family of maps $\{u(U_i) \to u(U)\}_{i \in I}$
refines the covering $\{V_j \to u(U)\}_{j \in J}$.
\end{definition}

\noindent
Note that $\{u(U_i) \to u(U)\}_{i \in I}$ is in general {\it not}
a covering of the site $\mathcal{D}$.

\begin{lemma}
\label{lemma-pu-sheaf}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be cocontinuous.
Let $\mathcal{F}$ be a sheaf on $\mathcal{C}$.
Then ${}_pu\mathcal{F}$ is a sheaf on $\mathcal{D}$,
which we will denote ${}_su\mathcal{F}$.
\end{lemma}

\begin{proof}
Let $\{V_j \to V\}_{j \in J}$ be a covering of the site $\mathcal{D}$.
Let $s_j \in {}_pu\mathcal{F}(V_j)$ be a family of elements
such that $s_j$ and $s_{j'}$ restrict to the same element
of ${}_pu\mathcal{F}(V_j \times_V V_{j'})$ for all $j, j'$.
We will show there exists a unique element $s$ of
${}_pu\mathcal{F}(V)$ which restricts to $s_j$ for all $j$.

\medskip\noindent
Claim: It suffices to show that for any object $(U, \psi)$
of ${}_V\mathcal{I}$ there exists a unique section
$s_{(U, \psi)} \in \mathcal{F}(U)$ with the following property:
For any commutative diagram
$$
\xymatrix{
u(U') \ar[r]_{\psi'} \ar[d]_{u(\alpha)} & V_j \ar[d] \\
u(U) \ar[r]^\psi & V
}
$$
the restriction $\alpha^*s_{(U, \psi)}$ of $s_{(U, \psi)}$ to $U'$
is equal to the element $c(\psi')(s_j)$. Here we have used the
projection mappings $c(-)$ introduced in
Section \ref{section-more-functoriality-PSh}.

\medskip\noindent
Let us first prove the claim. This we will do in three steps.
Step 1: We first show that the
elements $s_{(U, \psi)}$ form an element $s$ of the limit
defining ${}_pu\mathcal{F}(V)$. To see this we
have to show, given any morphism
$\beta : (U_1, \psi_1) \to (U_2, \psi_2)$ in the category
${}_V\mathcal{I}$
we have $s_{(U_1, \psi_1)} = \beta^*s_{(U_2, \psi_2)}$.
Using the condition in Definition \ref{definition-cocontinuous}
we can find a covering
$\{U_{2, i} \to U_2\}_{i \in I}$ such that
$\{u(U_{2, i}) \to u(U_2)\}$
refines the covering
$\{u(U_2) \times_{\psi_2, V} V_j \to u(U_2)\}_{j \in J}$.
Hence we may pick a map $\gamma : I \to J$ and morphisms
$\psi_{2, i} : u(U_i) \to V_{\gamma(j)}$ such that
the diagrams
$$
\xymatrix{
u(U_{2, i}) \ar[r]_{\psi_{2, i}} \ar[d] &  V_{\gamma(i)} \ar[d] \\
u(U_2) \ar[r]^\psi & V
}
$$
commute. We may define $U_{1, i} = U_1 \times_{U_2} U_{2, i}$
and extend the diagram as follows
$$
\xymatrix{
u(U_{1, i}) \ar[r]_{u(\beta_i)} \ar[d] &
u(U_{2, i}) \ar[r]_{\psi_{2, i}} \ar[d] &  V_{\gamma(i)} \ar[d] \\
u(U_1) \ar[r]^{u(\beta)} & u(U_2) \ar[r]^\psi & V
}
$$
OK, and now the element $s_{(U_1, \psi_1)}$ pulls back to
$c(\psi_{2, i} \circ u(\beta_i))(s_j)$ which is equal to
$\beta_i^* c(\psi_{2, i})(s_j)$ by the fact that the $s_j$
give an element of the limit. This is the same element that
$\beta^*s_{(U_2, \psi_2)}$ pulls back to.
Hence
$s_{(U_1, \psi_1)} = \beta^*s_{(U_2, \psi_2)}$
by the sheaf condition for $\mathcal{F}$.

\medskip\noindent
Step 2 of proof of the claim: The element $s \in {}_pu\mathcal{F}(V)$
so obtained restricts to $s_j$ in ${}_pu\mathcal{F}(V_j)$.
Take any morphism $\psi' : u(U') \to V_j$.
Consider the diagram
$$
\xymatrix{
u(U') \ar[rr]_{\psi'} \ar[d]_{u(\text{id})} & & V_j \ar[d] \\
u(U') \ar[rr]^{(V_j \to V) \circ \psi'} &  & V
}
$$
By the property in the claim we see that $s_{(U', (V_j \to V) \circ \psi')}$
is equal to $c(\psi')(s_j)$. This and the definition of the restriction
mappings of ${}_pu\mathcal{F}$ show that $s|_{V_j} = s_j$.

\medskip\noindent
Step 3 of proof of the claim: The element $s \in {}_pu\mathcal{F}(V)$
is unique. For this it is enough to show that each element
$s_{(U, \psi)}$ is unique, and this is part of the claim.

\medskip\noindent
Finally, we have to construct the elements $s_{(U, \psi)}$
as in the claim. So let us pick a
$(U, \psi) \in \text{Ob}({}_V\mathcal{I})$.
Because $u$ is cocontinuous the covering
$\{V_j \times_V u(U) \to u(U)\}$ can be refined by
a family $\{u(U_i) \to u(U)\}_{i \in I}$, where
$\{U_i \to U\}_{i \in I}$ is a covering of $\mathcal{C}$.
In other words, there exists a map $\gamma : I \to J$
and for each $i \in I$ a commutative diagram
$$
\xymatrix{
u(U_i) \ar[r]_{\psi_i} \ar[d] &  V_{\gamma(i)} \ar[d] \\
u(U) \ar[r]^\psi & V
}
$$
Note that this clearly induces morphisms
$\psi_{i, i'} : u(U_i \times_U U_{i'}) \to
V_{\gamma(i)} \times_V V_{\gamma(i')}$
as well. Consider the family of elements
$\sigma_i = c(\psi_i)(s_{\gamma(i)}) \in \mathcal{F}(U_i)$.
Then
$$
\sigma_i |_{U_i \times_U U_{i'}}
=
c(\psi_{i, i'})(s_{\gamma(i)}|_{V_i \times_V V_{i'}})
=
c(\psi_{i, i'})(s_{\gamma(i')}|_{V_i \times_V V_{i'}})
=
\sigma_{i'} |_{U_i \times_U U_{i'}}
$$
Thus the collection $\sigma_i$ forms a system of elements
such that $\sigma_i$ and $\sigma_{i'}$ agree on
$U_i \times_U U_{i'}$ for all pairs $(i, i')$. We conclude
that there exists a unique section $\sigma \in \mathcal{F}(U)$
restricting to $\sigma_i$ on $U_i$ by the sheaf condition
for $\mathcal{F}$. This gives an element $s_{(U, \psi)}$ of
$\mathcal{F}(U)$. Thus uniqueness of $s$ is clear, even by just
considering the diagrams displayed in this paragraph.

\medskip\noindent
It remains to show that for any diagram as in the claim
the restriction $\alpha^*s_{(U, \psi)}$ of $s_{(U, \psi)}$ to $U'$
is equal to the element $c(\psi')(s_j)$. For this consider
the commutative diagrams (for all $i\in I$)
$$
\xymatrix{
u(U_i\times_U U') \ar[r] \ar[d]_{u(\alpha_i)} &
u(U') \ar[r]_{\psi'} \ar[d]_{u(\alpha)} &
V_j \ar[d] \\
u(U_i) \ar[r] \ar[rd]_{\psi_i} &
u(U) \ar[r]^\psi &
V \\
&
V_{\gamma(i)} \ar[ru]
&
}
$$
This diagram shows there is a canonical morphism
$\psi'_i : u(U_i\times_U U') \to V_{\gamma(i)}\times_V V_j$
fitting into it. The element $s_{(U, \psi)}$ was constructed above as
the unique section pulling back to $c(\psi_i)(s_{\gamma(i)})$ for all $i$.
We have
\begin{align*}
c(\psi_i)(s_{\gamma(i)})|_{U_i \times_U U'} & =
c(\psi_i')(s_{\gamma(i)}|_{V_{\gamma(i)}\times_V V_j}) \\
& = c(\psi_i')(s_j|_{V_{\gamma(i)}\times_V V_j}) \\
& = c(\psi')(s_j)|_{U_i \times_U U'}
\end{align*}
which proves that $\alpha_i^*c(\psi_i)(s_{\gamma(i)})$
is the same as the pull back of $c(\psi')(s_j)$ to $U_i \times_U U'$.
Again by the sheaf condition for $\mathcal{F}$ this allows us
to conclude that $\alpha^*s_{(U, \psi)} = c(\psi')(s_j)$.
The proof of Lemma \ref{lemma-pu-sheaf} is done.
\end{proof}

\begin{lemma}
\label{lemma-exact-cocontinuous}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be cocontinuous.
The functor
$\textit{Sh}(\mathcal{D}) \to \textit{Sh}(\mathcal{C})$,
$\mathcal{G} \mapsto (u^p\mathcal{G})^\#$
is a left adjoint to the functor ${}_su$ introduced
in Lemma \ref{lemma-pu-sheaf} above. Moreover, it
is left exact.
\end{lemma}

\begin{proof}
Let us prove the adjointness property as follows
\begin{eqnarray*}
\text{Mor}_{\textit{Sh}(\mathcal{C})}
((u^p\mathcal{G})^\#, \mathcal{F})
& = &
\text{Mor}_{\textit{PSh}(\mathcal{C})}
(u^p\mathcal{G}, \mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{D})}
(\mathcal{G}, {}_pu\mathcal{F}) \\
& = &
\text{Mor}_{\textit{Sh}(\mathcal{D})}
(\mathcal{G}, {}_su\mathcal{F}).
\end{eqnarray*}
Thus it is a left adjoint and hence right exact,
see Categories, Lemma \ref{categories-lemma-exact-adjoint}.
We have seen that sheafification is left exact,
see Lemma \ref{lemma-sheafification-exact}.
Moreover, the inclusion
$i : \textit{Sh}(\mathcal{D}) \to \textit{PSh}(\mathcal{D})$
is left exact by Lemma \ref{lemma-limit-sheaf}. Finally, the functor
$u^p$ is left exact because it is a right adjoint
(namely to $u_p$). Thus the functor is the compostion
${}^\# \circ u^p \circ i$ of left exact functors,
hence left exact.
\end{proof}

\noindent
We finish this section with a technical lemma.

\begin{lemma}
\label{lemma-technical-pu}
In the situation of Lemma \ref{lemma-exact-cocontinuous}.
For any presheaf $\mathcal{G}$ on $\mathcal{D}$
we have $(u^p\mathcal{G})^\# = (u^p(\mathcal{G}^\#))^\#$.
\end{lemma}

\begin{proof}
For any sheaf $\mathcal{F}$ on $\mathcal{C}$ we have
\begin{eqnarray*}
\text{Mor}_{\textit{Sh}(\mathcal{C})}((u^p(\mathcal{G}^\#))^\#, \mathcal{F})
& = &
\text{Mor}_{\textit{Sh}(\mathcal{D})}(\mathcal{G}^\#, {}_su\mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{D})}(\mathcal{G}^\#, {}_pu\mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{D})}(\mathcal{G}, {}_pu\mathcal{F}) \\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{C})}(u^p\mathcal{G}, \mathcal{F}) \\
& = &
\text{Mor}_{\textit{Sh}(\mathcal{C})}((u^p\mathcal{G})^\#, \mathcal{F})
\end{eqnarray*}
and the result follows from the Yoneda lemma.
\end{proof}



\section{The morphism of topoi associated to a cocontinuous functor}
\label{section-cocontinuous-morphism-topoi}

\noindent
It is clear from the above that a cocontinuous functor $u$
gives a morphism of topoi in the same direction as $u$.
Thus this is in the opposite direction from the morphism of topoi
associated (under certain conditions) to a continuous $u$ as in
Definition \ref{definition-morphism-sites},
Proposition \ref{proposition-get-morphism}, and
Lemma \ref{lemma-morphism-sites-topoi}.

\begin{lemma}
\label{lemma-cocontinuous-morphism-topoi}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be cocontinuous.
The functors $g_* = {}_su$ and $g^{-1} = (u^p\ )^\#$
define a morphism of topoi
$g$ from  $\textit{Sh}(\mathcal{C})$ to $\textit{Sh}(\mathcal{D})$.
\end{lemma}

\begin{proof}
This is exactly the content of Lemma \ref{lemma-exact-cocontinuous}.
\end{proof}

\begin{example}
\label{example-open-immersion-cocontinuous}
Let $X$ be a topological space.
Let $j : U  \to X$ be the inclusion of an open subspace.
Recall that we have sites $\mathcal{T}_X$ and $\mathcal{T}_U$,
see Example \ref{example-site-topological}.
Recall that we have the functor $u : \mathcal{T}_X \to \mathcal{T}_U$
associated to $j$ which is continuous and gives rise
to a morphism of sites $\mathcal{T}_U \to \mathcal{T}_X$,
see Example \ref{example-continuous-map}.
This also gives a morphism of topoi $(j_*, j^{-1})$.
Next, consider the functor
$v : \mathcal{T}_U \to \mathcal{T}_X$, $V \mapsto v(V) = V$
(just the same open but now thought of as an object of $\mathcal{T}_X$).
This functor is cocontinuous. Namely, if $v(V) = \bigcup_{j \in J} W_j$
is an open covering in $X$, then each $W_j$ must be a subset of
$U$ and hence is of the form $v(V_j)$,
and trivially $V = \bigcup_{j \in J} V_j$ is an open covering in $U$.
We conclude by Lemma \ref{lemma-cocontinuous-morphism-topoi} above
that there is a morphism of topoi associated to $v$
$$
\textit{Sh}(U) \longrightarrow \textit{Sh}(X)
$$
given by ${}_sv$ and $(v^p\ )^\#$. We claim that
actually $(v^p\ )^\# = j^{-1}$ and that ${}_sv = j_*$,
in other words, that this is the same morphism of topoi
as the one given above. Perhaps the easiest way to see
this is to realize that for any sheaf
$\mathcal{G}$ on $X$ we have
$v^p\mathcal{G}(V) = \mathcal{G}(V)$ which according to
Sheaves, Lemma \ref{sheaves-lemma-j-pullback} is a description
of $j^{-1}\mathcal{G}$ (and hence sheafification is superfluous
in this case). The equality of ${}_sv$ and $j_*$ follows by
uniqueness of adjoint functors (but may also be computed directly).
\end{example}

\begin{example}
\label{example-open-map-cocontinuous}
This example is a slight generalization of
Example \ref{example-open-immersion-cocontinuous}.
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that $f$ is open.
Recall that we have sites $\mathcal{T}_X$ and $\mathcal{T}_Y$,
see Example \ref{example-site-topological}.
Recall that we have the functor $u : \mathcal{T}_Y \to \mathcal{T}_X$
associated to $f$ which is continuous and gives rise
to a morphism of sites $\mathcal{T}_X \to \mathcal{T}_Y$,
see Example \ref{example-continuous-map}.
This also gives a morphism of topoi $(f_*, f^{-1})$.
Next, consider the functor
$v : \mathcal{T}_X \to \mathcal{T}_Y$, $U \mapsto v(U) = f(U)$.
This functor is cocontinuous. Namely, if $f(U) = \bigcup_{j \in J} V_j$
is an open covering in $Y$, then setting $U_j = f^{-1}(V_j) \cap U$
we get an open covering $U = \bigcup U_j$ such that $f(U) = \bigcup f(U_j)$
is a refinement of $f(U) = \bigcup V_j$.
We conclude by Lemma \ref{lemma-cocontinuous-morphism-topoi} above
that there is a morphism of topoi associated to $v$
$$
\textit{Sh}(X) \longrightarrow \textit{Sh}(Y)
$$
given by ${}_sv$ and $(v^p\ )^\#$. We claim that
actually $(v^p\ )^\# = f^{-1}$ and that ${}_sv = f_*$,
in other words, that this is the same morphism of topoi
as the one given above. For any sheaf
$\mathcal{G}$ on $Y$ we have
$v^p\mathcal{G}(U) = \mathcal{G}(f(U))$.
On the other hand, we may compute
$u_p\mathcal{G}(U) = \text{colim}_{f(U) \subset V} \mathcal{G}(V)
= \mathcal{G}(f(U))$ because clearly $(f(U), U \subset f^{-1}(f(U)))$
is an initial object of the category $\mathcal{I}_U^u$ of
Section \ref{section-functoriality-PSh}.
Hence $u_p = v^p$ and we conclude $f^{-1} = u_s = (v^p\ )^\#$.
The equality of ${}_sv$ and $f_*$ follows by
uniqueness of adjoint functors (but may also be computed directly).
\end{example}

\noindent
In the first Example \ref{example-open-immersion-cocontinuous}
the functor $v$ is also continuous. But in the second
Example \ref{example-open-map-cocontinuous} it is generally not continuous
because condition (2) of Definition \ref{definition-continuous} may fail.
Hence the following lemma applies to the first example, but not to the second.

\begin{lemma}
\label{lemma-when-shriek}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be cocontinuous.
Let $(g_*, g^{-1}) : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{D})$
be the associated morphism of topoi.
Suppose the functor $u$ is also continuous.
Then sheafification in the formula $g^{-1} = (u^p\ )^\#$ is
unnecessary, in other words $g^{-1}(\mathcal{G})(U) = \mathcal{G}(u(U))$.
Furthermore, $g^{-1}$ has a left adjoint $g_{!} = (u_p\ )^\#$.
Also, $g^{-1}$ commutes with arbitrary limits and colimits.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-pushforward-sheaf} for any sheaf $\mathcal{G}$
on $\mathcal{D}$ the presheaf $u^p\mathcal{G}$ is a sheaf on $\mathcal{C}$.
And then we see the adjointness by the following string of
equalities
\begin{eqnarray*}
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}, g^{-1}\mathcal{G})
& = &
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, u^p\mathcal{G})
\\
& = &
\text{Mor}_{\textit{PSh}(\mathcal{D})}(u_p\mathcal{F}, \mathcal{G})
\\
& = &
\text{Mor}_{\textit{Sh}(\mathcal{D})}(g_{!}\mathcal{F}, \mathcal{G})
\end{eqnarray*}
The statement on limits and colimits follows from the
discussion in Categories, Section \ref{categories-section-adjoint}.
\end{proof}

\noindent
In the situation of Lemma \ref{lemma-when-shriek} above we see that we have
a sequence of adjoint functors
$$
g_{!}, \ g^{-1}, \ g_*.
$$
The functor $g_!$ is {\it not} exact in general, because it does
not transform a final object of $\textit{Sh}(\mathcal{C})$
into a final object of $\textit{Sh}(\mathcal{D})$ in general.
See Sheaves, Remark \ref{sheaves-remark-j-shriek-not-exact}.
On the other hand, in the topological setting of
Example \ref{example-open-immersion-cocontinuous} the functor
$j_!$ is exact on abelian sheaves, see
Modules, Lemma \ref{modules-lemma-j-shriek-exact}. The following lemma gives
the generalization to the case of sites.

\begin{lemma}
\label{lemma-preserve-equalizers}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
Assume that (a) $u$ is cocontinuous, (b) $u$ is continuous,
and (c) fibre products exist in $\mathcal{C}$ and
$u$ commutes with them. In this case the functor
$g_!$ above commutes with fibre products and equalizers.
\end{lemma}

\begin{proof}
Assume (a), (b), and (c).
We have $g_! = (u_p\ )^\#$. Recall (Lemma \ref{lemma-limit-sheaf}) that
limits of sheaves are equal to the corresponding limits as presheaves.
And sheafification commutes with finite limits
(Lemma \ref{lemma-sheafification-exact}). Thus it
suffices to show that $u_p$ commutes with fibre products and equalizers.
To do this it suffices that colimits over the categories
$(\mathcal{I}_V^u)^{opp}$
of Section \ref{section-functoriality-PSh} commute
with fibre products and equalizers. This follows from
Lemma \ref{lemma-almost-directed} and
Categories, Lemma \ref{categories-lemma-almost-directed-commutes-equalizers}.
\end{proof}

\noindent
The following lemma deals with a case that is even more like
the morphism associated to an open immersion of topological spaces.

\begin{lemma}
\label{lemma-back-and-forth}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
Assume that (a) $u$ is cocontinuous, (b) $u$ is continuous,
(c) fibre products exist in $\mathcal{C}$ and
$u$ commutes with them, and (d) $u$ is fully faithful.
Then the canonical maps $\mathcal{F} \to g^{-1}g_!\mathcal{F}$
and $g^{-1}g_*\mathcal{F} \to \mathcal{F}$ are isomorphisms
for all sheaves $\mathcal{F}$ on $\mathcal{C}$.
\end{lemma}

\begin{proof}
Let $X$ be an object of $\mathcal{C}$.
In Lemmas \ref{lemma-pu-sheaf} and \ref{lemma-when-shriek} we have seen that
sheafification is not necessary for the functors
$g^{-1} = (u^p\ )^\#$ and $g_{*} = ({}_pu )^\#$.
We may compute
$(g^{-1}g_{*}\mathcal{F})(X) = g_{*}\mathcal{F}(u(X))
= \text{lim}\ \mathcal{F}(Y)$. Here the limit
is over the category of pairs $(Y, u(Y) \to u(X))$
where the morphisms $u(Y) \to u(X)$ are not required to be
of the form $u(\alpha)$ with $\alpha$ a morphism of $\mathcal{C}$.
By our assumption however we see that they automatically come from
morphisms of $\mathcal{C}$ and we deduce that the limit is the
value on $\text{id}_X$, i.e., $\mathcal{F}(X)$.
This proves that $g^{-1}g_{*}\mathcal{F} = \mathcal{F}$.

\medskip\noindent
On the other hand, $(g^{-1}g_{!}\mathcal{F})(X) =
g_{!}\mathcal{F}(u(X)) = (u_p\mathcal{F})^\#(u(X))$, and
$u_p\mathcal{F}(u(X)) = \text{colim}\ \mathcal{F}(Y)$.
Here the colimit is over the category of pairs $(Y, u(X) \to u(Y))$
where the morphisms $u(X) \to u(Y)$ are not required to be
of the form $u(\alpha)$ with $\alpha$ a morphism of $\mathcal{C}$.
By our assumption however we see that they automatically come
from morphisms of $\mathcal{C}$ and we deduce that the colimit is the
value on $\text{id}_X$, i.e., $\mathcal{F}(X)$. Thus for every
$X \in \text{Ob}(\mathcal{C})$ we have
$u_p\mathcal{F}(u(X)) = \mathcal{F}(X)$.
Since $u$ is cocontinuous and continuous any covering of $u(X)$ in
$\mathcal{D}$ can be refined by a covering (!) $\{u(X_i) \to X\}$
of $\mathcal{D}$ where $\{X_i \to X\}$ is a covering in $\mathcal{C}$.
This implies that $(u_p\mathcal{F})^+(u(X)) = \mathcal{F}(X)$ also,
since in the colimit defining the value of $(u_p\mathcal{F})^+$
on $u(X)$ we may restrict to the cofinal system of coverings
$\{u(X_i) \to X\}$ as above. Hence we see that
$(u_p\mathcal{F})^+(u(X)) = \mathcal{F}(X)$ for all objects $X$
of $\mathcal{C}$ as well. Repeating this argument one more time
gives the desired equality $(u_p\mathcal{F})^\#(u(X)) = \mathcal{F}(X)$
for all objects $X$ of $\mathcal{C}$. This produces the desired
equality $g^{-1}g_!\mathcal{F} = \mathcal{F}$.
\end{proof}

\noindent
Finally, here is a case that does not have any corresponding topological
example. Namely, this lemma explains what happens when we enlarge a
``partial universe'' of schemes keeping the same topology.

\begin{lemma}
\label{lemma-bigger-site}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
Assume that (a) $u$ is cocontinuous, (b) $u$ is continuous,
(c) fibre products exist in $\mathcal{C}$ and
$u$ commutes with them, (d) $u$ is fully faithful, and
(e) there exist final objects $e_{\mathcal{C}} \in \text{Ob}(\mathcal{C})$,
$e_{\mathcal{D}} \in \text{Ob}(\mathcal{D})$ such that
$u(e_{\mathcal{C}}) = e_{\mathcal{D}}$. Then there exists a
canonical morphism of topoi
$f : \textit{Sh}(\mathcal{D}) \to \textit{Sh}(\mathcal{C})$
with $f_* = g^{-1}$, $f^{-1} = g_!$. Moreover, the composition
$$
\xymatrix{
\textit{Sh}(\mathcal{C}) \ar[r]^g &
\textit{Sh}(\mathcal{D}) \ar[r]^f &
\textit{Sh}(\mathcal{C})
}
$$
is isomorphic to the identity morphism of the topos
$\textit{Sh}(\mathcal{C})$.
\end{lemma}

\begin{proof}
By assumption the functor $u$ satisfies the hypotheses of
Proposition \ref{proposition-get-morphism}. Hence $u$ defines
a morphism of sites and hence a morphism of topoi $f$ as in
Lemma \ref{lemma-morphism-sites-topoi}. The formulas
$f_* = g^{-1}$ and $f^{-1} = g_!$ are clear from the
lemma cited and \ref{lemma-when-shriek}. We have
$f_* \circ g_* = g^{-1} \circ g_* \cong \text{id}$, and
$g^{-1} \circ f^{-1} = g^{-1} \circ g_! \cong \text{id}$
by Lemma \ref{lemma-back-and-forth}.
\end{proof}

\begin{example}
\label{example-closed-map-cocontinuous-false}
Let $X$ be a topological space.
Let $i : Z  \to X$ be the inclusion of a subset (with induced
topology). Consider the functor $u : \mathcal{T}_X \to \mathcal{T}_Z$,
$U \mapsto u(U) = Z \cap U$.
At first glance it may appear that this functor is cocontinuous as
well. After all, since $Z$ has the induced topology,
shouldn't any covering of $U\cap Z$ it come from a covering
of $U$ in $X$? Not so! Namely, what if $U \cap Z = \emptyset$?
In that case, the empty covering is a covering of
$U \cap Z$, and the empty covering can only be refined by
the empty covering. Thus we conclude that
$u$ cocontinuous $\Rightarrow$ every nonempty open $U$
of $X$ has nonempty intersection with $Z$.
But this is not sufficient. For example, if
$X = \mathbf{R}$ the real number line with the usual
topology, and $Z = \mathbf{R} \setminus \{0\}$, then
there is an open covering of $Z$, namely
$Z = \{x < 0\} \cup \bigcup_n \{1/n < x\}$ which
cannot be refined by the restriction of any
open covering of $X$.
\end{example}





\section{Cocontinuous functors which have a right adjoint}
\label{section-cocontinuous-adjoint}

\begin{lemma}
\label{lemma-have-functor-other-way}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites. Let
$u : \mathcal{C} \to \mathcal{D}$, and $v : \mathcal{D} \to \mathcal{C}$
be functors. Assume that $u$ is cocontinuous,
and that $v$ is a right adjoint to $u$.
Let $g : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{D})$ be
the morphism of topoi associated to $u$, see
Lemma \ref{lemma-cocontinuous-morphism-topoi}.
Then $g_*\mathcal{F}$ is equal to the presheaf
$v^p\mathcal{F}$, in other words, $(g_*\mathcal{F})(V) = \mathcal{F}(v(V))$.
\end{lemma}

\begin{proof}
Let $V$ be an object of $\mathcal{D}$. We have $u^ph_V = h_{v(V)}$ because
$u^ph_V(U) = \text{Mor}_{\mathcal{D}}(u(U), V) =
\text{Mor}_{\mathcal{C}}(U, v(V))$ by assumption.
By Lemma \ref{lemma-technical-pu} this implies that
$g^{-1}(h_V^\#) = (u^ph_V^\#)^\# = (u^ph_V)^\# = h_{v(V)}^\#$.
Hence for any sheaf $\mathcal{F}$ on $\mathcal{C}$ we have
\begin{eqnarray*}
(g_*\mathcal{F})(V)
& = &
\text{Mor}_{\textit{Sh}(\mathcal{D})}(h_V^\#, g_*\mathcal{F}) \\
& = &
\text{Mor}_{\textit{Sh}(\mathcal{C})}(g^{-1}(h_V^\#), \mathcal{F}) \\
& = &
\text{Mor}_{\textit{Sh}(\mathcal{C})}(h_{v(V)}^\#, \mathcal{F}) \\
& = &
\mathcal{F}(v(V))
\end{eqnarray*}
which proves the lemma.
\end{proof}

\noindent
In the situation of the lemma we see that $v^p$ transforms sheaves
into sheaves. Hence we can define $v^s = v^p$ restricted to sheaves.
Just as in Lemma \ref{lemma-adjoint-sheaves} we see that
$v_s : \mathcal{G} \mapsto (v_p\mathcal{G})^\#$ is a left adjoint to $v^s$.
On the other hand, we have $v^s = g_*$ and $g^{-1}$ is a left
adjoint of $g_*$ as well. We conclude that $g^{-1} = v_s$ is exact.

\begin{lemma}
\label{lemma-have-functor-other-way-morphism}
In the situation of Lemma \ref{lemma-have-functor-other-way}.
We have $g_* = v^s = v^p$ and $g^{-1} = v_s = (v_p\ )^\#$.
If $v$ is continuous then $v$ defines a morphism of sites $f$
from $\mathcal{C}$ to $\mathcal{D}$ whose associated morphism
of topoi is equal to the morphism $g$ associated to the cocontinuous
functor $u$.
\end{lemma}

\begin{proof}
Clear from the discussion above the lemma and
Definitions \ref{definition-morphism-sites} and
Lemma \ref{lemma-morphism-sites-topoi}.
\end{proof}













\section{Localization}
\label{section-localization}

\noindent
Let $\mathcal{C}$ be a site.
Let $U \in \text{Ob}(\mathcal{C})$.
See Categories Example \ref{categories-example-category-over-X}
for the definition of the category $\mathcal{C}/U$ of
objects over $U$. We turn $\mathcal{C}/U$ into a site
by declaring a family of morphisms $\{V_j \to V\}$ of
objects over $U$ to be a covering of $\mathcal{C}/U$
if and only if it is a covering in $\mathcal{C}$.
Consider the forgetful functor
$$
j_U : \mathcal{C}/U \longrightarrow \mathcal{C}.
$$
This is clearly cocontinuous and continuous. Hence by the
results of the previous sections we obtain a morphism of topoi
$$
j_U : \textit{Sh}(\mathcal{C}/U) \longrightarrow \textit{Sh}(\mathcal{C})
$$
given by $j_{U}^{-1}$ and $j_{U*}$, as well as a functor $j_{U!}$.

\begin{definition}
\label{definition-localization}
Let $\mathcal{C}$ be a site.
Let $U \in \text{Ob}(\mathcal{C})$.
\begin{enumerate}
\item The functor $j_{U*}$ is called the {\it direct image functor}.
\item For a sheaf $\mathcal{F}$ on $\mathcal{C}$ the sheaf
$j_U^{-1}\mathcal{F}$ is called the {\it restriction of $\mathcal{F}$
to $\mathcal{C}/U$}.
\item For a sheaf $\mathcal{G}$ on $\mathcal{C}/U$ the sheaf
the sheaf $j_{U!}\mathcal{G}$ is called the
{\it extension of $\mathcal{G}$ by the empty set}.
\end{enumerate}
\end{definition}

\noindent
The restriction $j_U^{-1}\mathcal{F}$ is the sheaf
defined by the rule $j_U^{-1}\mathcal{F}(X/U) = \mathcal{F}(X)$ as expected.
The extension by the empty set also has a very easy description in
this case; here it is.

\begin{lemma}
\label{lemma-describe-j-shriek}
Let $\mathcal{C}$ be a site.
Let $U \in \text{Ob}(\mathcal{C})$.
Let $\mathcal{G}$ be a sheaf on $\mathcal{C}/U$.
Then $j_{U!}\mathcal{G}$ is the sheaf associated to the presheaf
$$
V
\longmapsto
\coprod\nolimits_{\varphi \in \text{Mor}_{\mathcal{C}}(V, U)}
\mathcal{G}(V \xrightarrow{\varphi} U)
$$
with obvious restriction mappings.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-when-shriek} we have
$j_{U!}\mathcal{G} = ((j_U)_p\mathcal{G})^\#$.
Hence it suffices to prove that $(j_U)_p$ is given by
the formula above for any presheaf $\mathcal{G}$ on $\mathcal{C}/U$.
OK, and by the definition in Section \ref{section-functoriality-PSh} we have
$$
(j_U)_p\mathcal{G}(V)
=
\text{colim}_{(W/U, V \to W)}\ \mathcal{G}(W)
$$
Now it is clear that the category of pairs $(W/U, V \to W)$
has an object $O_\varphi = (\varphi : V \to U, \text{id} : V \to V)$ for every
$\varphi : V \to U$, and moreover for any object there is a unique
morphism from one of the $O_\varphi$ into it. The result follows.
\end{proof}

\noindent
It folllows that $j_{U!}(*) = h_U^\#$ by the formula of the
lemma above. Hence for every sheaf
$\mathcal{G}$ over $\mathcal{C}/U$ there is a canonical map
of sheaves $j_{U!}\mathcal{G} \to h_U^\#$. This characterizes
sheaves in the essential image of $j_{U!}$.

\begin{lemma}
\label{lemma-essential-image-j-shriek}
Let $\mathcal{C}$ be a site.
Let $U \in \text{Ob}(\mathcal{C})$.
The functor $j_{U!}$ gives an equivalence of categories
$$
\textit{Sh}(\mathcal{C}/U)
\longrightarrow
\textit{Sh}(\mathcal{C})/h_U^\#
$$
\end{lemma}

\begin{proof}
We explain how to get a functor from
$\textit{Sh}(\mathcal{C})/h_U^\#$ to $\textit{Sh}(\mathcal{C}/U)$.
Suppose that $\varphi : \mathcal{F} \to h_U^\#$ is given.
For any object $a : X \to U$ of $\mathcal{C}/U$ we consider the set
$\mathcal{F}_\varphi(X \to U)$
of elements $s \in \mathcal{F}(X)$ which under $\varphi$ map to the image
of $a \in \text{Mor}_{\mathcal{C}}(X, U) = h_U(X)$ in
$h_U^\#(X)$. It is easy to see that
$(X \to U) \mapsto \mathcal{F}_\varphi(X \to U)$ is
a sheaf on $\mathcal{C}/U$. The verification that
$(\mathcal{F}, \varphi) \mapsto \mathcal{F}_\varphi$
is an inverse to the functor $j_{U!}$ is omitted.
\end{proof}

\noindent
The lemma says the functor $j_{U!}$ is the composition
$$
\textit{Sh}(\mathcal{C}/U) \rightarrow
\textit{Sh}(\mathcal{C})/h_U^\# \rightarrow
\textit{Sh}(\mathcal{C})
$$
where the first arrow is an equivalence. Hence it commutes with
with fibre products and equalizers. In particular, if
$\mathcal{F} \subset \mathcal{F}'$ in $\textit{Sh}(\mathcal{C}/U)$, then
$j_{U!}\mathcal{F} \subset j_{U!}\mathcal{F}'$.

\begin{lemma}
\label{lemma-compute-j-shriek-restrict}
Let $\mathcal{C}$ be a site. Let $U \in \text{Ob}(\mathcal{C})$.
For any sheaf $\mathcal{F}$ on $\mathcal{C}$ we have
$j_{U!}j_U^{-1}\mathcal{F} = \mathcal{F} \times h_U^\#$.
\end{lemma}

\begin{proof}
This is clear from the description of $j_{U!}$ in
Lemma \ref{lemma-describe-j-shriek}.
\end{proof}

\begin{lemma}
\label{lemma-localization-given-products}
Let $\mathcal{C}$ be a site.
Let $U \in \text{Ob}(\mathcal{C})$.
Assume $\mathcal{C}$ has products of pairs of objects.
Then
\begin{enumerate}
\item the functor $j_U$ has a continuous right adjoint,
namely the functor $v(X) = X \times U / U$,
\item the functor $v$ defines a morphism of sites
$\mathcal{C}/U \to \mathcal{C}$ whose associated morphism of topoi equals
$j_U : \textit{Sh}(\mathcal{C}/U) \to \textit{Sh}(\mathcal{C})$, and
\item we have $j_{U*}\mathcal{F}(X) = \mathcal{F}(X \times U/U)$.
\end{enumerate}
\end{lemma}

\begin{proof}
The functor $v$ being right adjoint to $j_U$ means that given $Y/U$ and $X$
we have
$$
\text{Mor}_{\mathcal{C}}(Y, X)
=
\text{Mor}_{\mathcal{C}/U}(Y/U, X\times U/U)
$$
which is clear. To check that $v$ is continous let $\{X_i \to X\}$ be
a convering of $\mathcal{C}$. By the third axiom of a site
(Definition \ref{definition-site})
we see that
$$
\{X_i \times_X (X \times U) \to X \times_X (X \times U)\}
=
\{X_i \times U \to X \times U\}
$$
is a covering of $\mathcal{C}$ also. Hence $v$ is continuous. The other
statements of the lemma follow from Lemmas \ref{lemma-have-functor-other-way}
and \ref{lemma-have-functor-other-way-morphism}.
\end{proof}

\noindent
A fundamental property of an open immersion is
that the restriction of the pushforward and the restriction
of the extension by the empty set produces back the original sheaf.
This is not always true for the functors associated to $j_U$
above. It is true when $U$ is a ``subobject of the final object''.

\begin{lemma}
\label{lemma-restrict-back}
Let $\mathcal{C}$ be a site.
Let $U \in \text{Ob}(\mathcal{C})$.
Assume that every $X$ in $\mathcal{C}$ has at most
one morphism to $U$. Let $\mathcal{F}$ be a sheaf on $\mathcal{C}/U$.
The canonical maps $\mathcal{F} \to j_U^{-1}j_{U!}\mathcal{F}$
and $j_U^{-1}j_{U*}\mathcal{F} \to \mathcal{F}$ are
isomorphisms.
\end{lemma}

\begin{proof}
If $\mathcal{C}$ has fibre products, then this is a special case of
Lemma \ref{lemma-back-and-forth}. In general we have the following
direct proof.

\medskip\noindent
Let $X/U$ be an object over $U$.
In Lemmas \ref{lemma-pu-sheaf} and \ref{lemma-when-shriek} we have seen that
sheafification is not necessary for the functors
$j_U^{-1} = (u^p\ )^\#$ and $j_{U*} = ({}_pu )^\#$.
We may compute
$(j_U^{-1}j_{U*}\mathcal{F})(X/U) = j_{U*}\mathcal{F}(X)
= \text{lim}\ \mathcal{F}(Y/U)$. Here the limit
is over the category of pairs $(Y/U, Y \to X)$
where the morphisms $Y \to X$ are not required to be over $U$.
By our assumption however we see that they are automatically
morphisms over $U$ and we deduce that the limit is the
value on $\text{id}_X$, i.e., $\mathcal{F}(X/U)$.
This proves that $j_U^{-1}j_{U*}\mathcal{F} = \mathcal{F}$.

\medskip\noindent
On the other hand,
$(j_U^{-1}j_{U!}\mathcal{F})(X/U) =
j_{U!}\mathcal{F}(X) = (u_p\mathcal{F})^\#(X)$, and
$u_p\mathcal{F}(X) = \text{colim}\ \mathcal{F}(Y/U)$.
Here the colimit is over the category of pairs $(Y/U, X \to Y)$
where the morphisms $X \to Y$ are not required to be over $U$.
By our assumption however we see that they are automatically
morphisms over $U$ and we deduce that the colimit is the
value on $\text{id}_X$, i.e., $\mathcal{F}(X/U)$.
This shows that the sheafification is not necessary (since any
object over $X$ is automatically in a unique way an object over $U$)
and the result follows.
\end{proof}

\noindent
The following lemma is a special case of the more general
Lemma \ref{lemma-morphism-sites-localization} below.

\begin{lemma}
\label{lemma-morphism-sites-localization-strong}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $u : \mathcal{D} \to \mathcal{C}$ be a functor.
Let $V \in \text{Ob}(\mathcal{D})$. Set $U = u(V)$.
Assume that
\begin{enumerate}
\item $\mathcal{C}$ and $\mathcal{D}$ have
all finite limits,
\item $u$ is continuous, and
\item $u$ commutes with finite limits.
\end{enumerate}
There exists a commutative diagram of morphisms of sites
$$
\xymatrix{
\mathcal{C}/U \ar[r]_{j_U} \ar[d]_{f'} & \mathcal{C} \ar[d]^f \\
\mathcal{D}/V \ar[r]^{j_V} & \mathcal{D}
}
$$
where the right vertical arrow corresponds to $u$,
the left vertical arrow corresponds to the
functor $u' : \mathcal{D}/V \to \mathcal{C}/U$, $V'/V \mapsto u(V')/u(V)$
and the horizontal arrows correspond to the functors
$\mathcal{C} \to \mathcal{C}/U$, $X \mapsto X \times U$
and $\mathcal{D} \to \mathcal{D}/V$, $Y \mapsto Y \times V$
as in Lemma \ref{lemma-localization-given-products}.
\end{lemma}

\begin{proof}
Note that $u$ satisfies the assumptions of
Proposition \ref{proposition-get-morphism} and hence induces
a morphism of sites $f : \mathcal{C} \to \mathcal{D}$ by that proposition.
It is clear that $u$ induces a functor $u'$ as indicated.
It is clear that this functor also satisfies the assumptions of
Proposition \ref{proposition-get-morphism}.
Hence we get a morphism of sites $f' : \mathcal{C}/U \to \mathcal{D}/V$.
The diagram commutes by our definition of composition of morphisms of
sites (see Definition \ref{definition-composition-morphisms-sites})
and because
$$
u(Y \times V) = u(Y) \times u(V) = u(Y) \times U
$$
which shows that the diagram of categories and functors opposite to
the diagram of the lemma commutes.
\end{proof}

\noindent
Here is a version of the preceding lemma where we assume less.

\begin{lemma}
\label{lemma-morphism-sites-localization}
Let $f : \mathcal{C} \to \mathcal{D}$ be a morphism of sites
corresponding to the continuous functor $u : \mathcal{C} \to \mathcal{D}$.
Let $V \in \text{Ob}(\mathcal{D})$ and set $U = u(V)$.
Then the functor $u' : \mathcal{D}/V \to \mathcal{C}/U$,
$V'/V \mapsto u(V')/u(V)$ corresponds to a morphism of sites
$f' : \mathcal{C}/U \to \mathcal{D}/V$ and we get
a commutative diagram of topoi
$$
\xymatrix{
\textit{Sh}(\mathcal{C}/U) \ar[r]_{j_U} \ar[d]_{f'} &
\textit{Sh}(\mathcal{C}) \ar[d]^f \\
\textit{Sh}(\mathcal{D}/V) \ar[r]^{j_V} &
\textit{Sh}(\mathcal{D})
}
$$
\end{lemma}

\begin{proof}
It is clear that $u'$ is continuous, and hence we get functors
$f'_* = (u')^s = (u')^p$ (see
Sections \ref{section-functoriality-PSh}
and \ref{section-continuous-functors})
and an adjoint
$(f')^{-1} = (u')_s = ((u')_p\ )^\#$. What isn't clear a priori is
that $(f')^{-1}$ is exact and that the diagram commutes.

\medskip\noindent
Let $\mathcal{H}$ be a sheaf on $\mathcal{D}/V$.
Let us compute $j_{U!}(f')^{-1}\mathcal{H}$. We have
\begin{eqnarray*}
j_{U!}(f')^{-1}\mathcal{H}
& =
((j_U)_p(u'_p\mathcal{H})^\#)^\# \\
& =
((j_U)_pu'_p\mathcal{H})^\# \\
& =
(u_p(j_V)_p\mathcal{H})^\# \\
& =
f^{-1}j_{V!}\mathcal{H}
\end{eqnarray*}
The first equality by unwinding the definitions.
The second equality by Lemma \ref{lemma-technical-up}.
The third equality because $u \circ j_V = j_U \circ u'$.
The fourth equality by Lemma \ref{lemma-technical-up} again.
All of the equalities above are isomorphisms of functors, and
hence we may interpret this as saying that the following
diagram of categories and functors is commutative
$$
\xymatrix{
\textit{Sh}(\mathcal{C}/U) \ar[r]_{j_{U!}} &
\textit{Sh}(\mathcal{C})/h_U^\# \ar[r] &
\textit{Sh}(\mathcal{C}) \\
\textit{Sh}(\mathcal{D}/V) \ar[r]^{j_{V!}} \ar[u]^{(f')^{-1}} &
\textit{Sh}(\mathcal{D})/h_V^\# \ar[r] \ar[u]^{f^{-1}} &
\textit{Sh}(\mathcal{D}) \ar[u]^{f^{-1}}
}
$$
(Note that $f^{-1}h_V^\# = h_{u(V)}^\# = h_U^\#$.)
Since by Lemma \ref{lemma-essential-image-j-shriek}
the left horizontal arrows are equivalences
and since $f^{-1}$ is exact by assumption we conclude that
$(f')^{-1} = u'_s$ is exact. Namely, because it is a left adjoint
it is already right exact
(Categories, Lemma \ref{categories-lemma-adjoint-exact}).
Hence we only need to show that
it transforms a final object into a final object and commutes
with fibre products
(Categories, Lemma \ref{categories-lemma-characterize-left-exact}).
Both are clear for the induced functor
$\textit{Sh}(\mathcal{D})/h_V^\# \to \textit{Sh}(\mathcal{C})/h_U^\#$.
This proves that $f'$ is a morphism of sites.

\medskip\noindent
We still have to verify that $(f')^{-1}j_V^{-1} = j_U^{-1}f^{-1}$.
To see this use the formula above and the description
in Lemma \ref{lemma-compute-j-shriek-restrict}. Namely,
combined these give, for any sheaf $\mathcal{G}$ on $\mathcal{D}$, that
$$
j_{U!}(f')^{-1}j_V^{-1}\mathcal{G}
=
f^{-1}j_{V!}j_V^{-1}\mathcal{G}
=
f^{-1}(\mathcal{G} \times h_V^\#)
=
f^{-1}\mathcal{G} \times h_U^\#
=
j_{U!}j_U^{-1}f^{-1}\mathcal{G}.
$$
Since the functor $j_{U!}$ induces an equivalence
$\textit{Sh}(\mathcal{C}/U) \to \textit{Sh}(\mathcal{C})/h_U^\#$
we conclude.
\end{proof}

\begin{lemma}
\label{lemma-cocontinuous-localization}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a cocontinuous functor.
Let $U$ be an object of $\mathcal{C}$, and set $V = u(U)$.
We have a commutative diagram
$$
\xymatrix{
\mathcal{C}/U \ar[r]_{j_U} \ar[d]_{u'} & \mathcal{C} \ar[d]^u \\
\mathcal{D}/V \ar[r]^-{j_V} & \mathcal{D}
}
$$
where the left vertical arrow is
$u' : \mathcal{C}/U \to \mathcal{D}/V$, $U'/U \mapsto V'/V$.
Then $u'$ is cocontinuous also and we get a commutative diagram of topoi
$$
\xymatrix{
\textit{Sh}(\mathcal{C}/U) \ar[r]_{j_U} \ar[d]_{f'} &
\textit{Sh}(\mathcal{C}) \ar[d]^f \\
\textit{Sh}(\mathcal{D}/V) \ar[r]^-{j_V} &
\textit{Sh}(\mathcal{D})
}
$$
where $f$ (resp.\ $f'$) corresponds to $u$ (resp.\ $u'$).
\end{lemma}

\begin{proof}
The commutativity of the first diagram is clear.
It implies the commutativity of the second diagram provided we
show that $u'$ is cocontinuous.

\medskip\noindent
Let $U'/U$ be an object of $\mathcal{C}/U$.
Let $\{V_j/V \to u(U')/V\}_{j \in J}$ be a covering of $u(U')/V$
in $\mathcal{D}/V$. Since $u$ is cocontinuous there exists a
covering $\{U_i' \to U'\}_{i \in I}$ such that the family
$\{u(U_i') \to u(U')\}$ refines the covering
$\{V_j \to u(U')\}$ in $\mathcal{D}$. In other words, there exists
a map of index sets $\alpha : I \to J$ and morphisms
$\phi_i : u(U_i') \to V_{\alpha(i)}$ over $U'$.
Think of $U_i'$ as an object over
$U$ via the composition $U'_i \to U' \to U$. Then
$\{U'_i/U \to U'/U\}$ is a covering of $\mathcal{C}/U$ such that
$\{u(U_i')/V \to u(U')/V\}$ refines $\{V_j/V \to u(U')/V\}$
(use the same $\alpha$ and the same maps $\phi_i$). Hence
$u' : \mathcal{C}/U \to \mathcal{D}/V$ is cocontinuous.
\end{proof}

\begin{lemma}
\label{lemma-relocalize}
Let $\mathcal{C}$ be a site.
Let $\varphi : V \to U$ be a morphism of $\mathcal{C}$.
Then there exists a commutative diagram
$$
\xymatrix{
\mathcal{C}/V \ar[rd]_{j_V} \ar[rr]_j & &
\mathcal{C}/U \ar[ld]^{j_U} \\
& \mathcal{C} &
}
$$
where $j : \mathcal{C}/V \to \mathcal{C}/U$ is identified with the
functor $j_{V/U} : (\mathcal{C}/U)/(V/U) \to \mathcal{C}/U$ via
the identification $(\mathcal{C}/U)/(V/U) = \mathcal{C}/V$.
Moreover we have $j_{V!} = j_{U!} \circ j_!$,
$j_V^{-1} = j^{-1} \circ j_U^{-1}$, and $j_{V*} = j_{U*} \circ j_*$.
\end{lemma}

\begin{proof}
Omitted. (Hint: You can deduce this from
Lemma \ref{lemma-cocontinuous-localization}, but the easiest way is
probably to show directly that $j_V^{-1} = j^{-1} \circ j_U^{-1}$.)
\end{proof}















\section{Morphisms of topoi}
\label{section-morphisms-topoi}

\noindent
In this section we show that any morphism of topoi is equivalent
to a morphism of topoi which comes from a morphism of sites.

\begin{lemma}
\label{lemma-equivalence}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a functor.
Assume that
\begin{enumerate}
\item $u$ is cocontinuous,
\item $u$ is continuous,
\item given $a, b : U' \to U$ in $\mathcal{C}$ such that
$u(a) = u(b)$, then there exists a covering $\{f_i : U'_i \to U'\}$
in $\mathcal{C}$ such that $a \circ f_i = b \circ f_i$,
\item given $U', U \in \text{Ob}(\mathcal{C})$ and
a morphism $c : u(U') \to u(U)$ in $\mathcal{D}$ there exists
a covering $\{f_i : U_i' \to U'\}$ in $\mathcal{C}$
and morphisms $c_i : U_i' \to U$ such that $u(c_i) = c \circ u(f_i)$, and
\item given $V \in \text{Ob}(\mathcal{D})$ there exists a covering
of $V$ in $\mathcal{D}$ of the form $\{u(U_i) \to V\}_{i \in I}$.
\end{enumerate}
Then the morphism of topoi
$$
g : \textit{Sh}(\mathcal{C}) \longrightarrow \textit{Sh}(\mathcal{D})
$$
associated to the cocontinuous functor $u$ by
Lemma \ref{lemma-cocontinuous-morphism-topoi}
is an equivalence.
\end{lemma}

\begin{proof}
Assume $u$ satisfies properties (1) -- (5). We will show that
the adjunction mappings
$$
\mathcal{G} \longrightarrow g_*g^{-1}\mathcal{G}
\quad\text{and}\quad
g^{-1}g_*\mathcal{F} \longrightarrow \mathcal{F}
$$
are isomorphisms.

\medskip\noindent
Note that Lemma \ref{lemma-when-shriek} applies and we have
$g^{-1}\mathcal{G}(U) = \mathcal{G}(u(U))$ for any sheaf $\mathcal{G}$
on $\mathcal{D}$. Next, let $\mathcal{F}$ be a sheaf on $\mathcal{C}$,
and let $V$ be an object of $\mathcal{D}$. By definition we have
$g_*\mathcal{F}(V) = \text{lim}_{u(U) \to V}\ \mathcal{F}(U)$.
Hence
$$
g^{-1}g_*\mathcal{F}(U) = \text{lim}_{U', u(U') \to u(U)}\ \mathcal{F}(U')
$$
where the morphisms $\psi : u(U') \to u(U)$ need not be of the form
$u(\alpha)$. The category of such pairs $(U', \psi)$ has a final
object, namely $(U, \text{id})$, which gives rise to the map from
the limit into $\mathcal{F}(U)$. Let $(s_{(U', \psi)})$ be an element
of the limit. We want to show that $s_{(U', \psi)}$ is uniquely determined
by the value $s_{(U, \text{id})} \in \mathcal{F}(U)$. By property (4) given
any $(U', \psi)$ there exists a covering $\{U'_i \to U'\}$ such that the
compositions $u(U'_i) \to u(U') \to u(U)$ are of the form $u(c_i)$
for some $c_i : U'_i \to U$ in $\mathcal{C}$. Hence
$$
s_{(U', \psi)}|_{U'_i} = c_i^*(s_{U, \text{id}}).
$$
Since $\mathcal{F}$ is a sheaf it follows that indeed $s_{(U', \psi)}$
is determined by $s_{(U, \text{id})}$. This proves uniqueness.
For existence, assume given any
$s \in \mathcal{F}(U)$, $\psi : u(U') \to u(U)$, $\{f_i : U_i' \to U'\}$
and $c_i : U_i' \to U$ such that $\psi \circ u(f_i) = u(c_i)$ as above.
We claim there exists a (unique) element
$s_{(U', \psi)} \in \mathcal{F}(U')$ such that
$$
s_{(U', \psi)}|_{U'_i} = c_i^*(s).
$$
Namely, a priori it is not clear the elements
$c_i^*(s)|_{U_i' \times_{U'} U_j'}$
and $c_j^*(s)|_{U_i' \times_{U'} U_j'}$ agree, since
the diagram
$$
\xymatrix{
U_i' \times_{U'} U_j' \ar[r]_-{\text{pr}_2} \ar[d]_{\text{pr}_1} &
U_j' \ar[d]^{c_j} \\
U_i' \ar[r]^{c_i} & U}
$$
need not commute. But condition (3) of the lemma garantees that there
exist coverings
$\{f_{ijk} : U'_{ijk} \to U_i' \times_{U'} U_j'\}_{k \in K_{ij}}$ such that
$c_i \circ \text{pr}_1 \circ f_{ijk} = c_j \circ \text{pr}_2 \circ f_{ijk}$.
Hence
$$
f_{ijk}^* \left(c_i^*s|_{U_i' \times_{U'} U_j'}\right)
=
f_{ijk}^* \left(c_j^*s|_{U_i' \times_{U'} U_j'}\right)
$$
Hence $c_i^*(s)|_{U_i' \times_{U'} U_j'} = c_j^*(s)|_{U_i' \times_{U'} U_j'}$
by the sheaf condition for $\mathcal{F}$ and hence the existence of
$s_{U', \psi}$ also by the sheaf condition for $\mathcal{F}$. The uniqueness
garantees that the collection $(s_{U', \psi})$ so obtained is an element
of the limit with $s_{(U, \psi)} = s$. This proves
that $g^{-1}g_*\mathcal{F} \to \mathcal{F}$ is an isomorphism.

\medskip\noindent
Let $\mathcal{G}$ be a sheaf on $\mathcal{D}$. Let $V$ be an
object of $\mathcal{D}$. Then we see that
$$
g_*g^{-1}\mathcal{G}(V) = \text{lim}_{U, \psi : u(U) \to V}\ \mathcal{G}(u(U))
$$
By the preceding paragraph we see that the value of the sheaf
$g_*g^{-1}\mathcal{G}$ on an object $V$ of the form $V = u(U)$
is equal to $\mathcal{G}(u(U))$. (Formally, this holds because
we have $g^{-1}g_*g^{-1} \cong g^{-1}$, and the description
of $g^{-1}$ given at the beginning of the proof; informally just by
comparing limits here and above.)
Hence the adjunction mapping $\mathcal{G} \to g_*g^{-1}\mathcal{G}$ has
the property that it is a bijection on sections over any object of the
form $u(U)$. Since by axiom (5) there
exists a covering of $V$ by objects of the form $u(U)$ we see
easily that the adjunction map is an isomorphism.
\end{proof}

\noindent
It will be convenient to give cocontinuous functors as in
Lemma \ref{lemma-equivalence} a name.

\begin{definition}
\label{definition-special-cocontinuous-functor}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
A {\it special cocontinuous functor $u$ from $\mathcal{C}$ to $\mathcal{D}$}
is a cocontinuous functor $u : \mathcal{C} \to \mathcal{D}$ satisfying
the assumptions and conclusions of Lemma \ref{lemma-equivalence}.
\end{definition}

\begin{lemma}
\label{lemma-special-cocontinuous-localization}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $u : \mathcal{C} \to \mathcal{D}$ be a special cocontinuous functor.
For every object $U$ of $\mathcal{C}$ we have a commutative diagram
$$
\xymatrix{
\mathcal{C}/U \ar[r]_{j_U} \ar[d] & \mathcal{C} \ar[d]^u \\
\mathcal{D}/u(U) \ar[r]^-{j_{u(U)}} & \mathcal{D}
}
$$
as in Lemma \ref{lemma-cocontinuous-localization}.
The left vertical arrow is a special cocontinuous functor.
Hence in the commutative diagram of topoi
$$
\xymatrix{
\textit{Sh}(\mathcal{C}/U) \ar[r]_{j_U} \ar[d] &
\textit{Sh}(\mathcal{C}) \ar[d]^u \\
\textit{Sh}(\mathcal{D}/u(U)) \ar[r]^-{j_{u(U)}} &
\textit{Sh}(\mathcal{D})
}
$$
the vertical arrows are equivalences.
\end{lemma}

\begin{proof}
We have seen the existence and commutativity of the diagrams in
Lemma \ref{lemma-cocontinuous-localization}. We have to check
hypotheses (1) -- (5) of Lemma \ref{lemma-equivalence} for the
induced functor $u : \mathcal{C}/U \to \mathcal{D}/u(U)$.
This is completely mechanical.

\medskip\noindent
Property (1). This is Lemma \ref{lemma-cocontinuous-localization}.

\medskip\noindent
Property (2). Let $\{U_i'/U' \to U'/U\}_{i \in I}$ be a covering
of $U'/U$ in $\mathcal{C}/U$. Because $u$ is continuous we see that
$\{u(U_i')/u(U') \to u(U')/u(U)\}_{i \in I}$ is a covering
of $u(U')/u(U)$ in $\mathcal{D}/u(U)$. Hence (2) holds
for $u : \mathcal{C}/U \to \mathcal{D}/u(U)$.

\medskip\noindent
Property (3). Let $a, b : U''/U \to U'/U$ in $\mathcal{C}/U$
be morphisms such that $u(a) = u(b)$ in $\mathcal{D}/u(U)$.
Because $u$ satisfies (3) we see there exists a covering
$\{f_i : U''_i \to U''\}$ in $\mathcal{C}$ such that
$a \circ f_i = b \circ f_i$. This gives a covering
$\{f_i : U''_i/U \to U''/U\}$ in $\mathcal{C}/U$ such that
$a \circ f_i = b \circ f_i$. Hence (3) holds
for $u : \mathcal{C}/U \to \mathcal{D}/u(U)$.

\medskip\noindent
Property (4). Let $U''/U, U'/U \in \text{Ob}(\mathcal{C}/U)$ and
a morphism $c : u(U'')/u(U) \to u(U')/u(U)$ in $\mathcal{D}/u(U)$
be given. Because $u$ satisfies property (4) there exists
a covering $\{f_i : U_i'' \to U''\}$ in $\mathcal{C}$
and morphisms $c_i : U_i'' \to U'$ such that $u(c_i) = c \circ u(f_i)$.
We think of $U_i''$ as an object over $U$ via the composition
$U_i'' \to U'' \to U$.
It may not be true that $c_i$ is a morphism over $U$!
But since $u(c_i)$ is a morphism over $u(U)$ we may apply
property (3) for $u$ and find coverings $\{f_{ik} : U''_{ik} \to U''_i\}$
such that $c_{ik} = c_i \circ f_{ik} : U''_{ik} \to U'$ are morphisms over $U$.
Hence $\{f_i \circ f_{ik} : U''_{ik}/U \to U''/U\}$ is a covering
in $\mathcal{C}/U$ such that $u(c_{ik}) = c \circ u(f_{ik})$.
Hence (4) holds
for $u : \mathcal{C}/U \to \mathcal{D}/u(U)$.

\medskip\noindent
Property (5). Let $h : V \to u(U)$ be an object of $\mathcal{D}/u(U)$.
Because $u$ saitisfies property (5) there exists a covering
$\{c_i : u(U_i) \to V\}$ in $\mathcal{D}$. By property (3) we can find
coverings $\{f_{ij} : U_{ij} \to U_i\}$ and morphisms
$c_{ij} : U_{ij} \to U$ such that $u(c_{ij}) = h \circ c_i \circ u(f_{ij})$.
Hence $\{u(U_{ij})/u(U) \to V/u(U)\}$ is a covering in
$\mathcal{D}/u(U)$ of the desired shape and we conclude that
(5) holds for $u : \mathcal{C}/U \to \mathcal{D}/u(U)$.
\end{proof}

\begin{lemma}
\label{lemma-special-equivalence}
Let $\mathcal{C}$ be a site. Let
$\mathcal{C}' \subset \textit{Sh}(\mathcal{C})$
be a full subcategory (with a set of objects) such that
\begin{enumerate}
\item $h_U^\# \in \text{Ob}(\mathcal{C}')$ for all
$U \in \text{Ob}(\mathcal{C})$, and
\item $\mathcal{C}'$ is preserved under fibre products in
$\textit{Sh}(\mathcal{C})$.
\end{enumerate}
Declare a covering of $\mathcal{C}'$ to be any family
$\{\mathcal{F}_i \to \mathcal{F}\}_{i \in I}$ of maps such that
$\coprod_{i \in I} \mathcal{F}_i \to \mathcal{F}$ is a surjective
map of sheaves. Then
\begin{enumerate}
\item $\mathcal{C}'$ is a site (after
choosing a set of coverings, see Sets, Lemma \ref{sets-lemma-coverings-site}),
\item representable presheaves on $\mathcal{C}'$ are sheaves
(i.e., the topology on $\mathcal{C}'$ is weaker than the
canonical topology),
\item the functor $v : \mathcal{C} \to \mathcal{C}'$,
$U \mapsto h_U^\#$ is a special cocontinuous functor, hence induces an
equivalence $g : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{C}')$,
\item for any $\mathcal{F} \in \text{Ob}(\mathcal{C}')$ we have
$g^{-1}h_\mathcal{F} = \mathcal{F}$, and
\item for any $U \in \text{Ob}(\mathcal{C})$ we have
$g_*h_U^\# = h_{v(U)} = h_{h_U^\#}$.
\end{enumerate}
\end{lemma}

\begin{proof}
Warning: Some of the statements above may look be a bit confusing at first;
this is because objects of $\mathcal{C}'$ can also be viewed as sheaves on
$\mathcal{C}$! We omit the proof that the coverings of $\mathcal{C}'$ as
described in the lemma satisfy the conditions of
Definition \ref{definition-site}.

\medskip\noindent
Suppose that $\{\mathcal{F}_i \to \mathcal{F}\}$ is a surjective
family of morphisms of sheaves. Let $\mathcal{G}$ be another sheaf.
Part (2) of the lemma says that the equalizer of
$$
\xymatrix{
\text{Mor}_{\textit{Sh}(\mathcal{C})}(
\coprod_{i \in I} \mathcal{F}_i, \mathcal{G})
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\text{Mor}_{\textit{Sh}(\mathcal{C})}(
\coprod_{(i_0, i_1) \in I\times I}
\mathcal{F}_{i_0} \times_{\mathcal{F}} \mathcal{F}_{i_1}, \mathcal{G})
}
$$
is $\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}, \mathcal{G}).$
This is clear (for example use Lemma \ref{lemma-mono-epi-sheaves}).

\medskip\noindent
To prove (3) we
have to check conditions (1) -- (5) of Lemma \ref{lemma-equivalence}.
The fact that $v$ is cocontinuous is
equivalent to the description of surjective maps of sheaves in
Lemma \ref{lemma-mono-epi-sheaves}.
The functor $v$ is continuous because
$U \mapsto h_U^\#$ commutes with fibre products,
and transforms coverings into coverings (see
Lemma \ref{lemma-sheafification-exact}, and
Lemma \ref{lemma-covering-surjective-after-sheafification}).
Properties (3), (4) of Lemma \ref{lemma-equivalence}
are statements about morphisms $f : h_U^\# \to h_{U'}^\#$.
Such a morphism is the same thing as an element of $h_{U'}^\#(U)$.
Hence (3) and (4) are immediate from the construction of the sheafification.
Property (5) of Lemma \ref{lemma-equivalence} is
Lemma \ref{lemma-sheaf-coequalizer-representable}.
Denote $g : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{C}')$ the
equivalence of topoi associated with $v$ by Lemma \ref{lemma-equivalence}.

\medskip\noindent
Let $\mathcal{F}$ be as in part (4) of the lemma.
For any $U \in \text{Ob}(\mathcal{C})$ we have
$$
g^{-1}h_\mathcal{F}(U) = h_{\mathcal{F}}(v(U))
= \text{Mor}_{\textit{Sh}(\mathcal{C})}(h_U^\#, \mathcal{F})
= \mathcal{F}(U)
$$
The first equality we saw in the proof of Lemma \ref{lemma-equivalence}.
Thus part (4) holds.

\medskip\noindent
Let $\mathcal{F} \in \text{Ob}(\mathcal{C}')$.
Let $U \in \text{Ob}(\mathcal{C})$.
Then
\begin{align*}
g_*h_U^\#(\mathcal{F})
& =
\text{Mor}_{\textit{Sh}(\mathcal{C}')}(h_{\mathcal{F}}, g_*h_U^\#) \\
& =
\text{Mor}_{\textit{Sh}(\mathcal{C})}(g^{-1}h_{\mathcal{F}}, h_U^\#) \\
& =
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}, h_U^\#) \\
& =
\text{Mor}_{\mathcal{C}'}(\mathcal{F}, h_U^\#)
\end{align*}
as desired (where the third equality was shown above).
\end{proof}

\noindent
Using this we can massage any topos to live over a site having
all finite limits.

\begin{lemma}
\label{lemma-topos-good-site}
Let $\textit{Sh}(\mathcal{C})$ be a topos.
There exists an equivalence of topoi
$g : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{C}')$
induced by a special cocontinuous functor $u : \mathcal{C} \to \mathcal{C}'$
such that $\mathcal{C}'$ is a site having fibre products and a final object
(in other words, $\mathcal{C}'$ has all finite limits).
\end{lemma}

\begin{proof}
Consider the full subcategory
$\mathcal{C}_1 \subset \text{Sh}(\mathcal{C})$ consisting of all
$h_U^\#$ for all $U \in \text{Ob}(\mathcal{C})$ and
the final sheaf $*$ (see Example \ref{example-singleton-sheaf}).
Let $\mathcal{C}_{n + 1}$ be a full subcategory consisting of all
fibre products of objects of $\mathcal{C}_n$. Set
$\mathcal{C}' = \bigcup_{n \geq 1} \mathcal{C}_n$.
A covering in $\mathcal{C}'$ is any family
$\{\mathcal{F}_i \to \mathcal{F}\}_{i \in I}$ such that
$\coprod_{i \in I} \mathcal{F}_i \to \mathcal{F}$ is surjective
as a map of sheaves on $\mathcal{C}$.
The functor $v : \mathcal{C} \to \mathcal{C'}$ is given by
$U \mapsto h_U^\#$. Apply Lemma \ref{lemma-special-equivalence}.
\end{proof}

\noindent
Here is the goal of the current section.

\begin{lemma}
\label{lemma-morphism-topoi-comes-from-morphism-sites}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $f : \textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{D})$ be a
morphism of topoi.
Then there exists a site $\mathcal{C}'$ and a diagram of functors
$$
\xymatrix{
\mathcal{C} \ar[r]_v & \mathcal{C}' & \mathcal{D} \ar[l]^u
}
$$
such that
\begin{enumerate}
\item the functor $v$ is a special cocontinuous functor,
\item the functor $u$ commutes with fibre products, is
continuous and defines a morphism of sites
$\mathcal{C}' \to \mathcal{D}'$, and
\item the morphism of topoi $f$ agrees with the composition
of morphisms of topoi
$$
\textit{Sh}(\mathcal{C}) \longrightarrow
\textit{Sh}(\mathcal{C}') \longrightarrow
\textit{Sh}(\mathcal{D})
$$
where the first arrow comes from $v$ via Lemma \ref{lemma-equivalence}
and the second arrow from $u$ via Lemma \ref{lemma-morphism-sites-topoi}.
\end{enumerate}
\end{lemma}

\begin{proof}
Consider the full subcategory
$\mathcal{C}_1 \subset \text{Sh}(\mathcal{C})$ consisting of all
$h_U^\#$ and all $f^{-1}h_V^\#$ for all
$U \in \text{Ob}(\mathcal{C})$ and all $V \in \text{Ob}(\mathcal{D})$.
Let $\mathcal{C}_{n + 1}$ be a full subcategory consisting of all
fibre products of objects of $\mathcal{C}_n$. Set
$\mathcal{C}' = \bigcup_{n \geq 1} \mathcal{C}_n$.
A covering in $\mathcal{C}'$ is any family
$\{\mathcal{F}_i \to \mathcal{F}\}_{i \in I}$ such that
$\coprod_{i \in I} \mathcal{F}_i \to \mathcal{F}$ is surjective
as a map of sheaves on $\mathcal{C}$.
The functor $v : \mathcal{C} \to \mathcal{C'}$ is given by
$U \mapsto h_U^\#$.
The functor $u : \mathcal{D} \to \mathcal{C'}$ is given by
$V \mapsto f^{-1}h_V^\#$.

\medskip\noindent
Part (1) follows from Lemma \ref{lemma-special-equivalence}.

\medskip\noindent
Proof of (2) and (3) of the lemma. The functor $u$ commutes with fibre
products as both $V \mapsto h_V^\#$ and $f^{-1}$ do. Moreover,
since $f^{-1}$ is exact and commutes with arbitrary colimits we see
that it transforms a covering into a surjective family of morphisms of
sheaves. Hence $u$ is continuous. To see that it defines a morphism of
sites we still have to see that $u_s$ is exact. In order to do this
we will show that $g^{-1} \circ u_s = f^{-1}$. Namely, then since $g^{-1}$
is an equivalence and $f^{-1}$ is exact we will conclude.
Because $g^{-1}$ is adjoint to $g_*$, and $u_s$ is adjoint to
$u^s$, and $f^{-1}$ is adjoint to $f_*$ it also suffices to prove that
$u^s \circ g_* = f_*$.
Let $U$ be an object of $\mathcal{C}$ and let
$V$ be an object of $\mathcal{D}$. Then
\begin{align*}
(u^sg_*h_U^\#)(V)
& =
g_*h_U^\#(f^{-1}h_V^\#) \\
& =
\text{Mor}_{\textit{Sh}(\mathcal{C})}(f^{-1}h_V^\#, h_U^\#) \\
& =
\text{Mor}_{\textit{Sh}(\mathcal{D})}(h_V^\#, f_*h_U^\#) \\
& = f_*h_U^\#(V)
\end{align*}
The first equality because $u^s = u^p$. The second equality
by Lemma \ref{lemma-special-equivalence} (5). The third equality
by adjointness of $f_*$ and $f^{-1}$ and the final equality by
properties of sheafification and the Yoneda lemma.
We omit the verification that these identities are functorial in $U$
and $V$. Hence we see that
we have $u^s \circ g_* = f_*$ for sheaves of the form $h_U^\#$.
This implies that $u^s \circ g_* = f_*$ and we win (some details omitted).
\end{proof}

\begin{remark}
\label{remark-morphism-topoi-comes-from-morphism-sites}
Notation and assumptions
as in Lemma \ref{lemma-morphism-topoi-comes-from-morphism-sites}.
If the site $\mathcal{D}$ has a final object and fibre products
then the functor $u : \mathcal{D} \to \mathcal{C}'$ satisfies
all the assumptions of Proposition \ref{proposition-get-morphism}.
Namely, in addition to the properties mentioned in the lemma $u$
also transforms the final object of $\mathcal{D}$ into the final
object of $\mathcal{C}'$. This is clear from the construction of $u$.
Hence combining Lemmas \ref{lemma-topos-good-site}
and \ref{lemma-morphism-topoi-comes-from-morphism-sites}
we can factor any morphism of topoi into a composition
$$
\textit{Sh}(\mathcal{C}) \to
\textit{Sh}(\mathcal{C}') \to
\textit{Sh}(\mathcal{D}') \leftarrow
\textit{Sh}(\mathcal{D})
$$
where the first and  the last arrow are equivalences given by
special cocontinuous functors $\mathcal{C} \to \mathcal{C}'$ and
$\mathcal{D} \to \mathcal{D}'$ and the middle arrow comes from
a morphism of sites $f : \mathcal{C}' \to \mathcal{D}'$ corresponding to a
functor $u : \mathcal{D}' \to \mathcal{C}'$ to which
Proposition \ref{proposition-get-morphism} applies.
\end{remark}

\begin{remark}
\label{remark-equivalence-topoi-comes-from-morphism-sites}
Notation and assumptions
as in Lemma \ref{lemma-morphism-topoi-comes-from-morphism-sites}.
Suppose that in addition the original morphism of topoi
$\textit{Sh}(\mathcal{C}) \to \textit{Sh}(\mathcal{D})$ is an equivalence.
Then the construction in the proof of
Lemma \ref{lemma-morphism-topoi-comes-from-morphism-sites}
gives two functors
$$
\mathcal{C} \rightarrow \mathcal{C}' \leftarrow \mathcal{D}
$$
which are both special continuous functors.
Hence in this case we can actually
factor the morphism of topoi as a composition
$$
\textit{Sh}(\mathcal{C}) \rightarrow
\textit{Sh}(\mathcal{C}') =
\textit{Sh}(\mathcal{D}') \leftarrow
\textit{Sh}(\mathcal{D})
$$
as in Remark \ref{remark-morphism-topoi-comes-from-morphism-sites}, but
with the middle morphism an identity.
\end{remark}















\section{Sites and points}
\label{section-points}

\begin{definition}
\label{definition-point-topos}
Let $\mathcal{C}$ be a site.
A {\it point of the topos $\textit{Sh}(\mathcal{C})$}
is a morphism of topoi $p$ from $\textit{Sh}(pt)$ to
$\textit{Sh}(\mathcal{C})$.
\end{definition}

\noindent
We will define a point of a site in terms of a functor
$u : \mathcal{C} \to \textit{Sets}$. This makes some amount of sense
because, as we saw in Remark \ref{remark-pt-topos} a suitable
collection of sets containing $u(\text{Ob}(\mathcal{C}))$ can be turned
into the objects of a site whose category of sheaves is equivalent
to $\textit{Sets}$.

\medskip\noindent
Let $\mathcal{C}$ be a site. Let $p = u$ be
a functor $u : \mathcal{C} \to \textit{Sets}$.
This curious language is introduced because it
seems funny to talk about neighbourhoods of functors;
so we think of a ``point'' $p$ as a geometric thing which
is given by a categorical datum, namely the functor $u$.
The fact that $p$ is actually equal to $u$ does not matter.
A {\it neighbourhood} of $p$ is a pair $(U, x)$ with
$U \in \text{Ob}(\mathcal{C})$ and $x \in u(U)$.
A {\it morphism of neighbourhoods} $(V, y) \to (U, x)$
is given by a morphism $\alpha :V \to U$ of $\mathcal{C}$
such that $u(\alpha)(y) = x$. Note that the category of
neighbourhoods isn't a ``big'' category.

\medskip\noindent
We define the {\it stalk} of a presheaf $\mathcal{F}$ at $p$ as
$$
\mathcal{F}_p = \text{colim}_{\{(U, x)\}^{opp}}\ \mathcal{F}(U).
$$
The colimit is over the opposite of the category of
neighbourhoods of $p$. In other words, an element of
$\mathcal{F}_p$ is given by a triple $(U, x, s)$, where
$(U, x)$ is a neighbourhood of $p$ and $s \in \mathcal{F}(U)$. Equality
of triples is the equivalence relation generated by
$(U, x, s) \sim (V, y, \alpha^*s)$ when $\alpha$ is as above.

\medskip\noindent
Note that if $\varphi : \mathcal{F} \to \mathcal{G}$ is a morphism
of presheaves of sets, then we get a canonical map of stalks
$\varphi_p : \mathcal{F}_p \to \mathcal{G}_p$. Thus we obtain
a {\it stalk functor}
$$
\textit{PSh}(\mathcal{C}) \longrightarrow \textit{Sets}, \ 
\mathcal{F} \longmapsto \mathcal{F}_p.
$$
We have defined the stalk functor using any functor
$p = u : \mathcal{C} \to \textit{Sets}$. No conditions are
necessary for the definition to work\footnote{One should try to
avoid the case where $u(U) = \emptyset$ for all $U$.}. On the other hand,
it is probably better not to use this notion unless $p$
actually is a point (see definition below), since in general
the stalk functor does not have good properties.

\begin{definition}
\label{definition-point}
Let $\mathcal{C}$ be a site. A {\it point $p$ of the site
$\mathcal{C}$} is given by a functor $u : \mathcal{C}
\to \textit{Sets}$ such that
\begin{enumerate}
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ the map
$\coprod u(U_i) \to u(U)$ is surjective.
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ and
every morphism $V \to U$ the maps
$u(U_i \times_U V) \to u(U_i) \times_{u(U)} u(V)$ are bijective.
\item The stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$,
$\mathcal{F} \to \mathcal{F}_p$ is left exact.
\end{enumerate}
\end{definition}

\noindent
Note that (3) implies that $*_p = \{*\}$, see
Example \ref{example-singleton-sheaf}. Hence $u(U) \not= \emptyset$
for at least some $U$ (because the empty colimit produces the
empty set). We will show below (Lemma \ref{lemma-point-site-topos})
that this does give rise
to a point of the topos $\textit{Sh}(\mathcal{C})$.
Before we do so, we prove some lemmas for general functors $u$.

\begin{lemma}
\label{lemma-points-recover}
Let $\mathcal{C}$ be a site.
Let $p = u : \mathcal{C} \to \textit{Sets}$ be a functor.
There are functorial isomorphisms
$(h_U)_p = u(U)$ for $U \in \text{Ob}(\mathcal{C})$.
\end{lemma}

\begin{proof}
An element of $(h_U)_p$ is given by a triple $(V, y, f)$,
where $V \in \text{Ob}(\mathcal{C})$, $y\in u(V)$ and
$f \in h_U(V) = \text{Mor}_{\mathcal{C}}(V, U)$.
Two such $(V, y, f)$, $(V', y', f')$ determine the same object if
there exists a morphism $\phi : V \to V'$ such that
$u(\phi)(x) = x'$ and $f' \circ \phi = f$, and in general you have
to take chains of identities like this to get the correct equivalence
relation. In any case, every $(V, y, f)$ is equivalent to
the element $(U, u(f)(y), \text{id}_U)$. If $\phi$ exists as above,
then the triples $(V, y, f)$, $(V', y', f')$ determine the same triple
$(U, u(f)(y), \text{id}_U) = (U, u(f')(y'), \text{id}_U)$.
This proves that the map
$u(U) \to (h_U)_p$, $x \mapsto \text{class of }(U, x, \text{id}_U)$
is bijective.
\end{proof}

\noindent
Let $\mathcal{C}$ be a site. Let $p = u : \mathcal{C} \to \textit{Sets}$
be a functor. In analogy with the constructions in
Section \ref{section-functoriality-PSh} we define a functor
$u^p : \textit{Sets} \to \textit{PSh}(\mathcal{C})$, $S \mapsto u^pS$
where $u^pS$ is the presheaf defined by
the rule $u^pS(U) = \text{Map}(u(U), S)$.

\begin{lemma}
\label{lemma-adjoint-point-push-stalk}
For any functor $u : \mathcal{C} \to \textit{Sets}$.
The functor $u^p$ is a right adjoint to the stalk functor
on presheaves.
\end{lemma}

\begin{proof}
Let $\mathcal{F}$ be a presheaf on $\mathcal{C}$.
Let $S$ be a set. A morphism $\mathcal{F} \to u^pS$
is given by a compatible system of maps
$\mathcal{F}(U) \to \text{Map}(u(U), S)$, i.e.,
a compatible system of maps $\mathcal{F}(U) \times u(U) \to S$.
And by definition of $\mathcal{F}_p$ a map $\mathcal{F}_p \to S$
is given by a rule associating with each triple $(U, x, \sigma)$
an element in $S$. This also means a compatible system of
maps $\mathcal{F}(U) \times u(U) \to S$.
\end{proof}

\noindent
In analogy with Section \ref{section-continuous-functors}
we have the following lemma.

\begin{lemma}
\label{lemma-point-pushforward-sheaf}
Let $\mathcal{C}$ be a site. Let $p = u : \mathcal{C} \to \textit{Sets}$
be a functor. Suppose that
\begin{enumerate}
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ the map
$\coprod u(U_i) \to u(U)$ is surjective.
\item For every covering $\{U_i \to U\}$ of $\mathcal{C}$ the maps
$u(U_i \times_U U_j) \to u(U_i) \times_{u(U)} u(U_j)$ are surjective.
\end{enumerate}
Then we have
\begin{enumerate}
\item the presheaf $u^pS$ is a sheaf for all sets $S$, denote it $u^sS$,
\item the stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$
and the functor $u^s: \textit{Sets} \to \textit{Sh}(\mathcal{C})$ are
adjoint, and
\item we have $\mathcal{F}_p = \mathcal{F}^\#_p$
for every presheaf of sets $\mathcal{F}$.
\end{enumerate}
\end{lemma}

\begin{proof}
The first assertion is immediate from the definition of a sheaf, and the
definition of $u^pS$. The second is a restatement of the adjointness
of $u^p$ and the stalk functor (but now restricted to sheaves). The third
assertion follows as, for any set $S$, we have
$$
\text{Map}(\mathcal{F}_p, S) =
\text{Mor}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, u^pS) =
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}^\#, u^sS) =
\text{Map}(\mathcal{F}^\#_p, S)
$$
by the adjointness property of sheafification.
\end{proof}

\noindent
In particular Lemma \ref{lemma-point-pushforward-sheaf}
holds when $p = u$ is a point. In this case we think of the
sheaf $u^sS$ as the ``skyscraper'' sheaf with value $S$ at $p$.

\begin{definition}
\label{definition-pushforward-point}
Let $p$ be a point of the site $\mathcal{C}$ given by the functor $u$.
For a set $S$ we define $p_*S = u^s S$ the sheaf
described in Lemma \ref{lemma-point-pushforward-sheaf} above.
We sometimes call this a {\it skyscraper sheaf}.
\end{definition}

\noindent
In particular we have the following adjointness property
of skyscraper sheaves and stalks:
$$
\text{Mor}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}, p_*S)
=
\text{Map}(\mathcal{F}_p, S)
$$
This motivates the notation $p^{-1}\mathcal{F} = \mathcal{F}_p$
which we will sometimes use.

\begin{lemma}
\label{lemma-point-site-topos}
Let $\mathcal{C}$ be a site.
\begin{enumerate}
\item Let $p$ be a point of the site $\mathcal{C}$.
Then the pair of functors $(p_*, p^{-1})$ introduced
above define a morphism of topoi
$\textit{Sh}(pt) \to \textit{Sh}(\mathcal{C})$.
\item Let $p = (p_*, p^{-1})$
be a point of the topos $\textit{Sh}(\mathcal{C})$.
Then the functor $U \mapsto p^{-1}(h_U^\#)$ gives
rise to a point of the site $\mathcal{C}$.
\end{enumerate}
\end{lemma}

\begin{proof}
Part (1) is clear from the above. Note that $p^{-1}$ is exact by
Definition \ref{definition-point}. To prove (2), since
$u = p^{-1}$ commutes with all colimits and with finite limits
we get conditions (1) and (2) of Definition \ref{definition-point}.
To prove condition (3) of the definition
you show that the stalk functor associated to
the functor $u$ is canonically isomorphic to $p^{-1}$.
Omitted, but use the material of Section \ref{section-representable-sheaves}.
\end{proof}


\begin{lemma}
\label{lemma-neighbourhoods-directed}
Let $\mathcal{C}$ be a site. Assume that $\mathcal{C}$ has
a final object $X$ and fibred products.
Let $p = u : \mathcal{C} \to \textit{Sets}$ be a functor such that
\begin{enumerate}
\item $u(X)$ is a singleton set, and
\item for every pair of morphisms $U \to W$ and $V \to W$ with
the same target the map
$u(U \times_W V) \to u(U) \times_{u(W)} u(V)$ is surjective.
\end{enumerate}
Then the opposite of the category of neighbourhoods of $p$ is directed.
Moreover, the stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$,
$\mathcal{F} \to \mathcal{F}_p$ commutes with finite limits.
\end{lemma}

\begin{proof}
This is analogous to the proof of Lemma \ref{lemma-directed} above.
The assumptions on $\mathcal{C}$ imply that $\mathcal{C}$ has finite limits.
See Categories, Lemma \ref{categories-lemma-finite-limits-exist}.
Assumption (1) implies that the category of neighbourhoods
is nonempty. Suppose $(U, x)$ and $(V, y)$ are neighbourhoods.
Then
$u(U\times V) = u(U\times_X V) \to
u(U) \times_{u(X)} u(V) = u(U) \times u(V)$ is surjective by (2).
Hence there exists a neighbourhood $(U\times_X V, z)$ mapping
to both $(U, x)$ and $(V, y)$.
Let $a, b : (V, y) \to (U, x)$ be two morphisms
in the category of neighbourhoods. Let $W$ be the equalizer of
$a, b : V \to U$. As in the proof of
Categories, Lemma \ref{categories-lemma-finite-limits-exist}
we may write $W$ in terms of fibre products:
$$
W = (V \times_{a, U, b} V) \times_{(pr_1, pr_2), V \times V, \Delta} V
$$
The surjectivity in (2) garantees there exists an element $z \in u(W)$
which maps to $((y, y), y)$.
Then $(W, z) \to (V, y)$ equalizes $a, b$ as desired.

\medskip\noindent
Let $\mathcal{I} \to \textit{Sh}(\mathcal{C})$,
$i \mapsto \mathcal{F}_i$ be a finite diagram of sheaves.
We have to show that the stalk of the limit of this
system agrees with the limit of the stalks.
Let $\mathcal{F}$ be the limit of the system as a {\it presheaf}.
According to Lemma \ref{lemma-limit-sheaf} this is a sheaf and
it is the limit in the category of sheaves.
Hence we have to show that
$\mathcal{F}_p = \text{lim}_{\mathcal{I}} \mathcal{F}_{i, p}$.
Recall also that $\mathcal{F}$ has a simple description, see
Section \ref{section-limits-colimits-PSh}. Thus we have to show that
$$
\text{lim}_{i}\ 
\text{colim}_{\{(U, x)\}^{opp}}\ 
\mathcal{F}_i(U)
=
\text{colim}_{\{(U, x)\}^{opp}}\ 
\text{lim}_{i}\ 
\mathcal{F}_i(U).
$$
This holds, by Categories, Lemma \ref{categories-lemma-directed-commutes},
because we just showed the opposite of the category of neighbourhoods
is directed.
\end{proof}

\begin{proposition}
\label{proposition-point-limits}
Let $\mathcal{C}$ be a site. Assume that finite limits exist
in $\mathcal{C}$. (I.e., $\mathcal{C}$ has fibre products, and a
final object.) A point $p$ of such a site $\mathcal{C}$
is given by a functor $u : \mathcal{C} \to \textit{Sets}$ such that
\begin{enumerate}
\item $u$ commutes with finite limits, and
\item if $\{U_i \to U\}$ is a covering, then
$\coprod_i u(U_i) \to u(U)$ is surjective.
\end{enumerate}
\end{proposition}

\begin{proof}
Suppose first that $p$ is a point (Definition \ref{definition-point})
given by a functor $u$. Condition (2) is satisfied directly from
the definition of a point. By Lemma \ref{lemma-points-recover}
we have $(h_U)_p = u(U)$. By Lemma \ref{lemma-point-pushforward-sheaf}
we have $(h_U^\#)_p = (h_U)_p$. Thus we see that $u$
is equal to the composition of functors
$$
\mathcal{C} \xrightarrow{h}
\textit{PSh}(\mathcal{C}) \xrightarrow{{}^\#}
\textit{Sh}(\mathcal{C}) \xrightarrow{()_p}
\textit{Sets}
$$
Each of these functors is left exact, and hence we see $u$ satisfies (1).

\medskip\noindent
Conversely, suppose that $u$ satisfies (1) and (2).
In this case we immediately see that $u$ satisfies the first two
conditions of Definition \ref{definition-point}. And its
stalk functor is exact, because it is a left adjoint by
Lemma \ref{lemma-point-pushforward-sheaf} and it commutes
with finite limits by Lemma \ref{lemma-neighbourhoods-directed}.
\end{proof}

\begin{remark}
\label{remark-improve-proposition-points-limits}
In fact, let $\mathcal{C}$ be a site. Assume $\mathcal{C}$ has a final object
and fibre products. Let $p = u: \mathcal{C} \to \textit{Sets}$ be a functor
such that
\begin{enumerate}
\item $u(\text{final object}) = \{*\}$ a singleton, and
\item for every pair of morphisms $U \to W$ and $V \to W$ with
the same target the map
$u(U \times_W V) \to u(U) \times_{u(W)} u(V)$ is surjective.
\item for every covering $\{U_i \to U\}$ the map
$\coprod u(U_i) \to u(U)$ is surjective.
\end{enumerate}
Then $p$ is a point of $\mathcal{C}$. See
Lemma \ref{lemma-point-pushforward-sheaf}
and Lemma \ref{lemma-neighbourhoods-directed}.
So it suffices to prove the surjectivity
when checking that $u$ commutes with fibred products.
\end{remark}

\begin{example}
\label{example-point-topological}
Let $X$ be a topological space.
Let $\mathcal{T}_X$ be the site
of Example \ref{example-site-topological}.
Let $x \in X$ be a point. Consider the functor
$$
u : \mathcal{T}_X \longrightarrow \textit{Sets}, \ 
U \mapsto
\left\{
\begin{matrix}
\emptyset & \text{if} & x \not \in U \\
\{x\} & \text{if} & x \in U
\end{matrix}
\right.
$$
This functor commutes with product and fibred products,
and turns coverings into surjective families of maps.
Hence we obtain a point $p$ of the site $\mathcal{T}_X$.
It is immediately verified that the stalk functor
agrees with the stalk at $x$ defined in Topology,
Section \ref{sheaves-section-stalks}.
\end{example}

\begin{example}
\label{example-point-G-sets}
Consider the site $\mathcal{T}_G$ described in
Example \ref{example-site-on-group} and
Section \ref{section-example-sheaf-G-sets}.
The forgetful functor $u : \mathcal{T}_G \to \textit{Sets}$
commutes with products and fibred products and turns
coverings into surjective families. Hence it defines a point
of $\mathcal{T}_G$. We identify $\textit{Sh}(\mathcal{T}_G)$
and $G\textit{-Sets}$. The stalk functor
$$
p^{-1} :
\textit{Sh}(\mathcal{T}_G) = G\textit{-Sets}
\longrightarrow
\textit{Sets}
$$
is the forgetful functor. The pushforward $p_*$ is the
functor
$$
\textit{Sets}
\longrightarrow
\textit{Sh}(\mathcal{T}_G) = G\textit{-Sets}
$$
which maps a set $S$ to the $G$-set $\text{Map}(G, S)$ with
action $g \cdot \psi = \psi \circ R_g$ where $R_g$ is right
multiplication.
\end{example}

\section{Morphisms between points}
\label{section-morphisms-points}

\begin{lemma}
\label{lemma-maps-u-points}
Let $\mathcal{C}$ be a site.
Let $u, u' : \mathcal{C} \to \textit{Sets}$ be two
functors, and let $t : u' \to u$ be a transformation of functors.
Then we obtain a canonical transformation of stalk
functors $t_{stalk} : \mathcal{F}_{p'} \to \mathcal{F}_p$
which agrees with $t$ the identifications of
Lemma \ref{lemma-points-recover}.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-morphism-points}
Let $\mathcal{C}$ be a site. Let $p, p'$ be points of $\mathcal{C}$
given by functors $u, u' : \mathcal{C} \to \textit{Sets}$.
A {\it morphism $f : p \to p'$} is given by a transformation of
functors
$$
f_u : u' \to u.
$$
\end{definition}

\noindent
Note how the transformation of functors goes the other way.
This makes sense, as we will see later, by thinking of
the morphism $f$ as a kind of $2$-arrow pictorially as
follows:
$$
\xymatrix{
\textit{Sets}
=
\textit{Sh}(pt)
\rrtwocell^p_{p'}{f}
&
&
\textit{Sh}(\mathcal{C})
}
$$
Namely, we will see later that $f_u$ induces a canonical
transformation of functors $p_* \to p'_*$ between
the skyscraper sheaf constructions.

\medskip\noindent
This is a fairly important notion, and deserves a more complete
treatment here. List of desiderata
\begin{enumerate}
\item Describe the automorphisms of the point of $\mathcal{T}_G$
described in Example \ref{example-point-G-sets}.
\item Describe $\text{Mor}(p, p')$ in terms of  $\text{Mor}(p_*, p'_*)$.
\item Specialization of points in topological spaces.
Show that if $x' \in \overline{\{x\}}$ in the topological space
$X$, then there is a morphism $p \to p'$, where $p$ (resp.\ $p'$)
is the point of $\mathcal{T}_X$ associated to $x$ (resp.\ $x'$).
\end{enumerate}




\section{Sites with enough points}
\label{section-sites-enough-points}

\begin{definition}
\label{definition-enough-points}
Let $\mathcal{C}$ be a site.
\begin{enumerate}
\item A family of points $\{p_i\}_{i\in I}$ is called {\it conservative}
if for every map of sheaves $\phi : \mathcal{F} \to \mathcal{G}$
which is an isomorphism on all the fibres $\mathcal{F}_{p_i}
\to \mathcal{G}_{p_i}$ is an isomorphism.
\item  We say that $\mathcal{C}$ {\it has enough points}
if there exists a conservative family of points.
\end{enumerate}
\end{definition}

\noindent
It turns out that you can then check ``exactness'' at the stalks.

\begin{lemma}
\label{lemma-exactness-stalks}
Let $\mathcal{C}$ be a site and let $\{p_i\}_{i\in I}$ be a conservative
family of points. Then
\begin{enumerate}
\item Given any map of sheaves $\varphi : \mathcal{F} \to \mathcal{G}$
we have $\forall i, \varphi_{p_i}$ injective implies $\varphi$ injective.
\item Given any map of sheaves $\varphi : \mathcal{F} \to \mathcal{G}$
we have $\forall i, \varphi_{p_i}$ surjective implies $\varphi$ surjective.
\item Given any pair of maps of sheaves
$\varphi_1, \varphi_2 : \mathcal{F} \to \mathcal{G}$
we have $\forall i, \varphi_{1, p_i} = \varphi_{2, p_i}$
implies $\varphi_1 = \varphi_2$.
\item Given a finite diagram $\mathcal{G} : \mathcal{J}
\to \textit{Sh}(\mathcal{C})$, a sheaf $\mathcal{F}$ and morphisms
$q_j : \mathcal{F} \to \mathcal{G}_j$ then $(\mathcal{F}, q_j)$
is a limit of the diagram if and only if for each $i$ the stalk
$(\mathcal{F}_{p_i}, (q_j)_{p_i})$ is one.
\item Given a finite diagram $\mathcal{F} : \mathcal{J}
\to \textit{Sh}(\mathcal{C})$, a sheaf $\mathcal{G}$ and morphisms
$e_j : \mathcal{F}_j \to \mathcal{G}$ then $(\mathcal{G}, e_j)$
is a colimit of the diagram if and only if for each $i$ the stalk
$(\mathcal{G}_{p_i}, (e_j)_{p_i})$ is one.
\end{enumerate}
\end{lemma}

\begin{proof}
We will use over and over again that all the stalk functors commute
with any finite limits and colimits and hence with products, fibred
products, etc. We will also use that injective maps are the monomorphisms
and the surjective maps are the epimorphisms.
A map of sheaves $\varphi : \mathcal{F} \to \mathcal{G}$
is injective if and only if
$\mathcal{F} \to \mathcal{F}\times_\mathcal{G}\mathcal{F}$
is an isomorphism. Hence (1).
Similarly, $\varphi : \mathcal{F} \to \mathcal{G}$
is surjective if and only if
$\mathcal{G} \to \mathcal{G}\coprod_\mathcal{F}\mathcal{G}$
is an isomorphism. Hence (2).
The maps $a, b : \mathcal{F} \to \mathcal{G}$
are equal if and only if $\mathcal{F}\times_{a, \mathcal{G}, b}\mathcal{F}
\to \mathcal{F} \times \mathcal{F}$ is an isomorphism. Hence (3).
The other two are left to the reader.
\end{proof}

\begin{lemma}
\label{lemma-enough}
Let $\mathcal{C}$ be a site and let $\{(p_i, u_i)\}_{i\in I}$ be a
family of points. The family is conservative if and only if for every
sheaf $\mathcal{F}$ and every $U\in \text{Ob}(\mathcal{C})$ and every
pair of distinct sections $s, s' \in \mathcal{F}(U)$, $s \not= s'$ there
exists an $i$ and $x\in u_i(U)$ such that the triples
$(U, x, s)$ and $(U, x, s')$ define distinct elements of
$\mathcal{F}_{p_i}$.
\end{lemma}

\begin{proof}
Suppose that the family is conservative and that $\mathcal{F}$, $U$, and
$s, s'$ are as in the lemma. The sections $s$, $s'$ define maps
$a, a' : (h_U)^\# \to \mathcal{F}$ which are distinct. Hence, by Lemma
\ref{lemma-exactness-stalks} there is an $i$ such that $a_{p_i}
\not = a'_{p_i}$. Recall that $(h_U)^\#_{p_i} = u_i(U)$.
Hence there exists a $x \in u_i(U)$ such that $a_{p_i}(x)
\not = a'_{p_i}(x)$ in $\mathcal{F}_{p_i}$.
Unwinding the definitions you see that $(U, x, s)$
and $(U, x, s')$ are as in the statement of the lemma.

\medskip\noindent
To prove the converse, assume the condition on the existence of
points of the lemma, and let $\phi : \mathcal{F} \to \mathcal{G}$
be a map of sheaves which is an isomorphism at all the stalks.
We have to show that $\phi$ is both
injective and surjective, see Lemma \ref{lemma-mono-epi-sheaves}.
Injectivity is an immediate consequence of the assumption.
Let $pt$ denote the final object of the category of sheaves;
it is the constant sheaf  $U \mapsto pt(U) = \{e\}$ (singleton set with
unique element $e$). Consider the sheaf $\mathcal{H}
= \mathcal{G} \coprod_{\mathcal{F}} pt$.
The map $\mathcal{F} \to \mathcal{G}$ is surjective if and only
if the map $pt \to \mathcal{H}$ is an isomorphism, and by assumption
all the maps on stalks $\{e\} \to \mathcal{H}_{p_i}$ are bijective.
Thus if $\phi$ is not surjective,
then there exists a $U$ and a section $s \in \mathcal{H}(U)$
which is not equal to the section $e$. Apply the existence
of $i$, $x\in u_i(U)$ to get a contradiction.
\end{proof}





\section{Criterion for existence of points}
\label{section-criterion-points}

\noindent
This section corresponds to Deligne's appendix to \cite[Expose VI]{SGA4}.
In fact it is almost literally the same.

\medskip\noindent
Let $\mathcal{C}$ be a site.
Suppose that $(I, \geq)$ is a directed partially ordered set,
and that $(U_i, f_{ii'})$ is an inverse system over $I$, see
Categories, Definition \ref{categories-definition-system-over-poset}.
Given the data $(I, \geq, U_i, f_{ii'})$ we define
$$
u : \mathcal{C} \longrightarrow \textit{Sets}, \ \ 
u(V) = \text{colim}_i\ \text{Mor}_{\mathcal{C}}(U_i , V)
$$
Let $\mathcal{F} \mapsto \mathcal{F}_p$ be the stalk functor
associated to $u$ as in Section \ref{section-points}.
It is direct from the definition that actually
$$
\mathcal{F}_p = \text{colim}_i\ \mathcal{F}(U_i)
$$
in this special case.
Note that $u$ commutes with all finite limits (I mean those that
are representable in $\mathcal{C}$) because
each of the functors $V \mapsto \text{Mor}_{\mathcal{C}}(U_i , V)$
do, see Categories, Lemma \ref{categories-lemma-directed-commutes}.

\medskip\noindent
We say that a system $(I, \geq, U_i, f_{ii'})$
is a {\it refinement} of $(J, \geq, V_j, g_{jj'})$ if
$J \subset I$, the ordening on $J$ induced from that of $I$
and $V_j = U_j$, $g_{jj'} = f_{jj'}$ (in words, the inverse system
over $J$ is induced by that over $I$). Let $u$ be the functor
associated to $(I, \geq, U_i, f_{ii'})$ and let $u'$ be the
functor associated to $(J, \geq, V_j, g_{jj'})$.
This induces a transformation of functors
$$
u' \longrightarrow u
$$
simply because the colimits for $u'$ are over a subsystem
of the systems in the colimits for $u$.
In particular we get an associated transformation of
stalk functors $\mathcal{F}_{p'} \to \mathcal{F}_p$,
see Lemma \ref{lemma-maps-u-points}.

\begin{lemma}
\label{lemma-refine}
Let $\mathcal{C}$ be a site.
Let $(J, \geq, V_j, g_{jj'})$ be a system as above with associated
pair of functors $(u', p')$.
Let $\mathcal{F}$ be a sheaf on $\mathcal{C}$.
Let $s, s' \in \mathcal{F}_{p'}$ be distinct elements.
Let $\{W_k \to W\}$ be a finite covering of $\mathcal{C}$.
Let $f \in u(W)$.
There exists a refinement $(I, \geq, U_i, f_{ii'})$
of $(J, \geq, V_j, g_{jj'})$ such that $s, s'$ map
to distinct elements of $\mathcal{F}_p$ and that
the image of $f$ in $u'(W)$ is in the image of one of
the $u'(W_k)$.
\end{lemma}

\begin{proof}
There exists a $j_0 \in J$ such that $f$ is defined by $f' : V_{j_0} \to W$.
Moreover, $s, s'$ are given by some element of
For $j \geq j_0$ we set $V_{j, k} = V_j \times_{f'\circ f_{j j_0}, W} W_k$.
Then $\{V_{j, k} \to V_j\}$ is a finite covering in the site
$\mathcal{C}$. Hence
$\mathcal{F}(V_j) \subset \prod_k \mathcal{F}(V_{j, k})$.
By Categories, Lemma \ref{categories-lemma-directed-commutes}
once again we see that
$$
\mathcal{F}_{p'} =
\text{colim}_j\ \mathcal{F}(V_j)
\longrightarrow
\prod\nolimits_k \text{colim}_j\ \mathcal{F}(V_{j, k})
$$
is injective. Hence there exists a $k$ such that $s$ and $s'$
have distinct image in $\text{colim}_j\ \mathcal{F}(V_{j, k})$.
Let $J_0 = \{j \in J, j \geq j_0\}$ and $I = J \amalg J_0$.
We order $I$ so that no element of the second summand
is smaller than any element of the first, but otherwise
using the ordering on $J$. If $j \in I$ is in the first
summand then we use $V_j$ and if $j \in I$ is in the second
summand then we use $V_{j, k}$. We omit the definition
of the transition maps of the inverse system. By the above
it follows that $s, s'$ have distinct image in $\mathcal{F}_p$.
Moreover, the restriction of $f'$ to $V_{j, k}$ factors
through $W_k$ by construction.
\end{proof}

\begin{lemma}
\label{lemma-refine-all-at-once}
Let $\mathcal{C}$ be a site.
Let $(J, \geq, V_j, g_{jj'})$ be a system as above with associated
pair of functors $(u', p')$.
Let $\mathcal{F}$ be a sheaf on $\mathcal{C}$.
Let $s, s' \in \mathcal{F}_{p'}$ be distinct elements.
There exists a refinement $(I, \geq, U_i, f_{ii'})$
of $(J, \geq, V_j, g_{jj'})$ such that $s, s'$ map
to distinct elements of $\mathcal{F}_p$ and such that
for every finite covering $\{W_k \to W\}$ of the site
$\mathcal{C}$, and any $f \in u'(W)$ the image of $f$ in $u(W)$
is in the image of one of the $u(W_k)$.
\end{lemma}

\begin{proof}
Let $E$ be the set of pairs $(\{W_k \to W\}, f\in u'(W))$.
Consider pairs $(E' \subset E, (I, \geq, U_i, f_{ii'}))$
such that
\begin{enumerate}
\item $(I, \geq, U_i, g_{ii'})$ is a refinement of $(J, \geq, V_j, g_{jj'})$,
\item $s, s'$ map to distinct elements of $\mathcal{F}_p$, and
\item for every pair $(\{W_k \to W\}, f\in u'(W)) \in E'$ we have that
the image of $f$ in $u(W)$ is in the image of one of the $u(W_k)$.
\end{enumerate}
We order such pairs by inclusion in the first factor and
by refinement in the second. Denote $\mathcal{S}$ the class
of all pairs $(E' \subset E, (I, \geq, U_i, f_{ii'}))$ as above.
We claim that Zorn's lemma applies to $\mathcal{S}$. Namely,
suppose that $(E'_a, (I_a, \geq, U_i, f_{ii'}))_{a \in A}$
is a totally ordered subset of $\mathcal{S}$. Then we can define
$E' = \bigcup_{a \in A} E'_a$ and we can set $I = \bigcup_{a \in A} I_a$.
We claim that the corresponding pair
$(E' , (I, \geq, U_i, f_{ii'}))$ is an element of $\mathcal{S}$.
Conditions (1) and (3) are clear. For condition (2) you note
that
$$
u = \text{colim}_{a \in A}\ u_a
\text{ and correspondingly }
\mathcal{F}_p = \text{colim}_{a \in A}\ \mathcal{F}_{p_a}
$$
The distinctness of the images of $s, s'$ in this stalk follows
from the description of a directed colimit of sets, see
Categories, Section \ref{categories-section-limit-sets}.
We will simply write
$(E', (I, \ldots)) = \bigcup_{a \in A}(E'_a, (I_a, \ldots))$
in this situation.

\medskip\noindent
OK, so Zorn's Lemma would apply if $\mathcal{S}$ was a set,
and this would, combined with Lemma \ref{lemma-refine} above easily prove
the lemma. It doesn't since $\mathcal{S}$ is a class. In order
to circumvent this we choose a well ordering on $E$.
For $e \in E$ set $E'_e = \{e' \in E \mid e' \leq e\}$.
By transfinite induction we construct pairs
$(E'_e, (I_e, \ldots)) \in \mathcal{S}$ such that
$e_1 \leq e_2 \Rightarrow (E'_{e_1}, (I_{e_1}, \ldots))
\leq (E'_{e_2}, (I_{e_2}, \ldots))$.
Let $e \in E$, say $e = (\{W_k \to W\}, f\in u'(W))$.
If $e$ has a predecessor $e - 1$, then we let
$(I_e, \ldots)$ be a refinement of $(I_{e - 1}, \ldots)$
as in Lemma \ref{lemma-refine} with respect to the system
$e = (\{W_k \to W\}, f\in u'(W))$.
If $e$ does not have a predecessor, then we let
$(I_e, \ldots)$ be a refinement of $\bigcup_{e' < e} (I_{e'}, \ldots)$
with respect to the system
$e = (\{W_k \to W\}, f\in u'(W))$.
Finally, the union $\bigcup_{e \in E} I_e$ will be a solution to
the problem posed in the lemma.
\end{proof}

\begin{proposition}
\label{proposition-criterion-points}
Let $\mathcal{C}$ be a site. Assume that
\begin{enumerate}
\item finite limits exist in $\mathcal{C}$, and
\item every covering $\{U_i \to U\}_{i \in I}$
has a refinement by a finite covering of $\mathcal{C}$.
\end{enumerate}
Then $\mathcal{C}$ has enough points.
\end{proposition}

\begin{proof}
We have to show that given any sheaf
$\mathcal{F}$ on $\mathcal{C}$, any $U \in \text{Ob}(\mathcal{C})$,
and any distinct sections $s, s' \in \mathcal{F}(U)$, there exists
a point $p$ such that $s, s'$ have distinct image in
$\mathcal{F}_p$. See Lemma \ref{lemma-enough}.
Consider the system $(J, \geq, V_j, g_{jj'})$
with $J = \{1\}$, $V_1 = U$, $g_{11} = \text{id}_U$.
Apply Lemma \ref{lemma-refine-all-at-once}.
By the result of that lemma we get a system
$(I, \geq, U_i, f_{ii'})$ refining our system such
that $s_p \not = s'_p$ and such that moreover for every
finite covering $\{W_k \to W\}$ of the site $\mathcal{C}$ the map
$\coprod_k u(W_k) \to u(W)$ is surjective.
Since every covering of $\mathcal{C}$ can be refined by
a finite covering we conclude that
$\coprod_k u(W_k) \to u(W)$ is surjective for {\it any}
covering $\{W_k \to W\}$ of the site $\mathcal{C}$.
This implies that $u = p$ is a point, see
Proposition \ref{proposition-point-limits} (and the discussion
at the beginning of this section which garantees that $u$
commutes with finite limits).
\end{proof}
















\section{Sheaves of algebraic structures}
\label{section-sheaves-algebraic-structures}

\noindent
In Sheaves, Section \ref{sheaves-section-algebraic-structures}
we introduced a type of algebraic struture to be a pair
$(\mathcal{A}, s)$, where $\mathcal{A}$ is a category,
and $s : \mathcal{A} \to \textit{Sets}$ is a functor such
that
\begin{enumerate}
\item $s$ is faithful,
\item $\mathcal{A}$ has limits and $s$ commutes with limits,
\item $\mathcal{A}$ has directed colimits and $s$ commutes with them, and
\item $s$ reflects isomorphisms.
\end{enumerate}
For such a type of algebraic structure we saw that a presheaf
$\mathcal{F}$ with values in $\mathcal{A}$ on a space $X$ is a sheaf if and
only if the associated presheaf of sets is a sheaf. Moreover,
we worked out the notion of stalk, and given a continuous map
$f : X \to Y$ we defined adjoint functors pushforward and pullback
on sheaves of algebraic structures which agrees with pushforward
and pullback on the underlying sheaves of sets. In addition extending
a sheaf of algebraic structures from a basis to all opens
of a space, works as expected.

\medskip\noindent
Part of this material still works in the setting of sites and sheaves.
Lert $(\mathcal{A}, s)$ be a type of algebraic structure.
Let $\mathcal{C}$ be a site. Let us denote
$\textit{PSh}(\mathcal{C}, \mathcal{A})$,
resp.\ $\textit{Sh}(\mathcal{C}, \mathcal{A})$ the category
of presheaves, resp.\ sheaves with values in $\mathcal{A}$ on $\mathcal{C}$.
\begin{enumerate}
\item[($\alpha$)] A presheaf with values in $\mathcal{A}$ is
a sheaf if and only if its underlying presheaf of sets is a sheaf.
See the proof of Sheaves, Lemma \ref{sheaves-lemma-sheaves-structure}.
\item[($\beta$)] Given a presheaf $\mathcal{F}$ with values in
$\mathcal{A}$ the presheaf ${\mathcal{F}}^\# = (\mathcal{F}^+)^+$
is a sheaf. This is true since the colimits in the sheafification process
are directed (see Section \ref{section-sheafification}) and since $s$
commutes with directed colimits.
\item[($\gamma$)] We get the following commutative diagram
$$
\xymatrix{
\textit{Sh}(\mathcal{C}, \mathcal{A}) \ar@<1ex>[r] \ar[d]_s &
\textit{PSh}(\mathcal{C}, \mathcal{A}) \ar@<1ex>[l]^{{}^\#} \ar[d]^s\\
\textit{Sh}(\mathcal{C}) \ar@<1ex>[r] &
\textit{PSh}(\mathcal{C}) \ar@<1ex>[l]
}
$$
\item[($\delta$)] We have $\mathcal{F} = \mathcal{F}^\#$ if and only if
$\mathcal{F}$ is a sheaf of algebraic structures.
\item[($\epsilon$)] The functor ${}^\#$ is adjoint to the inclusion functor:
$$
\text{Mor}_{\textit{PSh}(\mathcal{C}, \mathcal{A})}(\mathcal{G}, \mathcal{F})
=
\text{Mor}_{\textit{Sh}(\mathcal{C}, \mathcal{A})}(\mathcal{G}^\#, \mathcal{F})
$$
The proof is the same as the proof of
Proposition \ref{proposition-sheafification-adjoint}.
\item[($\zeta$)] The functor
$\mathcal{F} \mapsto \mathcal{F}^\#$ is left exact.
The proof is the same as the proof of Lemma \ref{lemma-sheafification-exact}.
\end{enumerate}

\begin{definition}
\label{definition-pushforward-algebraic-structures}
Let $f : \mathcal{D} \to \mathcal{C}$ be a morphism of sites
given by a functor $u : \mathcal{C} \to \mathcal{D}$.
We define the {\it pushforward} functor for presheaves of algebraic structures
by the rule $u^p\mathcal{F}(U) = \mathcal{F}(uU)$,
and for sheaves of algebraic structures by the same rule, namely
$f_*\mathcal{F}(U) = \mathcal{F}(uU)$.
\end{definition}

\noindent
The problem comes with trying the define the pullback.
The reason is that the colimits defining
the functor $u_p$ in Section \ref{section-functoriality-PSh}
may not be directed. Thus the axioms above are not enough in
general to define the pullback of a (pre)sheaf of algebraic
structures. Nonetheless, in almost all cases the following
lemma is sufficient to define pushfoward, and pullback
of (pre)sheaves of algebraic structures.

\begin{lemma}
\label{lemma-push-pull-good-case}
Suppose the functor $u : \mathcal{C} \to \mathcal{D}$ satisfies
the hypotheses of Proposition \ref{proposition-get-morphism},
and hence gives rise to a morphism of sites
$f : \mathcal{D} \to \mathcal{C}$. In this case
the pullback functor $f^{-1}$ (resp.\ $u^p$) and the pushforward
functor $f_*$ (resp. $u_p$) extend to an adjoint pair of functors on
the categories of sheaves (resp.\ presheaves)  of algebraic structures.
Moreover, these functors commute with taking
the underlying sheaf (resp.\ presheaf) of sets.
\end{lemma}

\begin{proof}
We have defined $f_* = u^p$ above.
In the course of the proof of Proposition \ref{proposition-get-morphism}
we saw that all the colimits used to define $u_p$ are
directed under the assumptions of the proposition.
Hence we conclude from the definition of a type of
algebraic structure that we may define $u_p$ by exactly
the same colimits as a functor on presheaves of algebraic structures.
Adjointness of $u_p$ and $u^p$ is proved in exactly the
same way as the proof of Lemma \ref{lemma-adjoints-u}.
The discussion of sheafification of presheaves of
algebraic structures above then implies that we may define
$f^{-1}(\mathcal{F}) = (u_p\mathcal{F})^\#$.
\end{proof}

\noindent
We briefly discuss a method for dealing with pullback and
pushforward for a general morphism of sites, and more generally
for any morphism of topoi.

\medskip\noindent
Let $\mathcal{C}$ be a site.
In the case $\mathcal{A} = \textit{Ab}$,
we may think of an abelian (pre)sheaf on $\mathcal{C}$
as a quadruple $(\mathcal{F}, +, 0, i)$.
Here the data are
\begin{enumerate}
\item[(D1)] $\mathcal{F}$ is a sheaf of sets,
\item[(D2)] $+ : \mathcal{F} \times \mathcal{F} \to \mathcal{F}$ is
a morphism of sheaves of sets,
\item[(D3)] $0 : * \to \mathcal{F}$ is a morphism from the
singleton sheaf (see Example \ref{example-singleton-sheaf})
to $\mathcal{F}$, and
\item[(D4)] $i : \mathcal{F} \to \mathcal{F}$ is a morphism of sheaves
of sets.
\end{enumerate}
These data have to satisfy the following axioms
\begin{enumerate}
\item[(A1)] $+$ is associative and commutative,
\item[(A2)] $0$ is a unit for $+$, and
\item[(A3)] $+ \circ (1, i) = 0 \circ (\mathcal{F} \to *)$.
\end{enumerate}
Compare Sheaves, Lemma \ref{sheaves-lemma-abelian-presheaves}.
Let $f : \mathcal{D} \to \mathcal{C}$ be a morphism of sites.
Note that since $f^{-1}$ is exact we have
$f^{-1}* = *$ and
$f^{-1}(\mathcal{F} \times\mathcal{F}) =
f^{-1}\mathcal{F} \times f^{-1}\mathcal{F}$.
Thus we can define $f^{-1}\mathcal{F}$ simply as the quadruple
$(f^{-1}\mathcal{F}, f^{-1}+, f^{-1}0, f^{-1}i)$. The axioms
are going to be preserved because $f^{-1}$ is a functor
which commutes with finite limits. Finally it is not hard
to check that $f_*$ and $f^{-1}$ are adjoint as usual.

\medskip\noindent
In \cite{SGA4} this method is used. They introduce something
called an ``{\it esp\`ece the structure alg\'ebrique $\ll$d\'efinie
par limites projectives finie$\gg$}''. For such an esp\`ece you
can use the method described above to define a pair of adjoint
functors $f^{-1}$ and $f_*$ as above. This clearly works for most
algebraic structures that one encounters in practice.
Instead of formalizing this construction we simply list those
algebraic structures for which this method works (to be
verified case by case). In fact, this method works for any
morphism of topoi.

\begin{proposition}
\label{proposition-functoriality-algebraic-structures-topoi}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $f = (f^{-1}, f_*)$ be a morphism of topoi
from $\textit{Sh}(\mathcal{D}) \to \textit{Sh}(\mathcal{C})$.
The method introduced above gives rise to an adjoint
pair of functors $(f^{-1}, f_*)$ on sheaves of algebraic structures
compatible with taking the underlying sheaves of sets
for the following types of algebraic structures:
\begin{enumerate}
\item pointed sets,
\item abelian groups,
\item groups,
\item monoids,
\item rings,
\item modules over a fixed ring, and
\item lie algebras over a fixed field.
\end{enumerate}
Moreover, in each of these cases the results above labeled ($\alpha$),
($\beta$), ($\gamma$), ($\delta$), ($\epsilon$), and ($\zeta$) hold.
\end{proposition}

\begin{proof}
The final statement of the proposition holds simply since each of the listed
categories, endowed with the obvious forgetful functor, is indeed a type of
algebraic structure in the sense explained at the beginning of this section.
See Sheaves, Lemma \ref{sheaves-lemma-list-algebraic-structures}.

\medskip\noindent
Proof of (2). We think of a sheaf of abelian groups as
a quadruple $(\mathcal{F}, +, 0, i)$ as explained in the discussion preceding
the proposition.
If $(\mathcal{F}, +, 0, i)$ lives on $\mathcal{C}$, then its pullback
is defined as $(f^{-1}\mathcal{F}, f^{-1}+, f^{-1}0, f^{-1}i)$.
If $(\mathcal{G}, +, 0, i)$ lives on $\mathcal{D}$, then its pushforward
is defined as $(f_*\mathcal{G}, f_*+, f_*0, f_*i)$. This works because
$f_*(\mathcal{G} \times \mathcal{G}) = f_*\mathcal{G} \times f_*\mathcal{G}$.
Adjointness follows from adjointness of the set based functors,
since
$$
\text{Mor}_{\textit{Ab}(\mathcal{C})}
((\mathcal{F}_1, +, 0, i), (\mathcal{F}_2, +, 0, i))
=
\left\{
\begin{matrix}
\varphi \in \text{Mor}_{\textit{Sh}(\mathcal{C})}
(\mathcal{F}_1, \mathcal{F}_2) \\
\varphi \text{ is compatible with }+, 0, i
\end{matrix}
\right\}
$$
Details left to the reader.

\medskip\noindent
This method also works for sheaves of rings by thinking
of a sheaf of rings (with unit) as a sixtuple
$(\mathcal{O}, + , 0, i, \cdot, 1)$ satisfying a list
of axioms that you can find in any elementary
algebra book.

\medskip\noindent
A sheaf of pointed sets is a pair $(\mathcal{F}, p)$, where
$\mathcal{F}$ is a sheaf of sets, and $p : * \to \mathcal{F}$
is a map of sheaves of sets.

\medskip\noindent
A sheaf of groups is given by a quadruple $(\mathcal{F}, \cdot, 1, i)$
with suitable axioms.

\medskip\noindent
A sheaf of monoids is given by a pair $(\mathcal{F}, \cdot)$
with suitable axiom.

\medskip\noindent
Let $R$ be a ring. An sheaf of $R$-modules is given by
a quintuple $(\mathcal{F}, +, 0, i, \{\lambda_r\}_{r \in R})$,
where the quadruple $(\mathcal{F}, +, 0, i)$ is a sheaf of
abelian groups as above, and $\lambda_r : \mathcal{F} \to \mathcal{F}$
is a family of morphisms of sheaves of sets
such that
$\lambda_r \circ 0 = 0$,
$\lambda_r \circ + = + \circ (\lambda_r, \lambda_r)$,
$\lambda_{r + r'} =
+ \circ \lambda_r \times \lambda_{r'} \circ (\text{id}, \text{id})$,
$\lambda_{rr'} = \lambda_r \circ \lambda_{r'}$,
$\lambda_1 = \text{id}$, $\lambda_0 = 0 \circ (\mathcal{F} \to *)$.
\end{proof}

\noindent
We will discuss the category of sheaves of modules over a sheaf of rings in
Modules on Sites, Section \ref{sites-modules-section-sheaves-modules}.

\begin{remark}
\label{remark-no-pullback-presheaves}
Let $\mathcal{C}$, $\mathcal{D}$ be sites.
Let $u : \mathcal{D} \to \mathcal{C}$ be a continuous functor
which gives rise to a morphism of sites $\mathcal{C} \to \mathcal{D}$.
Note that even in the case of abelian groups we have not defined
a pullback functor for presheaves of abelian groups.
Since all colimits are representable in
the category of abelian groups, we certainly may define
a functor $u_p^{ab}$ on abelian presheaves by the same colimits
as we have used to define $u_p$ on presheaves of sets.
It will also be the case that $u_p^{ab}$ is adjoint to
$u^p$ on the categories of abelian presheaves.
However, it will not always be the case that $u_p^{ab}$
agrees with $u_p$ on the underlying presheaves of sets.
\end{remark}




















\section{Topologies}
\label{section-topologies}

\noindent
In this section we define what a topology on a category is.
However, the case of most interest for algebraic geometry
is the topology defined by a site on its underlying category.
We strongly suggest the first time reader
{\bf skip this section and all other sections of this chapter}!

\begin{definition}
\label{definition-sieve}
Let $\mathcal{C}$ be a category. Let $U \in \text{Ob}(\mathcal{C})$.
A {\it sieve $S$ on $U$} is a subpresheaf $S \subset h_U$.
\end{definition}

\noindent
In other words, a sieve on $U$ picks out for each object
$T \in \text{Ob}(\mathcal{C})$ a subset $S(T)$ of the set
of all morphisms $T \to U$. In fact, the only condition
on the collection of subsets
$S(T) \subset h_U(T) = \text{Mor}_{\mathcal{C}}(T, U)$
is the following rule
\begin{equation}
\label{equation-property-sieve}
\left.
\begin{matrix}
(\alpha : T \to U) \in S(T) \\
g : T' \to T
\end{matrix}
\right\} \Rightarrow
(\alpha \circ g : T' \to U) \in S(T')
\end{equation}
A good mental picture to keep in mind is to think of the
map $S \to h_U$ as a ``morphism from $S$ to $U$''.

\begin{lemma}
\label{lemma-sieves-set}
Let $\mathcal{C}$ be a category. Let $U \in \text{Ob}(\mathcal{C})$.
\begin{enumerate}
\item The collection of sieves on $U$ is a set.
\item Inclusion defines a partial ordering on this set.
\item Unions and intersections of sieves are sieves.
\item
\label{item-sieve-generated}
Given a family of morphisms $\{U_i \to U\}_{i\in I}$
of $\mathcal{C}$ with target $U$
there exists a unique smallest sieve $S$ on $U$ such that
each $U_i \to U$ belongs to $S(U_i)$.
\item The sieve $S = h_U$ is the maximal sieve.
\item The empty subpresheaf is the minimal sieve.
\end{enumerate}
\end{lemma}

\begin{proof}
By our definition of subpresheaf, the collection of
all subpresheaves of a presheaf $\mathcal{F}$ is a subset of
$\prod_{U \in \text{Ob}(\mathcal{C})} \mathcal{P}(\mathcal{F}(U))$.
And this is a set. (Here $\mathcal{P}(A)$ denotes
the powerset of $A$.) Hence the collection of sieves on $U$
is a set.

\medskip\noindent
The partial ordering is defined by: $S \leq S'$ if and only if
$S(T) \subset S'(T)$ for all $T \to U$. Notation: $S \subset S'$.

\medskip\noindent
Given a collection of sieves $S_i$, $i \in I$ on $U$ we can
define $\bigcup S_i$ as the sieve with values
$(\bigcup S_i)(T) = \bigcup S_i(T)$ for all
$T \in \text{Ob}(\mathcal{C})$.
We define the intersection $\bigcap S_i$ in the same way.

\medskip\noindent
Given $\{U_i \to U\}_{i\in I}$ as in the statement, consider
the morphisms of presheaves $h_{U_i} \to h_U$. We simply
define $S$ as the union of the images (Definition \ref{definition-image})
of these maps of presheaves.

\medskip\noindent
The last two statements of the lemma are obvious.
\end{proof}

\begin{definition}
\label{definition-sieve-generated}
Let $\mathcal{C}$ be a category.
Given a family of morphisms $\{f_i : U_i \to U\}_{i\in I}$
of $\mathcal{C}$ with target $U$ we say the sieve
$S$ on $U$ described in Lemma \ref{lemma-sieves-set}
part (\ref{item-sieve-generated}) is the {\it sieve  on $U$
generated by the morphisms $f_i$}.
\end{definition}

\begin{definition}
\label{definition-pullback-sieve}
Let $\mathcal{C}$ be a category.
Let $f : V \to U$ be a morphism of $\mathcal{C}$.
Let $S \subset h_U$ be a sieve. We define the
{\it pullback of $S$ by $f$} to be the sieve
$S \times_U V$ of $V$ defined by the rule
$$
(\alpha : T \to V) \in (S \times_U V)(T)
\Leftrightarrow
(f \circ \alpha : T \to U) \in S(T)
$$
\end{definition}

\noindent
We leave it to the reader to see that this is indeed a sieve
(hint: use Equation \ref{equation-property-sieve}).
We also sometimes call $S \times_U V$ the {\it base change}
of $S$ by $f : V \to U$.

\begin{lemma}
\label{lemma-pullback-sieve-section}
Let $\mathcal{C}$ be a category.
Let $U \in \text{Ob}(\mathcal{C})$.
Let $S$ be a sieve on $U$.
If $f : V \to U$ is in $S$, then
$S \times_U V = h_V$ is maximal.
\end{lemma}

\begin{proof}
Trivial from the definitions.
\end{proof}

\begin{definition}
\label{definition-topology}
Let $\mathcal{C}$ be a category.
A {\it topology on $\mathcal{C}$} is given by the following
datum:
\begin{list}{}{}
\item For every $U \in \text{Ob}(\mathcal{C})$
a subset $J(U)$ of the set of all sieves on $U$.
\end{list}
These sets $J(U)$ have to satisfy the following
conditions
\begin{enumerate}
\item For every morphism $f : V \to U$ in $\mathcal{C}$, and
every element $S \in J(U)$ the pullback $S \times_U V$
is an element of $J(V)$.
\item If $S$ and $S'$ are sieves on $U \in \text{Ob}(\mathcal{C})$,
if $S \in J(U)$, and if for all $f \in S(V)$ the pullback
$S' \times_U V$ belongs to $J(V)$, then $S'$ belongs to $J(U)$.
\item For every $U \in \text{Ob}(\mathcal{C})$ the
maximal sieve $S = h_U$ belongs to $J(U)$.
\end{enumerate}
\end{definition}

\noindent
In this case, the sieves belonging to $J(U)$ are called
the {\it covering sieves}.

\begin{lemma}
\label{lemma-topology-basic}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
Let $U \in \text{Ob}(\mathcal{C})$.
\begin{enumerate}
\item Finite intersections of elements of $J(U)$ are in $J(U)$.
\item If $S \in J(U)$ and $S' \supset S$, then $S' \in J(U)$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $S, S' \in J(U)$. Consider $S'' = S \cap S'$. For every
$V \to U$ in $S(U)$ we have
$$
S' \times_U V = S'' \times_U V
$$
simply because $V \to U$ already is in $S$. Hence by the second
axiom of the definition we see that $S'' \in J(U)$.

\medskip\noindent
Let $S \in J(U)$ and $S' \supset S$. For every
$V \to U$ in $S(U)$ we have $S' \times_U V = h_V$ by
Lemma \ref{lemma-pullback-sieve-section}. Thus
$S' \times_U V \in J(V)$ by the third axiom. Hence
$S' \in J(U)$ by the second axiom.
\end{proof}

\begin{definition}
\label{definition-finer}
Let $\mathcal{C}$ be a category. Let $J$, $J'$ be
two topologies on $\mathcal{C}$. We say that $J$ is
{\it finer} than $J'$ if and only if for every object
$U$ of $\mathcal{C}$ we have $J'(U) \subset J(U)$.
\end{definition}

\noindent
In other words, any covering sieve of $J'$ is a
covering sieve of $J$. There exists a finest topology
on $\mathcal{C}$, namely that topology where any sieve
is a covering sieve. This is called the
{\it discrete topology} of $\mathcal{C}$.
There also exists a coarsest topology.
Namely, the topology where $J(U) = \{h_U\}$
for all objects $U$. This is called the
{\it chaotic topology}.

\begin{lemma}
\label{lemma-play-with-topologies}
Let $\mathcal{C}$ be a category.
Let $\{J_i\}_{i\in I}$ be a set of topologies.
\begin{enumerate}
\item The rule $J(U) = \bigcap J_i(U)$ defines
a topology on $\mathcal{C}$.
\item There is a coarsest topology finer than
all of the topologies $J_i$.
\end{enumerate}
\end{lemma}

\begin{proof}
The first part is direct from the definitions.
The second follows by taking the intersection
of all topologies finer than all of the $J_i$.
\end{proof}

\noindent
At this point we can define
without any motivation what a sheaf is.

\begin{definition}
\label{definition-sheaf-sets-topology}
Let $\mathcal{C}$ be a category endowed with a
topology $J$. Let $\mathcal{F}$ be a presheaf of sets
on $\mathcal{C}$.
We say that $\mathcal{F}$ is a
{\it sheaf} on $\mathcal{C}$
if for every $U \in \text{Ob}(\mathcal{C})$ and for
every covering sieve $S$ of $U$ the canonical map
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
$$
is bijective.
\end{definition}

\noindent
Recall that the left hand side of the displayed
formula equals $\mathcal{F}(U)$. In other words, $\mathcal{F}$
is a sheaf if and only if a section of $\mathcal{F}$
over $U$ is the same thing as a compatible collection of sections
$s_{T, \alpha} \in \mathcal{F}(T)$ parametrized by
$(\alpha : T \to U) \in S(T)$, and this for every covering sieve $S$
on $U$.

\begin{lemma}
\label{lemma-topology-presheaves-sheaves}
Let $\mathcal{C}$ be a category. Let $\{ \mathcal{F}_i \}_{i\in I}$ be a
collection of presheaves of sets on $\mathcal{C}$. For each
$U \in \text{Ob}(\mathcal{C})$ denote
$J(U)$ the set of sieves $S$ with the following property:
For every morphism $V \to U$, the maps
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_V, \mathcal{F}_i)
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S \times_U V, \mathcal{F}_i)
$$
are bijective for all $i \in I$. Then $J$ defines a
topology on $\mathcal{C}$. This topology is the finest
topology in which all of the $\mathcal{F}_i$ are sheaves.
\end{lemma}

\begin{proof}
If we show that $J$ is a topology, then the last statement of
the lemma immediately follows. The first and second axioms of
a topology are immediately verified. Thus, assume that
we have an object $U$, and sieves $S, S'$ of $U$
such that $S \in J(U)$, and for all $V \to U$ in $S(V)$
we have $S' \times_U V \in J(V)$. We have to show that
$S' \in J(U)$. In other words, we have to show that for
any $f : W \to U$, the maps
$$
\mathcal{F}_i(W) =
\text{Mor}_{\textit{PSh}(\mathcal{C})}(h_W, \mathcal{F}_i)
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S' \times_U W, \mathcal{F}_i)
$$
are bijective for all $i \in I$. Pick an element
$i \in I$ and pick an element
$\varphi \in
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S' \times_U W, \mathcal{F}_i)$.
We will construct a section $s \in \mathcal{F}_i(W)$
mapping to $\varphi$.

\medskip\noindent
Suppose $\alpha : V \to W$ is an element of $S \times_U W$.
According to the definition of pullbacks we see that
the composition $f \circ\alpha : V \to W  \to U$ is in $S$. Hence
$S' \times_U V$ is in $J(W)$ by assumption on the pair
of sieves $S, S'$. Now we have a commutative diagram
of presheaves
$$
\xymatrix{
S' \times_U V \ar[r] \ar[d] & h_V \ar[d] \\
S' \times_U W \ar[r] & h_W
}
$$
The restriction of $\varphi$ to $S' \times_U V$
corresponds to an element $s_{V, \alpha} \in \mathcal{F}_i(V)$.
This we see from the definition of $J$,
and because $S' \times_U V$ is in $J(W)$.
We leave it to the reader to check
that the rule $(V, \alpha) \mapsto s_{V, \alpha}$ defines
an element
$\psi \in
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S \times_U W, \mathcal{F}_i)$.
Since $S \in J(U)$ we see immediately from the definition of $J$
that $\psi$ corresponds to an element $s$ of $\mathcal{F}_i(W)$.

\medskip\noindent
We leave it to the reader to verify that the construction
$\varphi \mapsto s$ is inverse to the natural map displayed above.
\end{proof}

\begin{definition}
\label{definition-canonical-topology}
Let $\mathcal{C}$ be a category.
The finest topology on $\mathcal{C}$ such that
all representable presheaves are sheaves, see
Lemma \ref{lemma-topology-presheaves-sheaves},
is called the {\it canonical topology} of $\mathcal{C}$.
\end{definition}














\section{The topology defined by a site}
\label{section-topology-site}

\noindent
Suppose that $\mathcal{C}$ is a category, and suppose that
$\text{Cov}_1(\mathcal{C})$ and $\text{Cov}_2(\mathcal{C})$
are sets of coverings that define the structure of a site
on $\mathcal{C}$. In this situation it can happen that
the categories of sheaves (of sets) for $\text{Cov}_1(\mathcal{C})$
and $\text{Cov}_2(\mathcal{C})$ are the same, see for example
Lemma \ref{lemma-refine-same-topology}.

\medskip\noindent
It turns out that the category of sheaves on $\mathcal{C}$
with respect to some topology $J$
determines and is determined by the topology $J$.
This is a nontrivial statement which we will address later,
see Theorem \ref{theorem-topology-and-topos}.

\medskip\noindent
Accepting this for the moment it makes sense to study the
topology determined by a site.

\begin{lemma}
\label{lemma-site-gives-topology}
Let $\mathcal{C}$ be a site with coverings $\text{Cov}(\mathcal{C})$.
For every object $U$ of $\mathcal{C}$, let $J(U)$ denote
the set of sieves $S$ on $U$ with the following property:
there exists a covering
$\{f_i : U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
so that the sieve $S'$ generated by the $f_i$ (see Definition
\ref{definition-sieve-generated}) is contained in $S$.
\begin{enumerate}
\item This $J$ is a topology on $\mathcal{C}$.
\item A presheaf $\mathcal{F}$ is a sheaf for this topology
(see Definition \ref{definition-sheaf-sets-topology})
if and only if it is a sheaf on the site (see
Definition \ref{definition-sheaf-sets}).
\end{enumerate}
\end{lemma}

\begin{proof}
To prove the first assertion we just note that axioms
(1), (2) and (3) of the definition of a site
(Definition \ref{definition-site})
directly imply the axioms
(3), (2) and (1) of the definition of a topology
(Definition \ref{definition-topology}). As an example we
prove $J$ has property (2). Namely, let $U$ be an object
of $\mathcal{C}$, let $S, S'$ be sieves on $U$ such that
$S \in J(U)$, and such that for every $V \to U$ in $S(V)$
we have $S' \times_U V \in J(V)$. By definition of $J(U)$
we can find a covering $\{f_i : U_i \to U\}$ of the site
such that $S$ the image of $h_{U_i} \to h_U$ is contained
in $S$. Since each $S'\times_U U_i$ is in $J(U_i)$ we
see that there are coverings $\{U_{ij} \to U_i\}$ of the
site such that $h_{U_{ij}} \to h_{U_i}$ is contained
in $S' \times_U U_i$. By definition of the base change
this means that $h_{U_{ij}} \to h_U$ is contained
in the subpresheaf $S' \subset h_U$. By axiom (2) for
sites we see that $\{U_{ij} \to U\}$ is a covering of
$U$ and we conclude that $S' \in J(U)$ by definition of $J$.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf. Suppose that $\mathcal{F}$
is a sheaf in the topology $J$. We will show that $\mathcal{F}$
is a sheaf on the site as well. Let $\{f_i : U_i \to U\}_{i\in I}$
be a covering of the site. Let $s_i \in \mathcal{F}(U_i)$ be a
family of sections such that
$s_i|_{U_i\times_U U_j} = s_j|_{U_i\times_U U_j}$ for all
$i, j$. We have to show that there exists a unique section
$s \in \mathcal{F}(U)$ restricting back to the $s_i$ on the $U_i$.
Let $S \subset h_U$ be the sieve generated by the $f_i$.
Note that $S \in J(U)$ by definition. In stead of constructing
$s$, by the sheaf condition in the topology, it suffices
to construct an element
$$
\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F}).
$$
Take $\alpha \in S(T)$ for some object $T \in \mathcal{U}$.
This means exactly that $\alpha : T \to U$ is a morphism
which factors through $f_i$ for some $i\in I$ (and maybe more than $1$).
Pick such an index $i$ and a factorization $\alpha = f_i \circ \alpha_i$.
Define $\varphi(\alpha) = \alpha_i^* s_i$. If $i'$, $\alpha
= f_i \circ \alpha_{i'}'$ is a second choice, then
$\alpha_i^* s_i = (\alpha_{i'}')^* s_{i'}$ exactly because of our
condition $s_i|_{U_i\times_U U_j} = s_j|_{U_i\times_U U_j}$ for all
$i, j$. Thus $\varphi(\alpha)$ is well defined. We leave it to the reader
to verify that $\varphi$, which in turn determines $s$ is correct
in the sense that $s$ restricts back to $s_i$.

\medskip\noindent
Let $\mathcal{F}$ be a presheaf. Suppose that $\mathcal{F}$
is a sheaf on the site $(\mathcal{C}, \text{Cov}(\mathcal{C}))$.
We will show that $\mathcal{F}$ is a sheaf for the topology $J$
as well. Let $U$ be an object of $\mathcal{C}$. Let
$S$ be a covering sieve on $U$ with respect to the topology $J$.
Let
$$
\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F}).
$$
We have to show there is a unique element in
$\mathcal{F}(U) = \text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})$
which restricts back to $\varphi$. By definition there exists
a covering $\{f_i : U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
such that $f_i : U_i \in U$ belongs to $S(U_i)$.  Hence
we can set $s_i = \varphi(f_i) \in \mathcal{F}(U_i)$.
Then it is a pleasant exercise to see that
$s_i|_{U_i\times_U U_j} = s_j|_{U_i\times_U U_j}$ for all
$i, j$. Thus we obtain the desired section $s$ by the sheaf
condition for $\mathcal{F}$ on the site
$(\mathcal{C}, \text{Cov}(\mathcal{C}))$.
Details left to the reader.
\end{proof}

\begin{definition}
\label{definition-topology-associated-site}
Let $\mathcal{C}$ be a site with coverings $\text{Cov}(\mathcal{C})$.
The {\it topology associated to $\mathcal{C}$} is the topology
$J$ contructed in Lemma \ref{lemma-site-gives-topology} above.
\end{definition}

\noindent
Let $\mathcal{C}$ be a category.
Let $\text{Cov}_1(\mathcal{C})$ and $\text{Cov}_2(\mathcal{C})$
be two coverings defining the structure of a site on $\mathcal{C}$.
It may very well happen that the topologies defined
by these are the same. If this happens
then we say $\text{Cov}_1(\mathcal{C})$ and
$\text{Cov}_2(\mathcal{C})$ {\it define the same topology} on
$\mathcal{C}$. And if this happens then the categories of sheaves
are the same, by Lemma \ref{lemma-site-gives-topology}.

\medskip\noindent
It is usually the case that we only care about the topology defined
by a collection of coverings, and we view the possibility of choosing
different sets of coverings as a tool to study the topology.

\begin{remark}
\label{remark-enlarge-coverings}
Enlarging the class of coverings.
Clearly, if $\text{Cov}(\mathcal{C})$
defines the structure of a site on $\mathcal{C}$ then we may
add to $\mathcal{C}$ any set of families of morphisms with fixed target
tautologically equivalent
(see Definition \ref{definition-combinatorial-tautological})
to elements of $\text{Cov}(\mathcal{C})$ without changing the topology.
\end{remark}

\begin{remark}
\label{remark-shrink-coverings}
Shrinking the class of coverings. Let $\mathcal{C}$
be a site. Consider the power set
$\mathcal{S} = P(\text{Arrow}(\mathcal{C}))$ (power set)
of the set of morphisms, i.e., the set
of all sets of morphisms. Let $\mathcal{S}_\tau \subset \mathcal{S}$
be the subset consisting of those $T \in \mathcal{S}$ such that
(a) all $\varphi \in T$ have the same target,
(b) the collection $\{\varphi\}_{\varphi \in T}$ is tautologically
equivalent (see Definition \ref{definition-combinatorial-tautological})
to some covering in $\text{Cov}(\mathcal{C})$.
Clearly, considering the elements of $\mathcal{S}_\tau$ as
the coverings, we do not get exactly the notion of a site
as defined in Definition \ref{definition-site}.
The structure $(\mathcal{C}, \mathcal{S}_\tau)$
we get satisfies slightly modified conditions. The modified
conditions are:
\begin{enumerate}
\item[(0')] $\text{Cov}(\mathcal{C}) \subset P(\text{Arrow}(\mathcal{C}))$,
\item[(1')] If $V \to U$ is an isomorphism then $\{V \to U\} \in
\text{Cov}(\mathcal{C})$.
\item[(2')] If $\{U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
and for each $i$ we have
$\{V_{ij} \to U_i\}_{j\in J_i} \in \text{Cov}(\mathcal{C})$, then
$\{V_{ij} \to U\}_{i \in I, j\in J_i}$ is tautologically
equivalent to an element of $\text{Cov}(\mathcal{C})$.
\item[(3')] If $\{U_i \to U\}_{i\in I}\in \text{Cov}(\mathcal{C})$
and $V \to U$ is a morphism of $\mathcal{C}$ then $U_i \times_U V$
exists for all $i$ and $\{U_i \times_U V \to V \}_{i\in I}$
is tautologically equivalent to an element of $\text{Cov}(\mathcal{C})$.
\end{enumerate}
And it is easy to verify that, given a structure satisfying
(0') -- (3') above, then after suitably enlarging
$\text{Cov}(\mathcal{C})$ (compare Sets,
Section \ref{sets-section-coverings-site}) we get a site.
Obviously there is little difference between this notion and the
actual notion of a site, at least from the point of view of the
topology. There are two benefits:
because of condition (0') above the coverings automatically
form a set, and because of (0') the totality of all structures
of this type forms a set as well.
The price you pay for this is that you have to keep writing
``tautologically equivalent'' everywhere.
\end{remark}

















\section{Sheafification in a topology}
\label{section-sheafification-topology}

\noindent
In this section we explain the analogue of the
sheafification construction in a topology.

\medskip\noindent
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
Let $\mathcal{F}$ be a presheaf of sets.
For every $U \in \text{Ob}(\mathcal{C})$ we
define
$$
L\mathcal{F}(U)
=
\text{colim}_{S \in J(U)^{opp}}\ \ 
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
$$
as a colimit. Here we think of $J(U)$ as a partially ordered set,
ordered by inclusion, see Lemma \ref{lemma-sieves-set}. The transition
maps in the system are defined as follows.
If $S \subset S'$ are in $J(U)$, then $S \to S'$ is
a morphism of presheaves. Hence there is a natural restriction
mapping
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
\longrightarrow
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S', \mathcal{F}).
$$
Thus we see that
$S \mapsto \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})$
is a directed system as in Categories,
Definition \ref{categories-definition-system-over-poset}
provided we reverse the ordering
on $J(U)$ (which is what the superscript ${}^{opp}$ is supposed to
indicate). In particular, since $h_U \in J(U)$
there is a canonical map
$$
\ell : \mathcal{F}(U) \longrightarrow L\mathcal{F}(U)
$$
coming from the identification
$\mathcal{F}(U) = \text{Mor}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})$.
In addition, the colimit defining $L\mathcal{F}(U)$ is directed
since for any pair of covering sieves $S, S'$ on $U$ the
sieve $S \cap S'$ is a covering sieve too, see Lemma \ref{lemma-sieves-set}.

\medskip\noindent
Let $f : V \to U$ be a morphism in $\mathcal{C}$.
Let $S \in J(U)$. There is a commutative diagram
$$
\xymatrix{
S \times_U V \ar[r] \ar[d] & h_V \ar[d] \\
S \ar[r] & h_U
}
$$
We can use the left vertical map to get canonical restriction maps
$$
\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})
\to \text{Mor}_{\textit{PSh}(\mathcal{C})}(S \times_U V, \mathcal{F}).
$$
Base change $S \mapsto S\times_U V$ induces an order
preserving map $J(U) \to J(V)$. And the restriction maps
define a transformation of functors as in
Categories, Lemma {categories-lemma-functorial-colimit}.
Hence we get a natural retriction map
$$
L\mathcal{F}(U) \longrightarrow L\mathcal{F}(V).
$$

\begin{lemma}
\label{lemma-L-presheaf}
In the situation above.
\begin{enumerate}
\item The assignment $U \mapsto L\mathcal{F}(U)$ combined with the
restriction mappings defined above is a presheaf.
\item The maps $\ell$ glue to give a morphism of presheaves
$\ell : \mathcal{F} \to L\mathcal{F}$.
\item The rule $\mathcal{F} \mapsto (\mathcal{F} \xrightarrow{\ell}
L\mathcal{F})$ is a functor.
\item If $\mathcal{F}$ is a subpresheaf of $\mathcal{G}$, then
$L\mathcal{F}$ is a subpresheaf of $L\mathcal{G}$.
\item The map $\ell : \mathcal{F} \to L\mathcal{F}$ has the
following property: For every section $s \in L\mathcal{F}(U)$
there exists a covering sieve $S$ on $U$ and an element
$\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})$
such that $\ell(\varphi)$ equals the restriction of
$s$ to $S$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-presheaf-separated-topology}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
We say that a presheaf of sets $\mathcal{F}$
is {\it separated} if for every object $U$ and
every covering sieve $S$ on $U$ the canonical map
$\mathcal{F}(U) \to \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, \mathcal{F})$
is injective.
\end{definition}

\begin{theorem}
\label{theorem-L-topology}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
Let $\mathcal{F}$ be a presheaf of sets.
\begin{enumerate}
\item The presheaf $L\mathcal{F}$ is separated.
\item If $\mathcal{F}$ is separated, then $L\mathcal{F}$ is a sheaf
and the map of presheaves $\mathcal{F} \to L\mathcal{F}$ is injective.
\item If $\mathcal{F}$ is a sheaf, then $\mathcal{F} \to L\mathcal{F}$
is an isomorphism.
\item The presheaf $LL\mathcal{F}$ is always a sheaf.
\end{enumerate}
\end{theorem}

\begin{proof}
Part (3) is trivial from the definition of $L$ and
the definition of a sheaf (Definition \ref{definition-sheaf-sets-topology}).
Part (4) follows formally from the others.

\medskip\noindent
We sketch the proof of (1). Suppose $S$ is a covering sieve
of the object $U$. Suppose that $\varphi_i \in L\mathcal{F}(U)$,
$i = 1, 2$ map to the same element in
$\text{Mor}_{\textit{PSh}(\mathcal{C})}(S, L\mathcal{F})$.
We may find a single covering sieve $S'$ on $U$ such
that both $\varphi_i$ are represented by elements
$\varphi_i \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S', \mathcal{F})$.
We may assume that $S' = S$ by replacing both $S$ and $S'$ by
$S' \cap S$ which is also a covering sieve, see Lemma \ref{lemma-sieves-set}.
Suppose $V\in \text{Ob}(\mathcal{C})$, and
$\alpha : V \to U$ in $S(V)$.
Then we have $S \times_U V = h_V$,
see Lemma \ref{lemma-pullback-sieve-section}. Thus the restrictions
of $\varphi_i$ via $V \to U$ correspond to sections $s_{i, V, \alpha}$
of $\mathcal{F}$ over $V$. The assumption is that there exist
a covering sieve $S_{V, \alpha}$ of $V$ such that
$s_{i, V, \alpha}$ restrict to the same element of
$\text{Mor}_{\textit{PSh}(\mathcal{C})}(S_{V, \alpha}, \mathcal{F})$.
Consider the sieve $S''$ on $U$ defined by the rule
\begin{eqnarray}
\label{equation-S-prime-prime}
(f : T \to U) \in S''(T)
& \Leftrightarrow &
\exists\ V , \ \alpha : V \to U, \ \alpha \in S(V), \nonumber \\
& &
\exists\ g : T \to V, \ g \in S_{V, \alpha}(T), \\
& &
f = \alpha \circ g \nonumber
\end{eqnarray}
By axiom (2) of a topology we see that $S''$ is a covering
sieve on $U$. By construction we see that $\varphi_1$
and $\varphi_2$ restrict to the same element of
$\text{Mor}_{\textit{PSh}(\mathcal{C})}(S'', L\mathcal{F})$
as desired.

\medskip\noindent
We sketch the proof of (2). Assume that $\mathcal{F}$ is a
separated presheaf of sets on $\mathcal{C}$ with respect to
the topology $J$.
Let $S$ be a covering sieve of the object $U$ of $\mathcal{C}$.
Suppose that $\varphi \in \text{Mor}_{\mathcal{C}}(S, L\mathcal{F})$.
We have to find an element $s \in L\mathcal{F}(U)$ restricting
to $\varphi$. Suppose $V\in \text{Ob}(\mathcal{C})$, and
$\alpha : V \to U$ in $S(V)$. The value $\varphi(\alpha)
\in L\mathcal{F}(V)$ is given by a covering sieve
$S_{V, \alpha}$ of $V$ and a morphism of presheaves
$\varphi_{V, \alpha} : S_{V, \alpha} \to \mathcal{F}$.
As in the proof above, define a covering sieve $S''$ on $U$ by
Equation (\ref{equation-S-prime-prime}). We define
$$
\varphi'' : S'' \longrightarrow \mathcal{F}
$$
by the following simple rule: For every $f : T \to U$,
$f \in S''(T)$ choose $V, \alpha, g$ as in
Equation (\ref{equation-S-prime-prime}). Then set
$$
\varphi''(f) = \varphi_{V, \alpha}(g).
$$
We claim this is independent of the
choice of $V, \alpha, g$.
Consider a second such choice$ V', \alpha', g'$.
The restrictions of $\varphi_{V, \alpha}$ and
$\varphi_{V', \alpha'}$ to the intersection
of the following covering sieves on $T$
$$
(S_{V, \alpha}\times_{V, g} T) \cap (S_{V', \alpha'}\times_{V', g'} T)
$$
agree. Namely, these restrictions both correspond to the
restriction of $\varphi$ to $T$ (via $f$) and the desired
equality follows because $\mathcal{F}$ is separated.
Denote the common restriction $\psi$.
The independence of choice follows because
$\varphi_{V, \alpha}(g) = \psi(\text{id}_T) =
\varphi_{V', \alpha'}(g')$. OK, so now $\varphi''$
gives an element $s \in L\mathcal{F}(U)$. We leave it to
the reader to check that $s$ restricts to $\varphi$.
\end{proof}

\begin{definition}
\label{definition-associated-sheaf-topology}
Let $\mathcal{C}$ be a category endowed with a topology $J$.
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$.
The sheaf $\mathcal{F}^\# := LL\mathcal{F}$
together with the canonical map $\mathcal{F} \to \mathcal{F}^\#$
is called the {\it sheaf associated to $\mathcal{F}$}.
\end{definition}

\begin{proposition}
\label{proposition-sheafification-adjoint-topology}
Let $\mathcal{C}$ be a category endowed with a topology.
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$.
The canonical map $\mathcal{F} \to \mathcal{F}^\#$ has the
following universal property: For any map
$\mathcal{F} \to \mathcal{G}$,
where $\mathcal{G}$ is a sheaf of sets, there is a unique map
$\mathcal{F}^\# \to \mathcal{G}$ such that $\mathcal{F} \to \mathcal{F}^\#
\to \mathcal{G}$ equals the given map.
\end{proposition}

\begin{proof}
Same as the proof of Proposition \ref{proposition-sheafification-adjoint}.
\end{proof}














\section{Topologies and sheaves}
\label{section-topology-and-sheaves}

\begin{lemma}
\label{lemma-sieve-sheafification}
Let $\mathcal{C}$ be a category endowed with a topology $J$.
Let $U$ be an object of $\mathcal{C}$.
Let $S$ be a sieve on $U$. The following are equivalent
\begin{enumerate}
\item The sieve $S$ is a covering sieve.
\item The sheafifcation $S^\# \to h_U^\#$
of the map $S \to h_U$ is an isomorphism.
\end{enumerate}
\end{lemma}

\begin{proof}
First we make a couple of general remarks.
We will use that $S^\# = LLS$, and $h_U^\# = LLh_U$.
In particular, by Lemma \ref{lemma-L-presheaf}, we see that
$S^\# \to h_U^\#$ is injective. Note that
$\text{id}_U \in h_U(U)$. Hence it gives rise to
sections of $Lh_U$ and $h_U^\# = LLh_U$ over $U$ which
we will also denote $\text{id}_U$.

\medskip\noindent
Suppose $S$ is a covering sieve. It clearly suffices to
find a morphism $h_U \to S^\#$ such that the composition
$h_U \to h_U^\#$ is the canonical map. To find such a map
it suffices to find a section $s \in S^\#(U)$ wich restricts
to $\text{id}_U$. But since $S$ is a
covering sieve, the element
$\text{id}_S \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S, S)$
gives rise to a section of $LS$ over $U$ which restricts to
$\text{id}_U$ in $Lh_U$. Hence we win.

\medskip\noindent
Suppose that $S^\# \to h_U^\#$ is an isomorphism.
Let $1 \in S^\#(U)$ be the element corresponding to
$\text{id}_U$ in $h_U^\#(U)$. Because $S^\# = LLS$
there exists a covering sieve $S'$ on $U$ such that
$1$ comes from a
$$
\varphi \in \text{Mor}_{\textit{PSh}(\mathcal{C})}(S', LS).
$$
This in turn means that for every $\alpha : V \to U$,
$\alpha\in S'(V)$ there exists a covering sieve $S_{V, \alpha}$
on $V$ such that $\varphi(\text{id}_V)$ corresponds to
a morphism of presheaves $S_{V, \alpha} \to S$. In other words
$S_{V, \alpha}$ is contained in $S \times_U V$. By the second
axiom of a topology we see that $S$ is a covering sieve.
\end{proof}

\begin{theorem}
\label{theorem-topology-and-topos}
Let $\mathcal{C}$ be a category.
Let $J$, $J'$ be topologies on $\mathcal{C}$.
The following are equivalent
\begin{enumerate}
\item $J = J'$,
\item sheaves for the topology $J$ are the same as
sheaves for the topology $J'$.
\end{enumerate}
\end{theorem}

\begin{proof}
It is a tautology that if $J = J'$ then the notions of sheaves
are the same. Conversely, Lemma \ref{lemma-sieve-sheafification}
characterizes covering sieves in terms of the sheafification
functor. But the sheafification functor
$\textit{PSh}(\mathcal{C}) \to \textit{Sh}(\mathcal{C}, J)$
is the right adjoint of the inclusion functor
$\textit{Sh}(\mathcal{C}, J) \to \textit{PSh}(\mathcal{C})$.
Hence if the subcategories
$\textit{Sh}(\mathcal{C}, J)$ and
$\textit{Sh}(\mathcal{C}, J')$ are the same, then the sheafification
functors are the same and hence the collections of covering
sieves are the same.
\end{proof}

\begin{lemma}
\label{lemma-finer-topology}
Assumption and notation as in Theorem \ref{theorem-topology-and-topos}.
Then $J \subset J'$ if and only if every sheaf for the
topology $J'$ is a sheaf for the topology $J$.
\end{lemma}

\begin{proof}
One direction is clear. For the other direction suppose that
$\textit{Sh}(\mathcal{C}, J') \subset \textit{Sh}(\mathcal{C}, J)$.
By formal nonsense this implies
that if $\mathcal{F}$ is a presheaf of sets,
and $\mathcal{F} \to \mathcal{F}^\#$,
resp.\ $\mathcal{F} \to \mathcal{F}^{\#, \prime}$
is the sheafification wrt $J$, resp.\ $J'$ then there
is a canonical map $\mathcal{F}^\# \to \mathcal{F}^{\#, \prime}$
such that
$\mathcal{F} \to \mathcal{F}^\# \to \mathcal{F}^{\#, \prime}$
equals the canonical map $\mathcal{F} \to \mathcal{F}^{\#, \prime}$.
Of course, $\mathcal{F}^\# \to \mathcal{F}^{\#, \prime}$
identifies the second sheaf as the sheafification of the first
with respect to the topology $J'$.
Apply this to the map $S \to h_U$ of
Lemma \ref{lemma-sieve-sheafification}. We get a commutative
diagram
$$
\xymatrix{
S \ar[r] \ar[d] &
S^\# \ar[r] \ar[d] &
S^{\#, \prime} \ar[d] \\
h_U \ar[r] &
h_U^\# \ar[r] &
h_U^{\#, \prime}
}
$$
And clearly, if $S$ is a covering sieve for the topology $J$
then the middle vertical map is an isomorphism (by the lemma)
and we conclude that the right vertical map is an isomorphism as
it is the sheafification of the one in the middle wrt $J'$.
By the lemma again we conclude that $S$ is a covering sieve
for $J'$ as well.
\end{proof}




\section{Topologies and continuous functors}
\label{section-topologies-continuous-functors}

\noindent
Explain how a continous functor gives an adjoint
pair of functors on sheaves.





\section{Points and topologies}
\label{section-points-topologies}

\noindent
Recall from Section \ref{section-points} that given a functor
$p = u : \mathcal{C} \to \textit{Sets}$ we can define
a stalk functor
$$
\textit{PSh}(\mathcal{C}) \longrightarrow \textit{Sets},
\mathcal{F} \longmapsto \mathcal{F}_p.
$$

\begin{definition}
\label{definition-point-topology}
Let $\mathcal{C}$ be a category.
Let $J$ be a topology on $\mathcal{C}$.
A {\it point $p$} of the topology is given by a functor
$u : \mathcal{C} \to \textit{Sets}$ such that
\begin{enumerate}
\item For every covering sieve $S$ on $U$ the map
$S_p \to (h_U)_p$ is surjective.
\item The stalk functor $\textit{Sh}(\mathcal{C}) \to \textit{Sets}$,
$\mathcal{F} \to \mathcal{F}_p$ is exact.
\end{enumerate}
\end{definition}












\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
