\input{preamble}

% OK, start here.
%
\begin{document}

\title{Sites and Sheaves}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
The notion of a site was introduced by Grothendieck to be able to study
sheaves in the \'etale topology of schemes. The basic reference for this
notion is perhaps \cite{SGA4}. 

\section{Topologies}
\label{section-topologies}

\noindent
In this section we define what sites are and how to think about sheaves
on sites. See \cite{ArtinTopologies}.

\subsection{Presheaves}
\label{subsection-presheaves}

\noindent
Let $\mathcal{C}$ be a category.
A {\it presheaf of sets} is a contravariant functor $\mathcal{F}$
from $\mathcal{C}$ to $\text{Sets}$ (see Categories, 
\hyperref[categories-remark-functor-into-sets]%
{Remark~\ref*{categories-remark-functor-into-sets}}). 
So for every object $U$ of $\mathcal{C}$ we have a set 
$\mathcal{F}(U)$. The elements of this set are called
the {\it sections} of $\mathcal{F}$ over $U$. For every morphism
$f : V \to U$ the map $\mathcal{F}(f) : \mathcal{F}(U) \to \mathcal{F}(V)$
is called the {\it restricton map} and is often denoted
$f^\ast : \mathcal{F}(U) \to \mathcal{F}(V)$. Another way
of expressing this is to say that $f^*(s)$ is the {\it pullback}
of $s$ via $f$. Functoriality means that $g^* f^* (s) = (f \circ g)^*(s)$.
Sometimes we use the notation $s|_V := f^\ast(s)$.
This notation is consistent with the notion of restriction
of functions from topology because if $W \to V \to U$
are morphisms in $\mathcal{C}$ and $s$ is a section of
$\mathcal{F}$ over $U$ then $s|_W = (s|_V)|_W$ by the
functorial nature of $\mathcal{F}$. Of course we have to be
careful since it may very well happen
that there is more than one morphism $V \to U$ and it is
certainly not going to be the case that the corresponding
pull back maps are equal.

\begin{definition}
\label{definition-presheaves-sets}
A {\it presheaf of sets} on $\mathcal{C}$ is a contravariant
functor from $\mathcal{C}$ to $\textit{Sets}$. The category
of presheaves of sets is denoted $\textit{PSh}(\mathcal{C})$.
\end{definition}

\noindent
Note that for any object $U$ of $\mathcal{C}$ the functor of
points $h_U$, see Categories \autoref{categories-example-hom-functor}
is a presheaf. The are called the {\it representable presheaves}.

\medskip\noindent
Similarly, we can define the notion of a presheaf of abelian groups,
rings, etc. More generally we may define a presheaf with values in a
category.

\begin{definition}
\label{definition-presheaf}
Let $\mathcal{C}$, $\mathcal{A}$ be categories.
A {\it presheaf} $\mathcal{F}$ on $\mathcal{C}$
with values in $\mathcal{A}$ is a contravariant
functor from $\mathcal{C}$ to $\mathcal{A}$,
i.e., $\mathcal{F} : \mathcal{C}^\circ \to \mathcal{A}$.
A {\it morphism} of presheaves $\mathcal{F} \to \mathcal{G}$
on $\mathcal{C}$ with values in $\mathcal{A}$ is a transformation
of functors from $\mathcal{F}$ to $\mathcal{G}$.
\end{definition}

\noindent
These form the objects and morphisms of the category of presheaves
on $\mathcal{C}$ with values in $\mathcal{A}$.

\begin{remark}
\label{remark-big-presheaves}
As already pointed out above we may consider the category
presheaves with values in any of the ``big'' categories
listed in Categories, \hyperref[categories-remark-big-categories]%
{Remark~\ref*{categories-remark-big-categories}}.
These will be ``big'' categories as well and they will be
listed in the above mentioned remark as we go along.
\end{remark}

\subsection{Sites}
\label{subsection-sites-definitions}

\noindent
Let $\mathcal{C}$ be a category, see
Conventions, \autoref{conventions-section-categories}. 
In the following the notation $\{U_i \to U\}_{i\in I}$ means that 
$U \in \text{Ob}(\mathcal{C})$, that $I$ is a set and that for each $i\in I$ 
we are given a morphism $U_i \to U$ of $\mathcal{C}$ with target $U$. This
notation suggests an open covering as in topology.

\begin{definition}
\label{definition-site}
A {\it site} is given by a category $\mathcal{C}$ and a set 
$\text{Cov}(\mathcal{C})$ consisting of coverings 
$\{U_i \to U\}_{i \in I}$ satisfying the following axioms
\begin{enumerate}
\item If $V \to U$ is an isomorphism then $\{V \to U\} \in 
\text{Cov}(\mathcal{C})$.
\item If $\{U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$ and for each
$i$ we have $\{V_{ij} \to U_i\}_{j\in J_i} \in \text{Cov}(\mathcal{C})$, then
$\{V_{ij} \to U\}_{i \in I, j\in J_i} \in \text{Cov}(\mathcal{C})$.
\item If $\{U_i \to U\}_{i\in I}\in \text{Cov}(\mathcal{C})$
and $V \to U$ is a morphism of $\mathcal{C}$ then $U_i \times_U V$
exists for all $i$ and
$\{U_i \times_U V \to V \}_{i\in I} \in \text{Cov}(\mathcal{C})$.
\end{enumerate}
\end{definition}

\begin{remark}
\label{remark-no-big-sites}
The main reason for introducing sites is to study the
category of sheaves on a site, because it is the generalization
of the category of sheaves on a topological space that has
been so important in algebraic geometry. In order to avoid thinking
about things like ``class of all classes'' and so on, we will
not allow sites to be ``big'' categories, in contrast to what
we do for categories and $2$-categories.

\medskip\noindent
On the other hand, suppose that $\mathcal{C}$ is a category and
that $\text{Cov}(\mathcal{C})$ is a proper class of coverings
satisfying (1), (2) and (3) above. We will not allow this as a site,
mainly because we are going to take limits over coverings.
On the other hand, there are several natural
ways to replace $\text{Cov}(\mathcal{C})$ by a set of coverings
that give rise to the same category of sheaves (see below).
For example, in Sets,
\hyperref[sets-subsubsection-coverings-site]%
{Subsubsection~\ref*{sets-subsubsection-coverings-site}} we show how
to pick a set of coverings that gives the same topology (see below).
We could also use the notion of sieves to define a topology on $\mathcal{C}$,
which automatically forms a set. We could also slightly modify the
notion of a site, see Remark \ref{remark-shrink-coverings} below, and
end up with a canonical set of coverings which is contained in the
powerset of the set of arrows of $\mathcal{C}$.
\end{remark}

\begin{example}
\label{example-site-toplogical}
Let $X$ be a topological space. Let $\mathcal{T}_X$ be the category whose
objects consist of all the open sets $U$ in $X$ and whose morphisms
are just the inclusion maps. That is, there is at most one morphism
between any two objects in $\mathcal{T}_X$.  Now define a site on this
category by defining $\{U_i \to U\}\in \text{Cov}(\mathcal{T}_X)$ if
$\bigcup U_i = U$. Conditions (1) and (2) above are clear, and (3) is also
clear once we realize that in $\mathcal{T}_X$ we have
$U \times V = U \cap V$. Presheaves and sheaves (as defined below)
on the site $\mathcal{T}_X$ will agree exactly with the usual notion of
a presheaves and sheaves on a topological space.
\end{example}

\begin{example}
\label{example-site-on-group}
Let $G$ be a group. Consider the category $G\textit{-Sets}$
whose objects are sets $X$ with a left $G$-action, with
$G$-equivariant maps as the morphisms. This category has
fibred product, see Categories,
\autoref{categories-subsubsection-example-fibre-products}.
This is a ``big'' category, so we replace it by a suitable
(large enough) full subcategory $G\textit{-Sets}_\alpha$ which
has a set of objects. (More about this later; see for example Sets,
\autoref{sets-subsubsection-sets-with-group-action} for a suitable
choice.) We declare $\{\varphi_i : U_i \to U\}_{i\in I}$ to be 
a covering if $\cup_{i\in I} \varphi_i(U_i) = U$.
Conditions (1), (2), and (3) are easily verified.
This site will be denoted $\mathcal{T}_G$.
\end{example}

\subsection{Sheaves}
\label{subsection-sheaves}

\noindent
Let $\mathcal{C}$ be a site. Before we introduce the notion of
a sheaf with values in a category we explain what it means
for a presheaf of sets to be a sheaf. Let $\mathcal{F}$ be
a presheaf of sets on $\mathcal{C}$ and let
$\{U_i \to U\}_{i\in I}$ be an element of $\text{Cov}(\mathcal{C})$.
By assumption all the fibre products $U_i\times_U U_j$ exist
in $\mathcal{C}$. There are two natural maps
$$
\xymatrix{
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
which we will denote $\text{pr}^*_i$, $i=0,1$ as indicated
in the displayed equation.
Namely, an element of the left hand side corresponds to a
family $(s_i)_{i\in I}$, where each $s_i$ is a section of
$\mathcal{F}$ over $U_i$. For each pair $(i_0, i_1) \in I\times I$
we have the projection morphisms
$$
\text{pr}^{(i_0, i_1)}_{i_0} : 
U_{i_0}\times_U U_{i_1}
\longrightarrow
U_{i_0}
\text{ and }
\text{pr}^{(i_0, i_1)}_{i_1} : 
U_{i_0}\times_U U_{i_1}
\longrightarrow
U_{i_1}.
$$
Thus we may pull back either the section $s_{i_0}$ via
the first of these maps or the section $s_{i_1}$ via the
second. Explicitly the maps we refered to above are
$$
\text{pr}_0^* :
(s_i)_{i\in I}
\longmapsto
\Big(
\text{pr}^{(i_0, i_1), *}_{i_0}(s_{i_0})
\Big)_{(i_0, i_1) \in I\times I}
$$
and
$$
\text{pr}_1^* :
(s_i)_{i\in I}
\longmapsto
\Big(
\text{pr}^{(i_0, i_1), *}_{i_1}(s_{i_1})
\Big)_{(i_0, i_1) \in I\times I}.
$$
Finally consider the natural map
$$
\mathcal{F}(U)
\longrightarrow
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
,\ \ 
s
\longmapsto
(s|_{U_i})_{i \in I}
$$
where we have used the notation $s|_{U_i}$ to indicate the
pullback of $s$ via the map $U_i \to U$. It is clear from the
functorial natural of $\mathcal{F}$ and the commutativity
of the fibre product diagrams that
$\text{pr}_0^*( (s|_{U_i})_{i \in I} ) =
\text{pr}_1^*( (s|_{U_i})_{i \in I} )$.

\begin{definition}
\label{definition-sheaf-sets}
Let $\mathcal{C}$ be a site, and let $\mathcal{F}$ be a presheaf of sets
on $\mathcal{C}$. We say $\mathcal{F}$ is a {\it sheaf} if
for every covering $\{U_i \to U\}_{i \in I} \in \text{Cov}(\mathcal{C})$ 
the diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
represents the first arrow as the equalizer of $\text{pr}_0^*$
and $\text{pr}_1^*$.
\end{definition}

\noindent
Loosely speaking this means that given sections $s_i \in \mathcal{F}(U_i)$
such that
$$
s_i|_{U_i \times_U U_j} = s_j|_{U_i \times_U U_j}
$$
in $\mathcal{F}(U_i \times_U U_j)$ for all pairs $(i,j) \in I\times I$
then there exists a unique $s \in \mathcal{F}(U)$ such
that $s_i = s|_{U_i}$.

\begin{definition}
\label{definition-category-sheaves-sets}
The category $\textit{Sh}(\mathcal{C})$
of sheaves of sets is the full subcategory of the category
$\textit{PSh}(\mathcal{C})$ whose objects are the sheaves of sets.
\end{definition}

\medskip\noindent
Let $\mathcal{A}$ be a category. If products indexed by $I$, and
$I\times I$ exist in $\mathcal{A}$ for any $I$ that occurs as an index
set for covering families then Definition \ref{definition-sheaf-sets}
above makes sense, and defines a notion of a sheaf on $\mathcal{C}$
with values in $\mathcal{A}$. Note that the diagram in $\mathcal{A}$
$$
\xymatrix{
\mathcal{F}(U) \ar[r]
&
\prod\nolimits_{i\in I}
\mathcal{F}(U_i)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
\mathcal{F}(U_{i_0}\times_U U_{i_1})
}
$$
is an equalizer diagram if and only if for every object $X$ of
$\mathcal{A}$ the diagram of sets
$$
\xymatrix{
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U)) \ar[r]
&
\prod
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U_i))
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod
\text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U_{i_0}\times_U U_{i_1}))
}
$$
is an equalizer diagram.

\medskip\noindent
Suppose $\mathcal{A}$ is arbitrary.
Let $\mathcal{F}$ be a presheaf with values in $\mathcal{A}$.
Choose any object $X\in \text{Ob}(\mathcal{A})$.
Then we get a presheaf of sets $\mathcal{F}_X$ defined
by the rule
$$
\mathcal{F}_X(U) = \text{Mor}_{\mathcal{A}}(X, \mathcal{F}(U)).
$$
From the above it follows that a good definition is
obtained by requiring all the presheaves $\mathcal{F}_X$ to be
sheaves of sets.

\begin{definition}
\label{definition-sheaf}
Let $\mathcal{C}$ be a site, let $\mathcal{A}$ be a category
and let $\mathcal{F}$ be a presheaf on $\mathcal{C}$ with values in
$\mathcal{A}$. We say that $\mathcal{F}$ is a {\it sheaf}
if for all objects $X$ of $\mathcal{A}$ the presheaf of sets
$\mathcal{F}_X$ (defined above) is a sheaf.
\end{definition}

\subsection{Sheaves on $\mathcal{T}_G$}
\label{example-sheaf-G-sets}

\noindent
As an example, consider
the site $\mathcal{T}_G$ of Example \ref{example-site-on-group}.
First we note that $G$ itself is an object in the category
(the action given by left multiplication). As a $G$-set we sometimes
denote it ${}_GG$ if there is any possible confusion.
Next, remark that the map
$$
\text{Hom}_G({}_GG,{}_GG)
\longrightarrow
G^{opp}, 
\varphi
\longmapsto
\varphi(1)
$$
is an isomorphism of groups. The inverse map sends $g \in G$
to the map $R_g : s \mapsto sg$ (i.e.\ right multiplication).
Note that $R_{g_1g_2} = R_{g_2} \circ R_{g_1}$ so the opposite
is necessary.

\medskip\noindent
This implies that for every presheaf $\mathcal{F}$ the value
$\mathcal{F}({}_GG)$ inherets the structure of a $G$-set 
as follows: $g \cdot s$ for $g \in G$ and $s \in \mathcal{F}({}_GG)$
defined by $\mathcal{F}(R_g)(s)$. This is a left action
because $(g_1g_2) \cdot s  = \mathcal{F}(R_{g_1g_2})(s) =
\mathcal{F}(R_{g_2}\circ R_{g_1})(s) = 
\mathcal{F}(R_{g_1})( \mathcal{F}(R_{g_2})(s)) =
g_1 \cdot (g_2 \cdot s)$. Here we've used that $\mathcal{F}$
is contravariant. Note that if $\mathcal{F} \to \mathcal{G}$
is a morphism of presheaves of sets on $\mathcal{T}_G$
then we get a map $\mathcal{F}({}_GG) \to \mathcal{G}({}_GG)$
which is compatible with the $G$-actions we have just defined.
All in all we have constructed a functor
$$
\textit{PSh}(\mathcal{T}_G)
\longrightarrow
G\textit{-Sets},\ \ 
\mathcal{F}
\longmapsto
\mathcal{F}({}_GG).
$$

\medskip\noindent
Suppose that $S$ is a $G$-set. We define a presheaf
$\mathcal{F}_S$ by the formula\footnote{It may
appear this is the representable presheaf defined by
$S$, but because of set theoretical issues $S$ may not
be an object of $\mathcal{T}_G$.}
$$
\mathcal{F}_S(U)
=
\text{Mor}_{G\textit{-Sets}}(U, S).
$$
This is clearly a presheaf. On the other hand, suppose that
$\{U_i \to U\}_{i\in I}$ is a covering in $\mathcal{T}_G$, in other
words $\sqcup U_i \to U$ is surjective. It is immediately
clear that the map
$$
\mathcal{F}_S(U)
=
\text{Mor}_{G\textit{-Sets}}(U, S)
\longrightarrow
\prod \mathcal{F}_S(U_i)
=
\prod \text{Mor}_{G\textit{-Sets}}(U_i, S)
$$
is injective. And, given a family of $G$-equivariant
maps $s_i : U_i \to S$, such that all the diagrams
$$
\xymatrix{
U_i\times_U U_j \ar[d] \ar[r]
&
U_j \ar[d]^{s_j}
\\
U_i \ar[r]^{s_i}
&
S
}
$$
commute, there is a unique $G$-equivariant map
$s : U \to S$ such that $s_i$ is the composition
$U_i \to U \to S$. Namely, we just define $s(u) = s_i(u_i)$
where $i\in I$ is any index such that there exists some
$u_i \in U_i$ mapping to $u$ under the map $U_i \to U$.
The commutativity of the diagrams above implies exactly
that this construction is well defined. All in all we have
constructed a functor
$$
G\textit{-Sets}
\longrightarrow
\textit{Sh}(\mathcal{T}_G),\ \ 
S
\longmapsto
\mathcal{F}_S
.
$$

\medskip\noindent
We now have the following diagram of categories and functors
$$
\xymatrix{
\textit{PSh}(\mathcal{T}_G) \ar[rr]^{\mathcal{F} \mapsto \mathcal{F}({}_GG)}
&
&
G\textit{-Sets} \ar[ld]_{S \mapsto \mathcal{F}_S}
\\
&
\textit{Sh}(\mathcal{T}_G) \ar[lu]
&
}
$$
It is immediate from the definitions that $\mathcal{F}_S({}_GG)
= \text{Mor}_G({}_GG, S) = S$, the last map by evaluation at $1$.
This almost proves the following.

\begin{proposition}
\label{propostion-sheaves-on-group}
The functors $\mathcal{F} \mapsto \mathcal{F}({}_GG)$
and $S \mapsto \mathcal{F}_S$ define quasi-inverse 
equivalences between $\textit{Sh}(\mathcal{T}_G)$
and $G\textit{-Sets}$.
\end{proposition}

\begin{proof}
We have already seen that composing the functors one way around
is isomorphic to the identity functor.
In the other direction, for any sheaf $\mathcal{H}$ there is a natural 
map of sheaves
$$
can :
\mathcal{H}
\longrightarrow
\mathcal{F}_{\mathcal{H}({}_GG)}.
$$
Namely, for any object $U$ of $\mathcal{T}_G$ we let $can_U$
be the map
$$
\begin{matrix}
\mathcal{H}(U)
&
\longrightarrow
&
\mathcal{F}_{\mathcal{H}({}_GG)}(U)
=
\text{Mor}_G(U, \mathcal{H}({}_GG))
\\
s 
&
\longmapsto
&
(u \mapsto \alpha_u^*s).
\end{matrix}
$$
Here $\alpha_u : {}_GG \to U$ is the map
$\alpha_u(g) = gu$ and $\alpha_u^* : \mathcal{H}(U)
\to \mathcal{H}({}_GG)$ is the pullback map. A trivial
but confusing verification shows that this is indeed a map
of presheaves. We have to show that $can$ is an isomorphism.
We do this by showing $can_U$ is an isomorphism for all $U
\in \text{ob}(\mathcal{T}_G)$. We leave the (important but
easy) case that $U = {}_GG$ to the reader.
A general object $U$ of $\mathcal{T}_G$ is a disjoint union of
$G$-orbits: $U = \coprod O_i$. This is a covering in
$\mathcal{T}_G$. It is easy to see that the sheaf property
implies $\mathcal{G}(U) = \prod \mathcal{G}(O_i)$ for any sheaf
$\mathcal{G}$. Hence it suffices to show that $can_U$ is an
isomorphism when $U$ consists of a single $G$-orbit. Let $u \in U$
and let $H \subset G$ be its stabilizer. Clearly,
$\text{Mor}_G(U, \mathcal{H}({}_GG)) = \mathcal{H}({}_GG)^H$
equals the subset of $H$-invariant elements. On the other hand
consider the covering $\{{}_GG \to U\}$ given by $g \mapsto
gu$. Note that the fibre product $({}_GG)\times_U ({}_GG)$
is equal to $\{(g, gh), g\in G, h\in H\} \cong \prod_{h\in H}
{}_GG$. Hence the sheaf property for this covering reads
as 
$$
\xymatrix{
\mathcal{H}(U) \ar[r]
&
\mathcal{H}({}_GG)
\ar@<1ex>[r]^-{\text{pr}_0^*} \ar@<-1ex>[r]_-{\text{pr}_1^*}
&
\prod_{h \in H}
\mathcal{H}({}_GG).
}
$$
Now the two maps $\text{pr}_i^*$ into the factor
$\mathcal{H}({}_GG)$ differ by multiplication by $h$.
Now the result follows from this and the fact that $can$
is an isomorphism for $U={}_GG$.
\end{proof}

\subsection{The topology defined by a site}
\label{subsection-topology-site}

\noindent
Suppose that $\mathcal{C}$ is a category, and suppose that
$\text{Cov}_1(\mathcal{C})$ and $\text{Cov}_2(\mathcal{C})$
are sets of coverings that define the structure of a site
on $\mathcal{C}$. In this situation it can happen that
the categories of sheaves (of sets) for $\text{Cov}_1(\mathcal{C})$
and $\text{Cov}_2(\mathcal{C})$ are the same. 

\begin{definition}
\label{definition-topology}
In the situation above, if the categories of sheaves (of sets)
for $\text{Cov}_1(\mathcal{C})$ and $\text{Cov}_2(\mathcal{C})$
are the same, then we say $\text{Cov}_1(\mathcal{C})$ and
$\text{Cov}_2(\mathcal{C})$ {\it define the same topology} on
$\mathcal{C}$.
\end{definition}

\noindent
It is usually the case that we only care about the topology defined
by a collection of coverings, and we view the possibility of choosing
different sets of coverings as a tool to study the topology.

\begin{remark}
\label{remark-enlarge-coverings}
Enlarging the class of coverings.
Let us temporarily introduce the following notion.
Two families of morphisms $\{\varphi_i : U_i \to U\}_{i\in I}$, and
$\{\psi_j : V_j \to U\}_{j\in J}$ with the same target
$U \in \text{Ob}(\mathcal{C})$ are called {\it tautologically equivalent}
if there exist maps $\alpha : I \to J$ and $\beta : J\to I$ and
for all $i\in I$ and $j \in J$ commutative diagrams
$$
\xymatrix{
U_i \ar[rd] \ar[rr]
&
&
V_{\alpha(i)} \ar[ld]
&
&
V_j \ar[rd] \ar[rr]
&
&
U_{\beta(j)} \ar[ld]
\\
&
U
&
&
&
&
U
&
}
$$
with isomorphisms as horizontal arrows.
This defines an equivalence relation on families of morphisms
having a fixed target. Clearly, if $\text{Cov}(\mathcal{C})$
defines the structure of a site on $\mathcal{C}$ then we may
add to $\mathcal{C}$ all families of morphisms tautologically
equivalent to elements of $\text{Cov}(\mathcal{C})$ without
changing the topology.
\end{remark}

\begin{remark}
\label{remark-shrink-coverings}
Shrinking the class of coverings.
Consider the set $\mathcal{S} = \mathcal{P}(\text{Arrow}(\mathcal{C}))$
of all sets of morphisms. Let $\mathcal{S}_\tau \subset \mathcal{S}$
be the subset consisting of those $T \in \mathcal{S}$ such that
(a) all $\varphi \in T$ have the same target,
(b) the collection $\{\varphi\}_{\varphi \in T}$ is tautologically
equivalent (see Remark \ref{remark-enlarge-coverings})
to some covering in $\text{Cov}(\mathcal{C})$.
Clearly, considering the elements of $\mathcal{S}_\tau$ as
the coverings, we do not get exactly the notion of a site
as defined in Definition \ref{definition-site}.
The structure $(\mathcal{C}, \text{Cov}(\mathcal{C}))$
we get instead satisfies the following
slightly modified conditions:
\begin{enumerate}
\item[(0')] $\text{Cov}(\mathcal{C}) \subset \mathcal{P}(\text{Arrow}(\mathcal{C}))$,
\item[(1')] If $V \to U$ is an isomorphism then $\{V \to U\} \in 
\text{Cov}(\mathcal{C})$.
\item[(2')] If $\{U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$
and for each $i$ we have
$\{V_{ij} \to U_i\}_{j\in J_i} \in \text{Cov}(\mathcal{C})$, then
$\{V_{ij} \to U\}_{i \in I, j\in J_i}$ is tautologically
equivalent to an element of $\text{Cov}(\mathcal{C})$.
\item[(3')] If $\{U_i \to U\}_{i\in I}\in \text{Cov}(\mathcal{C})$
and $V \to U$ is a morphism of $\mathcal{C}$ then $U_i \times_U V$
exists for all $i$ and $\{U_i \times_U V \to V \}_{i\in I}$
is tautologically equivalent to an element of $\text{Cov}(\mathcal{C})$.
\end{enumerate}
And it is easy to verify that, given a structure satisfying 
(0') -- (3') above the after enlarging $\text{Cov}(\mathcal{C})$
as in the remark above we get a site.
Obviously there is little difference between this notion and the
actual notion of a site, at least from the point of view of the
topology.
\end{remark}

\subsection{More about coverings}
\label{subsection-coverings}

\noindent
Let $\mathcal{C}$ be a site. A morphism of coverings of $\mathcal{C}$ from 
$\mathcal{U}=\{U_i \to U\}_{i\in I}$ to $\mathcal{V}=\{V_j \to V\}_{j\in J}$
is given by a morphism $U \to V$, a map of sets $\alpha : I \to J$ and
for each $i\in I$ a morphism $U_i \to V_{\alpha(i)}$ such that
the diagram
$$
\xymatrix{
U_i \ar[r] \ar[d] & V_{\alpha(i)} \ar[d] \\
U \ar[r] & V
}
$$
is commutative. In the special case that $U=V$ and $U\to V$ is the identity
we call $\mathcal{U}$ a refinement of the covering $\mathcal{V}$.

\smallskip\noindent
Let $\mathcal{F}$ be a presheaf of sets on $\mathcal{C}$, and let
$\mathcal{U}$ be a covering in $\mathcal{C}$ as above. Let us use the
notation $\mathcal{F}(\mathcal{U})$ to indicate the equalizer
$$
\mathcal{F}(\mathcal{U}) = \{ (s_i)_i \in \prod_i \mathcal{F}(U_i)
\mid  \text{pr}_1^\ast s_i = \text{pr}_2^\ast s_j \forall i,j \in I\}.
$$
There is a canonical map $\mathcal{F}(U) \to \mathcal{F}(\mathcal{U})$.
It is clear that a morphism of coverings $\mathcal{U} \to \mathcal{V}$
induces commutative diagrams
$$
\xymatrix{
& U_i \ar[rr] & & V_{\alpha(i)} \\
U_i \times_U U_j \ar[rr] \ar[ur] \ar[dr] & & 
V_{\alpha(i)}\times_V V_{\alpha(j)} \ar[ur] \ar[dr] & \\
& U_j \ar[rr] & & V_{\alpha(j)}
}.
$$
This in turn produces a map $\mathcal{F}(\mathcal{V}) \to 
\mathcal{F}(\mathcal{U})$, compatible with the map $\mathcal{F}(V) 
\to \mathcal{F}(U)$. 

\begin{lemma}
\label{lemma-indepent-refinement}
Any two morphisms $f,g: \mathcal{U} \to \mathcal{V}$ of coverings
inducing the same morphism $U \to V$ induce the same
map $\mathcal{F}(\mathcal{V}) \to \mathcal{F}(\mathcal{U})$.
\end{lemma}

\begin{proof}
Let $\mathcal{U}=\{U_i \to U\}_{i\in I}$ and 
$\mathcal{V}=\{V_j \to V\}_{j\in J}$.
The morphism~$f$ consists of a map $U\to V$, a map $\alpha\colon I\to J$ and
maps $f_i\colon U_i\to V_{\alpha(i)}$.
Likewise, $g$~determines a map $\beta\colon I\to J$ and maps
$g_i\colon U_i\to V_{\beta(i)}$.
As $f$~and~$g$ induce the same map $U\to V$, the diagram
$$\xymatrix{&V_{\alpha(i)}\ar[dr]\\
  U_i\ar[ur]^{f_i}\ar[dr]_{g_i}&&V\\
  &V_{\beta(i)}\ar[ur]}$$
is commutative for every~$i\in I$. Hence $f$~and~$g$ factor through 
the fibre product
$$\xymatrix{&V_{\alpha(i)}\\
  U_i\ar[r]^-\varphi\ar[ur]^{f_i}\ar[dr]_{g_i}&
  V_{\alpha(i)}\times_VV_{\beta(i)}\ar[u]_{\text{pr}_1}\ar[d]^{\text{pr}_2}\\
  &V_{\beta(i)}.}$$
Now let $s=(s_j)_j\in\mathcal{F}(\mathcal{V})$.
Then for all~$i\in I$:
 $$(f^*s)_i=f_i^*(s_{\alpha(i)})=\varphi^*\text{pr}_1^*(s_{\alpha(i)})
   =\varphi^*\text{pr}_2^*(s_{\beta(i)})=g_i^*(s_{\beta(i)})=(g^*s)_i,$$
where the middle equality is given by the definition 
of~$\mathcal{F}(\mathcal{V})$.
This shows that the maps $\mathcal{F}(\mathcal{V})\to\mathcal{F}(\mathcal{U})$
induced by $f$~and~$g$ are equal.
\end{proof}

\smallskip\noindent
Suppose that $\mathcal{F}$ is a presheaf of abelian groups on a
fixed site $T$.  We would like to canonically associate a sheaf
$\mathcal{F}^\#$ to $\mathcal{F}$ such that there exists a
functorial morphism $\mathcal{F} \rightarrow \mathcal{F}^\#$ and such that for
any morphism from $\mathcal{F}$ to an abelian sheaf $\mathcal{G}$
there is a unique factorization $\mathcal{F} \rightarrow
\mathcal{F}^\# \rightarrow \mathcal{G}$. The sheaf $\mathcal{F}^\#$ will be
called the sheafification of $\mathcal{F}$.

\smallskip\noindent
FIXME: Move the following stuff on limits to another file, and make it
more general. Find nice lim symbol anyone?

\begin{definition}
A directed set is a set $S$ together with a relation $\geq$ which is
transitive and reflexive such that for $a, b \in S$ there exists another
element $c \in S$ such that $c \geq a$ and $c \geq b$.
\end{definition}

\noindent
A directed system over a directed set $S$, is given by a set $M_s$ for
every $s\in S$ and a map $M_a \to M_b$ for every pair $b\geq a$ such
that all the composition $M_a \to M_b \to M_c$ equals the map
$M_a \to M_c$ whenever $c \geq b \geq a$. The limit of the directed system
is the set $\lim_{s\in S} M_s = \big(\coprod_{a\in S} M_a\big)/\sim$. Here,
if $m\in M_a$ and $m'\in M_{a'}$, then $m \sim m'$ if and only if $m$ and $m'$
map to the same element in some $M_b$ for some $b$ with $b\geq a$ and
$b \geq a'$. If the system is in the category of abelian groups then the
limit has the structure of an abelian group.

\noindent
Let $\mathcal{J}_U$ be the set of all coverings of $U$. It is not hard to
check that $\mathcal{J}_U$ with morphisms being morphisms of coverings
over $U$, is a category. It is also clear that given any two coverings of $U$,
$\mathcal{U}_1$ and $\mathcal{U}_2$, there is another covering refining them
both. That is, the covering $\{U_{1i} \times_U U_{2j} \rightarrow U\}$ is a
cover of $U$ and the natural projection maps give the refinements: it is
exactly conditions (2) and (3) in \ref{definition-site} that allow us to conclude
that this is a cover. Now, by the above remarks, we see that $\mathcal{J}_U$
is a directed set, where we say that $\{U_i \to U\} \geq \{V_j \to U\}$ if 
and only if $\{U_i \to U\}$ is a refinement of $\{V_j \to U\}$. Lemma
\ref{lemma-indepent-refinement} tells us that $\mathcal{U} \mapsto
\mathcal{F}(\mathcal{U})$ is a directed system over $\mathcal{J}(U)$, if
we define, for $\mathcal{U} \geq \mathcal{V}$ the map 
$\mathcal{F}(\mathcal{U}) \to \mathcal{F}(\mathcal{V})$ to be induced from any
morphism of coverings of $U$. Hence we can take the direct limit over the set
of coverings of $U$. Thus we define 
$$
\mathcal{F}^\dagger(U) = \lim_{\mathcal{U}}\mathcal{F}(\mathcal{U})
$$
where the limit is over the directed set of coverings $\mathcal{J}_U$.
This is sometimes denoted $\check{H}^0(U, F)$, ie, the $0$th \v{C}ech
cohomology group. 

\smallskip\noindent
Finally, we say that $\mathcal{F}$ is separated if, for all coverings
of $U$, $\{U_i \rightarrow U$ the map 
$\mathcal(F) \rightarrow \prod \mathcal(F)(U_i)$ is injective.

\begin{theorem}
With $\mathcal{F}$ as above
\begin{enumerate}
\item $\mathcal{F}^\dagger$ is separated
\item If $\mathcal{F}$ is separated, then $\mathcal{F}^\dagger$ is a sheaf.
\item $\mathcal{F}^{\dagger\dagger}$ is always a sheaf.
\end{enumerate}
\end{theorem}

\begin{proof}
FIXME.
\end{proof}

\noindent
FIXME. Discuss the more general case when $\mathcal{F}$ may not be a sheaf with
values in $\mathcal{A}b$.

\section{Representable sheaves}
\label{section-representable-sheaves}

\noindent
FIXME. Talk about representable presheaves, canonical topology and
representable sheaves.

\section{Morphisms of sites}
\label{section-morphism-sites}

\begin{definition}
\label{definition-continuous}
Let $\mathcal{C}$ and $\mathcal{D}$ be sites.
A functor $F : \mathcal{D} \to \mathcal{C}$ is called
{\it continuous} if for every
$\{V_i \to V\}_{i\in I} \in \text{Cov}(\mathcal{D})$
we have the following
\begin{enumerate}
\item $\{F(V_i) \to V\}_{i\in I}$ is in $\text{Cov}(\mathcal{C})$, and
\item for any morphism $T \to V$ in $\mathcal{D}$ the morphism
$F(T\times_V V_i) \to F(T) \times_{F(V)} F(V_i)$ is an isomorphism.
\end{enumerate}
\end{definition}

\noindent
Given a continuous functor as above, and a presheaf of sets
$\mathcal{F}$ on $\mathcal{C}$ we define the {\it pushforward}
$F_*(\mathcal{F})$ to be simply the presheaf 
$\mathcal{F} \circ F$, in other words
$$
F_*(\mathcal{F}) (V) = \mathcal{F}(F(V))
$$
for every object $V$ of $\mathcal{D}$.

\begin{lemma}
\label{lemma-pushforward-sheaf}
If $\mathcal{F}$ is a sheaf and $F$ is continuous then
$F_*(\mathcal{F})$ is a sheaf as well.
\end{lemma}

\begin{proof}
Let $\{V_i \to V\}$ be a covering. 
By assumption $\{F(V_i) \to F(V)\}$ is a covering
in $\mathcal{C}$ and $F(V_i\times_V V_j) = 
F(V_i)\times_{F(V)}F(V_j)$. Hence the sheaf condition for
$F_*\mathcal{F}$ and the covering $\{V_i \to V\}$
is precisely the same as the sheaf condition for $\mathcal{F}$
and the covering $\{F(V_i) \to F(V)\}$.
\end{proof}




\section{Topoi}

\begin{definition}
\label{definition-topos}
A {\it topos} is the category $\textit{Sh}(\mathcal{C})$ of sheaves
of sets on a site.
\end{definition}

\smallskip\noindent
FIXME. What are topoi? What are morphisms of topoi? Do we need them? (Yes, in a
way.)

\smallskip\noindent
As a result some of the discussion in this project uses sites in places where
it might be more convenient to use the language of topoi. We discuss a few
of these ``inconveniences'' in this section.

\subsection{Sites and points}
\label{subsection-points}

\noindent
A point of a topos $\mathcal{S}$ is a morphism of topoi from $\text{Sets}$ to
$\mathcal{S}$. As discussed above we do not use this definition. In stead, we
somewhat akwardly define a point as follows. A point is a functor
$p : \mathcal{C} \to \text{Sets}$ such that
\begin{enumerate}
\item if $V\times_U W$ exists then $p(V\times_U W)=p(V)\times_{p(U)}p(W)$,
\item if $\{U_i \to U\}$ is a covering, then $\coprod_i p(U_i) \to p(U)$ is
surjective,
\item for any $x\in p(U)$ and $y\in p(V)$ there exists a $z\in p(W)$ and
morphisms $\alpha:W \to U$, $\beta:W \to V$ such that $p(\alpha)(z)=x$,
and $p(\beta)(z)=y$, and
\item for any pair of morphisms $f,g : V \to U$, and $y\in p(V)$ such
that $p(f)(x)=p(g)(x)$, there exists a $h: W \to V$, $z\in p(W)$ such that
$p(h)(z)=y$ and $g\circ h = f \circ h$.
\end{enumerate}
Once we have this, then we can define the stalk of a (pre)sheaf $\mathcal{F}$
at $p$ as follows
$$
\mathcal{F}_p = \lim_{(U,x)} \mathcal{F},
$$
where the limit is over the category of pairs 
$\{(U,x) \mid U \in \text{Ob}(\mathcal{C}), x\in p(U)$. The conditions
above imply this is a FIXME filtered limit. This implies that taking
stalks is an exact functor. FIXME: Need a section on limits.

\begin{lemma}
\label{lemma-points-recover}
In the situation above we have $p(U) = (U^{++})_p$. FIXME: notation.
\end{lemma}

\begin{proof}
FIXME.
\end{proof}

\noindent
We say that a site $\mathcal{C}$ has enough points if the following equivalence
is true for every morphism of sheaves of sets 
$\phi : \mathcal{F} \to \mathcal{G}$:
$$
\phi\ \text{is}\ \text{injective} 
\Leftrightarrow 
\forall p, \phi_p\ \text{is}\ \text{injective} 
$$
This will then imply the same thing for ``bijective'' and ``surjective'', and
it allows you to check exactness of sequences of sheaves of abelian groups
on stalks. (FIXME: explain?) Often sites that we work with have enough points
and it is easier to work with them, e.g., it is fairly easy to construct
injective sheaves of abelian groups on such a site.

\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
