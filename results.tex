\input{preamble}

% OK, start here.
%
\begin{document}

\title{Results on Schemes}


\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
In this chapter we start proving some basic theorems of algebraic geometry.
A basic reference is \cite{EGA}.















\section{Absolute Noetherian Approximation}
\label{section-approximation}

\noindent
See Categories, Section \ref{categories-section-posets-limits}
for our conventions regarding directed systems.

\begin{lemma}
\label{lemma-directed-inverse-system-affine schemes-has-limit}
Let $I$ be a directed partially ordered set.
Let $(S_i, f_{ii'})$ be an inverse system of
schemes over $I$.  If all the schemes $S_i$
are affine, then the limit $S = \text{lim}_i\ S_i$ exists
in the category of schemes.
In fact $S$ is affine and $S = \text{Spec}(\text{colim}_i\ R_i)$
with $R_i = \Gamma(S_i, \mathcal{O})$.
\end{lemma}

\begin{proof}
Just define $S = \text{Spec}(\text{colim}_i\ R_i)$.
It follows from Schemes, Lemma \ref{schemes-lemma-morphism-into-affine}
that $S$ is the limit even in the category of locally ringed spaces.
\end{proof}

\begin{lemma}
\label{lemma-directed-inverse-system-has-limit}
Let $I$ be a directed partially ordered set.
Let $(S_i, f_{ii'})$ be an inverse system of
schemes over $I$. If all the morphisms $f_{ii'} : S_i \to S_{i'}$
are affine, then the limit $\text{lim}_i\ S_i$ exists
in the category of schemes.
Moreover, each of the morphisms $S \to S_i$ is affine.
\end{lemma}

\begin{proof}
Choose $i_0 \in I$. (Note that $I$ is nonempty as the limit is directed.)
For convenience write $S_0 = S_{i_0}$ and $i_0 = 0$.
For every $i \geq 0$ consider the quasi-coherent sheaf of
$\mathcal{O}_{S_0}$-algebras $\mathcal{A}_i = f_{i0,*}\mathcal{O}_{S_i}$.
Recall that $S_i = \underline{\text{Spec}}_{S_0}(\mathcal{A})$,
see Morphisms, Lemma \ref{lemma-affine-equivalence-algebras}.
Set $\mathcal{A} = \text{colim}_{i \geq 0}\ \mathcal{A}_i$.
This is a quasi-coherent sheaf of $\mathcal{O}_{S_0}$-algebras,
see Schemes, Section \ref{schemes-section-quasi-coherent}.
Set $S = \underline{\text{Spec}}_{S_0}(\mathcal{A})$.
By the lemma referenced above we get for $i \geq 0$ affine morphisms
$f_i : S \to S_i$ compatible with the transition morphisms.
By Lemma \ref{lemma-directed-inverse-system-affine schemes-has-limit} above
we see that for any affine open $U_0 \subset S_0$ the
inverse image $U = f_0^{-1}(U_0) \subset S$ is the limit of the
system of opens $U_i = f_i^{-1}(U_0)$, $i \geq 0$ in the
category of schemes.

\medskip\noindent
Let $T$ be a scheme. Let $g_i : T \to S_i$ be a compatible system
of morphisms. To show that $S = \text{lim}_i\ S_i$ we have
to prove there is a unique morphism $g : T \to S$ with
$g_i = f_i \circ g$ for all $i \in I$.
For every $t \in T$ there exists an affine open
$U_0 \subset S_0$ containing $g_0(t)$. Let $V \subset g_0^{-1}(U_0)$
be an affine open neighbourhood containing $t$.
By the remarks above we obtain a unique morphism
$g_V : V \to U = f_0^{-1}(U_0)$ such that $f_i \circ g_V = g_i|_{U_i}$
for all $i$. The open sets $V \subset T$ so constructed form
a basis for the topology of $T$. Hence the morphisms $g_V$ glue to a morphism
$g : T \to S$ because of the uniqueness property. This gives the
desired morphism $g : T \to S$.
\end{proof}

\begin{lemma}
\label{lemma-limit-quasi-affine}
Let $I$ be a directed partially ordered set.
Let $(S_i, f_{ii'})$ be an inverse system of
schemes over $I$. Assume
\begin{enumerate}
\item all the morphisms $f_{ii'} : S_i \to S_{i'}$ are affine,
\item all the schemes $S_i$ are quasi-compact and quasi-separated, and
\item the limit $S = \text{lim}_i\ S_i$ is quasi-affine.
\end{enumerate}
Then for some $i_0 \in I$ the schemes $S_i$ for $i \geq i_0$
are quasi-affine.
\end{lemma}

\begin{proof}
Choose an index $i_0 \in I$. For convenience we write $S_0 = S_{i_0}$ and
$i_0 = 0$. In the proof of Lemma \ref{} we constructed
$S$ as the relative spectrum of
$\text{colim}_{i \geq 0}\ f_{i0,*}\mathcal{O}_{S_i}$.
Each morphism $f_i : S \to S_i$ is affine, in particular $f_0 : S \to S_0$
is affine.
For any $s \in S$ we may choose an affine open
$U_0 \subset S_0$ containing $f_0(s)$. Since $S$ is quasi-affine
we may choose an element $a_s \in \Gamma(S, \mathcal{O}_S)$ such
that $s \in D(a_s) \subset f_0^{-1}(U_0)$, and such that
$D(a_s)$ is affine.
Since $S_0$ is quasi-compact and quasi-separated we see that
$\Gamma(S, \mathcal{O}_S) = 
\Gamma(S_0, \text{colim}_i\ f_{i0,*}\mathcal{O}_{S_i}) =
\text{colim}_i\ \Gamma(S_0, f_{i0,*}\mathcal{O}_{S_i}) =
\text{colim}_i\ \Gamma(S_i, \mathcal{O}_{S_i})$,
see Modules, Lemma \ref{}.
Hence there exists an $i \geq 0$ such that $a_s$
comes from an element $a_{s, i} \in \Gamma(S_i, \mathcal{O}_{S_i})$.
For any $j \geq i$, $j \in I$ we denote $a_{s, j}$
the image of $a_{s, i}$ in the global sections of the
structure sheaf of $S_j$.
Consider the opens $D(a_{s, j}) \subset S_j$
and $U_j = f_{j0}^{-1}(U_0)$. By construction we have that
$D(a_s) \subset f_0^{-1}(U_0)$.
This means that the limit of the schemes
$D(a_{s,j}) \setminus U_j$ is empty.






\end{proof}



\begin{lemma}
\label{lemma-approximate}
Let $S$ be a quasi-compact and quasi-separate scheme.
There exist a directed partially ordered set $I$
and an inverse system of schemes $(S_i, f_{ii'})$ over $I$
such that
\begin{enumerate}
\item the transition morphisms $f_{ii'}$ are affine
\item each $S_i$ is of finite type over $\mathbf{Z}$, and
\item $S = \text{lim}_i\ S_i$.
\end{enumerate}
\end{lemma}

\begin{proof}
Choose an affine open covering $S = \bigcup_{j = 1, \ldots, m} U_j$
with $m$ minimal. We will prove the lemma by induction on $m$.
The lemma is obvious when $m = 1$ since any ring is the
directed colimit of its finitely generated $\mathbf{Z}$-subalgebras.

\medskip\noindent
Hence we may assume that
Write $U_i = \text{Spec}(R_i)$.


For each $1 \leq i < j \leq n$ choose a finite collection
of opens $W_{ijk} \subset U_i \cap U_j$, $k = 1, \ldots, n_{i,j}$
such that $U_i \cap U_j = \bigcup W_{ijk}$ and such that
$W_{ijk}$ is a standard affine open of both $U_i$ and $U_j$.
Choose $f_{ijk} \in R_i$ such that $W_{ijk} = D(f_{ijk})$ as opens
of $U_i = \text{Spec}(R_i)$.
Choose $g_{ijk} \in R_j$ such that $W_{ijk} = D(g_{ijk})$ as opens
of $U_j = \text{Spec}(R_j)$.





\end{proof}











\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
