\input{preamble}

% OK, start here.
%
\begin{document}

\title{Etale Cohomology: fpqc}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents









\section{The fpqc topology}
\label{section-fpqc}
%9.15.09

\noindent
Before doing etale cohomology we study a bit the fpqc topology, since
it works well for quasi-coherent sheaves.

\begin{definition}
\label{definition-fpqc-covering}
Let $T$ be a scheme. An {\it fpqc covering} of $T$ is a family
$\{ \varphi_i : T_i \to T\}_{i \in I}$ such that
\begin{enumerate}
\item each $\varphi_i$ is a flat morphism and
$\bigcup_{i\in I} \varphi_i(T_i) = T$, and
\item for each affine open $U \subset T$ there exists a finite
set $K$, a map $\mathbf{i} : K \to I$ and affine opens
$U_{\mathbf{i}(k)} \subset T_{\mathbf{i}(k)}$ such that
$U = \bigcup_{k \in K} \varphi_{\mathbf{i}(k)}(U_{\mathbf{i}(k)})$.
\end{enumerate}
\end{definition}

\begin{remark}
\label{remark-fpqc}
The first condition corresponds to fp, which stands for
{\it fid\`element plat}, faithfully flat in french, and
the second to qc, {\it quasi-compact}. The second part of
the first condition is unnecessary when the second condition holds.
\end{remark}

\begin{example}
\label{example-fpqc-coverings}
Examples of fpqc coverings.
\begin{enumerate}
\item Any Zariski open covering of $T$ is an fpqc covering.
\item A family $\{\text{Spec}(B) \to \text{Spec}(A)\}$ is an fpqc
covering if and only if $A \to B$ is a faithfully flat ring map.
\item If $f: X \to Y$ is flat, surjective and quasi-compact, then $\{ f: X\to
Y\}$ is an fpqc covering.
\item The morphism
$\varphi :
\coprod_{x \in \mathbf{A}^1_k} \text{Spec}(\mathcal{O}_{\mathbf{A}^1_k,x})
\to \mathbf{A}^1_k$,
where $k$ is a field, is flat and surjective. It is not quasi-compact, and
in fact the family $\{\varphi\}$ is not an fpqc covering.
\item Write
$\mathbf{A}^2_k = \text{Spec}(k[x,y])$. Denote $i_x : D(x) \to \mathbf{A}^2_k$
and $i_y : D(y) \hookrightarrow \mathbf{A}^2_k$ the standard opens.
Then the families
$\{i_x, i_y, \text{Spec}(k[[x,y]]) \to \mathbf{A}^2_k\}$
and
$\{i_x, i_y, \text{Spec}(\mathcal{O}_{\mathbf{A}^2_k,0}) \to \mathbf{A}^2_k\}$
are fpqc coverings.
\end{enumerate}
\end{example}

\begin{lemma}
\label{lemma-site-fpqc}
The collection of fpqc coverings on the category of schemes
satisfies the axioms of site.
\end{lemma}

\begin{proof}
See Topologies, Lemma \ref{topologies-lemma-fpqc}.
\end{proof}

\noindent
It seems that this lemma allows us to define the fpqc site of the category
of schemes. However, there is a set theoretical problem that comes up when
considering the fpqc topology, see
Topologies, Section \ref{section-fpqc}.
It comes from our requirement that sites are ``small'', but that no small
category of schemes can contain a cofinal system of fpqc coverings of a
given nonempty scheme. Allthough this does not strictly speaking prevent
us from defining  ``partial'' fpqc
sites, it does not seem prudent to do so. The work-around is to allow
the notion of a sheaf for the fpqc topology (see below) but to prohibit
considering the category of all fpqc sheaves.

\begin{definition}
\label{definition-sheaf-property-fpqc}
Let $S$ be a scheme. The category of schemes over $S$ is denoted
$\textit{Sch}/S$. Consider a functor
$\mathcal{F} : (\textit{Sch}/S)^{opp} \to \textit{Sets}$, in other words
a presheaf of sets. We say $\mathcal{F}$
{\it satisfies the sheaf property for the fpqc topology}
if for every fpqc covering $\{U_i \to U\}_{i \in I}$ of schemes over $S$
the diagram (\ref{equation-sheaf-axiom}) is an equalizer diagram.
\end{definition}

\noindent
We similarly say that $\mathcal{F}$
{\it satisfies the sheaf property for the Zariski topology} if for
every open covering $U = \bigcup_{i \in I} U_i$ the diagram
(\ref{equation-sheaf-axiom}) is an equalizer diagram. See
Schemes, \ref{schemes-definition-representable-by-open-immersions}.
Clearly, this is equivalent to saying that for every scheme $T$ over $S$ the
restriction of $\mathcal{F}$ to the opens of $T$ is a (usual) sheaf.

\begin{lemma}
\label{lemma-fpqc-sheaves}
Let $\mathcal{F}$ be a presheaf on $\textit{Sch}/S$. Then
$\mathcal{F}$ satisfies the sheaf property for the fpqc topology
if and only if
\begin{enumerate}
\item $\mathcal{F}$ satisfies the sheaf property with respect to the
Zariski topology, and
\item for every faithfully flat morphism $\text{Spec}(B) \to \text{Spec}(A)$
of affine schemes over $S$, the sheaf axiom holds for the covering
$\{\text{Spec}(B) \to \text{Spec}(A)\}$. Namely, this means that
$$
\xymatrix{
\mathcal{F}(\text{Spec}(A)) \ar[r] &
\mathcal{F}(\text{Spec}(B)) \ar@<1ex>[r] \ar@<-1ex>[r] &
\mathcal{F}(\text{Spec}(B \otimes_A B))
}
$$
is an equalizer diagram.
\end{enumerate}
\end{lemma}

\begin{proof}
See Topologies, Lemma \ref{topologies-lemma-sheaf-property-fpqc}.
\end{proof}

\noindent
An alternative way to think of a presheaf $\mathcal{F}$ on
$\textit{Sch}/S$ which satisfies the sheaf condition for the
fpqc topology is as the following data:
\begin{enumerate}
\item for each $T/S$, a usual (i.e., Zariski) sheaf $\mathcal{F}_T$ on
$T_{\mathrm{Zar}}$,
\item for every map $f : T' \to T$ over $S$, a restriction mapping
$f^{-1}\mathcal{F}_T \to \mathcal{F}_{T'}$
\end{enumerate}
such that
\begin{enumerate}
\item[(a)] the restriction mappings are functorial,
\item[(b)] if $f : T' \to T$ is an open immersion then the restriction
mapping $f^{-1}\mathcal{F}_T \to \mathcal{F}_{T'}$ is an isomorphism, and
\item[(c)] for every faithfully flat morphism
$\text{Spec}(B) \to \text{Spec}(A)$ over $S$, the diagram
$$
\xymatrix{
\mathcal{F}_{\text{Spec}(A)}(\text{Spec}(A)) \ar[r] &
\mathcal{F}_{\text{Spec}(B)}(\text{Spec}(B)) \ar@<1ex>[r] \ar@<-1ex>[r] &
\mathcal{F}_{\text{Spec}(B \otimes_A B)}(\text{Spec}(B \otimes_A B))
}
$$
is an equalizer.
\end{enumerate}
Data (1) and (2) and conditions (a), (b) give the data of a presheaf
on $\textit{Sch}/S$ satisfying the sheaf condition for the Zariski topology.
By Lemma \ref{lemma-fpqc-sheaves} condition (c) then suffices to get the
sheaf condition for the fpqc topology.

\begin{example}
\label{example-quasi-coherent}
Consider the presheaf
$$
\begin{matrix}
\mathcal{F} : & (\textit{Sch}/S)^{opp} & \longrightarrow & \textit{Ab} \\
& T/S & \longmapsto & \Gamma(T, \Omega^1_{T/S}).
\end{matrix}
$$
The compatibility of differentials with localization implies that
$\mathcal{F}$ is a sheaf on the Zariski site.
However, it does not satisfy the sheaf condition for the fpqc topology.
Namely, consider the case
$S = \text{Spec}(\mathbf{F}_p)$ and the morphism
$$
\varphi :
V = \text{Spec}(\mathbf{F}_p[v])
\to
U = \text{Spec}(\mathbf{F}_p[u])
$$
given by mapping $u$ to $v^p$. The family $\{\varphi\}$ is an fpqc covering,
yet the restriction mapping
$\mathcal{F}(U) \to \mathcal{F}(V)$
sends the generator $\mathrm{d} u$ to $\mathrm{d}(v^p)
= 0$, so it is the zero map, and the diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]^{0} &
\mathcal{F}(V) \ar@<1ex>[r] \ar@<-1ex>[r] &
\mathcal{F}(V \times_U V)
}
$$
is not an equalizer. We will see later that $\mathcal{F}$ does in fact
give rise to a sheaf on the \'etale and smooth sites.
\end{example}

\begin{lemma}
\label{lemma-representable-sheaf-fpqc}
Any representable presheaf on $\textit{Sch}/S$ satisfies the
sheaf condition for the fpqc topology.
\end{lemma}

\begin{proof}
See
Descent, Lemma \ref{descent-lemma-fpqc-universal-effective-epimorphisms}.
\end{proof}

\noindent
We will return to this later, since the proof of this fact uses
descent for quasi-coherent sheaves, which we will discuss in the next
section. A fancy way of expressing the lemma is to say that
{\it the fpqc topology is weaker than the canonical topology}, or
that the fpqc topology is {\it subcanonical}. In the setting of sites
this is discussed in
Sites, Section \ref{sites-section-representable-sheaves}.

\begin{remark}
\label{remark-fpqc-finest}
The fpqc is the finest topology that we will see. Hence any presheaf
satisfying the sheaf condition for the fpqc topology will be a
sheaf in the subsequent sites (\'etale, smooth, etc). In particular
representable presheaves will be sheaves on the etale site of a scheme
for example.
\end{remark}

\begin{example}
\label{example-additive-group-sheaf}
Let $S$ be a scheme.
Consider the additive group scheme $\mathbf{G}_{a,S} = \mathbf{A}^1_S$
over $S$, see
Groupoids, Example \ref{groupoids-example-additive-group}.
The associated representable presheaf is given by
$$
h_{\mathbf{G}_{a,S}}(T) =
\text{Mor}_S(T, \mathbf{G}_{a,S}) =
\Gamma(T,\mathcal{O}_T).
$$
By the above we now know that this is a presheaf of sets which satisfies the
sheaf condition for the fpqc topology. On the other hand, it is clearly
a presheaf of rings as well. Hence we can think of this as a functor
$$
\begin{matrix}
\mathcal{O} : &
(\textit{Sch}/S)^{opp} &
\longrightarrow &
\textit{Rings} \\
&
T/S &
\longmapsto &
\Gamma(T, \mathcal{O}_{T})
\end{matrix}
$$
which satisfies the sheaf condition for the fpqc topology.
Correspondingly there is a notion of $\mathcal{O}$-module, and so on and
so forth.
\end{example}




\section{Faithfully flat descent}
\label{section-fpqc-descent}

\begin{definition}
\label{definition-descent-datum}
Let $\mathcal{U} = \{ t_i : T_i \to T\}_{i \in I}$ be a family of
morphisms of schemes with fixed target. A {\it descent datum} for
quasi-coherent sheaves with respect to
$\mathcal{U}$ is a family $(\mathcal{F}_i, \varphi_{ij})_{i,j\in I}$ where
\begin{enumerate}
\item for all $i$, $\mathcal{F}_i$ is a quasi-coherent sheaf on $T_i$ ; and
\item for all $i, j \in I$ the map
$\varphi_{ij} : \text{pr}_0^* \mathcal{F}_i \cong \text{pr}_1^* \mathcal{F}_j$
is an isomorphism on $T_i \times_T T_j$ such that the diagrams
$$
\xymatrix{
{\text{pr}_0^* \mathcal{F}_i} \ar_{\text{pr}_{02}^*\varphi_{ik}}[dr]
\ar^{\text{pr}_{01}^*\varphi_{ij}}[rr] & & {\text{pr}_1^*
\mathcal{F}_j}\ar^{\text{pr}_{12}^*\varphi_{jk}}[dl] \\
& {\text{pr}_2^* \mathcal{F}_k}
}
$$
commute on $T_i \times_T T_j \times_T T_k$.
\end{enumerate}
This descent datum is called {\it effective} if there exist a quasi-coherent
sheaf $\mathcal{F}$ over $T$ and $\mathcal{O}_{T_i}$-module isomorphisms
$\varphi_i : t_i^* \mathcal{F} \cong \mathcal{F}_i$ satisfying the cocycle
condition, namely
$$
\varphi_{ij} = \text{pr}_1^* (\varphi_j) \circ \text{pr}_0^* (\varphi_i)^{-1}.
$$
\end{definition}

\noindent
In this and the next section we discuss some ingredients of the proof
of the following theorem, as well as some related material.

\begin{theorem}
\label{theorem-descent-quasi-coherent}
If $\mathcal{V} = \{T_i \to T\}_{i\in I}$ is an fpqc covering, then all
descent data for quasi-coherent sheaves with respect to $\mathcal{V}$
are effective.
\end{theorem}

\begin{proof}
See
Descent, Propostion \ref{descent-proposition-fpqc-descent-quasi-coherent}.
\end{proof}

\noindent
In other words, the fibered category of quasi-coherent sheaves is a stack on
the fpqc site.
The proof of the theorem is in two steps. The first one is to realize that for
Zariski coverings this is easy (or well-known) using standard glueing of
sheaves (see
Sheaves, Section \ref{sheaves-section-glueing-sheaves})
and the locality of quasi-coherence. The second step is the case of an
fpqc covering of the form $\{\text{Spec}(B) \to \text{Spec}(A)\}$
where $A \to B$ is a faithfully flat ring map.
This is a lemma in algebra, which we now present.

\medskip\noindent
{\bf Descent of modules.}
If $A \to B$ is a ring map, we consider the complex
$$
(B/A)_\bullet : \qquad B \to B\otimes_A B \to B\otimes_A B \otimes_A B \to
\cdots
$$
where $B$ is in degree 0, $B\otimes_A B$ in degree 1, etc, and the maps are
given by
\begin{eqnarray*}
b & \mapsto & 1 \otimes b - b \otimes 1, \\
b_0 \otimes b_1 & \mapsto & 1 \otimes b_0 \otimes b_1 - b_0 \otimes 1 \otimes
b_1 + b_0 \otimes b_1 \otimes 1, \\
& \text{etc.}
\end{eqnarray*}

\begin{lemma}
\label{lemma-algebra-descent}
If $A \to B$ is faithfully flat, then the complex $(B/A)_\bullet$ is exact in
positive degrees, and $H^0((B/A)_\bullet) = A$.
\end{lemma}

\begin{proof}
See Descent, Lemma \ref{descent-lemma-ff-exact}.
\end{proof}

\noindent
Grothendieck proves this in three steps. Firstly, he assumes that the map $A
\to B$ has a section, and constructs an explicit homotopy to the complex where
$A$ is the only nonzero term, in degree 0. Secondly, he observes that to prove
the result, it suffices to do so after a faithfully flat base change $A \to
A'$, replacing $B$ with $B' = B \otimes_A A'$. Thirdly, he applies the
faithfully flat base change $A \to A' =B$ and remarks that the map $A' = B \to
B' = B\otimes_A B$ has a natural section.

\medskip\noindent
The same strategy proves the following lemma.

\begin{lemma}
\label{lemma-descent-modules}
If $A \to B$ is faithfully flat and $M$ is an $A$-module, then the
complex $(B/A)_\bullet \otimes_A M$ is exact in positive degrees, and
$H^0((B/A)_\bullet \otimes_A M) = M$.
\end{lemma}

\begin{proof}
See Descent, Lemma \ref{descent-lemma-ff-exact}.
\end{proof}

\begin{definition}
\label{definition-descent-datum-modules}
Let $A \to B$ be a ring map and $N$ a $B$-module. A {\it descent datum} for
$N$ with respect to $A \to B$ is an isomorphism $\varphi: N\otimes_A B \cong
B\otimes_A N$ of $B\otimes_A B$-modules such that the diagram of $B\otimes_A B
\otimes_A B$-modules
$$
\xymatrix{
{N \otimes_A B \otimes_A B} \ar_{\varphi_{01}}[dr] \ar^{\varphi_{02}}[rr] & &
{B \otimes_A N \otimes_A B}\ar^{\varphi_{12}}[dl] \\
& {B \otimes_A B \otimes_A N}
}
$$
commutes.
\end{definition}

\noindent
If $N' = B \otimes_A M$ for some $A$-module M, then it has a canonical descent
datum given by the map
$$
\begin{matrix}
\varphi_\text{can}: & N' \otimes_A B & \to & B \otimes_A N' \\
& b_0 \otimes m \otimes b_1 & \mapsto & b_0 \otimes b_1 \otimes m.
\end{matrix}
$$

\begin{definition}
\label{definition-effective-modules}
A descent datum $(N,\varphi)$ is called {\it effective} if there exists an
$A$-module $M$ such that $(N,\varphi) \cong (B\otimes_A M,
\varphi_\text{can})$, with the obvious notion of isomorphism of descent data.
\end{definition}

\noindent
Theorem \ref{theorem-descent-quasi-coherent} is a consequence the
following result.

\begin{theorem}
\label{theorem-descent-modules}
If $A \to B$ is faithfully flat then all descent data with respect to $A\to B$
is effective.
\end{theorem}

\begin{proof}
See
Descent, Proposition \ref{descent-proposition-descent-module}.
See also
Descent, Remark \ref{descent-remark-homotopy-equivalent-cosimplicial-algebras}
for an alternative view of the proof.
\end{proof}

\begin{remarks}
\label{remarks-theorem-modules-exactness}
The results on descent of modules have several applications:
\begin{enumerate}
\item The exactness of the \u Cech complex in positive degrees for
the covering $\{\text{Spec}(B) \to \text{Spec}(A)\}$ where $A \to B$ is
faithfully flat. This will give some vanishing of cohomology.
\item If $(N,\varphi)$ is a descent datum with respect to a faithfully
flat map $A \to B$, then the corresponding $A$-module is given by
$$
M = \ker \left(
\begin{matrix}
N & \longrightarrow & B\otimes_A N \\
n & \longmapsto & 1 \otimes n - \varphi(n\otimes 1)
\end{matrix}
\right).
$$
See
Descent, Proposition \ref{descent-proposition-descent-module}.
\end{enumerate}
\end{remarks}




%9.17.09
\section{Quasi-coherent sheaves}
\label{section-quasi-coherent}

\noindent
We can apply the descent of modules to study quasi-coherent sheaves.

\begin{proposition}
\label{proposition-quasi-coherent-sheaf-fpqc}
For any quasi-coherent sheaf $\mathcal{F}$ on $S$ the presheaf
$$
\begin{matrix}
\mathcal{F}^a : & \textit{Sch}/S & \to & \textit{Ab}\\
& (f: T \to S) &\mapsto & \Gamma(T, f^*\mathcal{F})
\end{matrix}
$$
is an $\mathcal{O}$-module which satisfies the sheaf condition for the
fpqc topology.
\end{proposition}

\begin{proof}
This is proved in
Descent, Lemma \ref{descent-lemma-sheaf-condition-holds}.
We indicate the proof here. As established in
Lemma \ref{lemma-fpqc-sheaves},
it is enough to check the sheaf property
on Zariski coverings and faithfully flat morphisms of affine schemes. The
sheaf property for Zariski coverings is standard scheme theory, since
$\Gamma(U, i^\ast \mathcal{F}) = \mathcal{F}(U)$ when
$i : U \hookrightarrow S$ is an open immersion.

\medskip\noindent
For $\left\{\text{Spec}(B)\to \text{Spec}(A)\right\}$ with $A\to B$ faithfully
flat and
$\mathcal{F}|_{\text{Spec}(A)} = \widetilde{M}$
this corresponds to the fact that
$M = H^0\left((B/A)_\bullet\otimes_AM \right)$, i.e., that
\begin{align*}
0 \to M \to B\otimes_A M \to B\otimes_A B \otimes_A M
\end{align*}
is exact by
Lemma \ref{lemma-descent-modules}.
\end{proof}

\noindent
There is an abstract notion of a quasi-coherent sheaf on a ringed site.
We briefly introduce this here. For more information please consult
Modules on Sites, Section \ref{sites-modules-section-local}.
Let $\mathcal{C}$ be a category, and let $U$ be an object of $\mathcal{C}$.
Then $\mathcal{C}/U$ indicates the category of objects over $U$, see
Categories, Example \ref{categories-example-category-over-X}.
If $\mathcal{C}$ is a site, then $\mathcal{C}/U$ is a site as well, namely
the coverings of $V/U$ are families $\{V_i/U \to V/U\}$ of morphisms
of $\mathcal{C}/U$ with fixed target such that
$\{V_i \to V\}$ is a covering of $\mathcal{C}$. Moreover, given any
sheaf $\mathcal{F}$ on $\mathcal{C}$ the {\it restriction}
$\mathcal{F}|_{\mathcal{C}/U}$ (defined in the obvious manner)
is a sheaf as well. See
Sites, Section \ref{sites-section-localization}
for details.

\begin{definition}
\label{definition-ringed-site}
Let $\mathcal{C}$ be a {\it ringed site}, i.e., a site endowed with a
sheaf of rings $\mathcal{O}$. A sheaf of $\mathcal{O}$-modules $\mathcal{F}$ on
$\mathcal{C}$ is called {\it quasi-coherent} if for all
$U \in \text{Ob}(\mathcal{C})$ there exists a covering
$\{U_i \to U\}_{i\in I}$ of $\mathcal{C}$ such that the restriction
$\mathcal{F}|_{\mathcal{C}/U_i}$ is isomorphic to the cokernel of
an $\mathcal{O}$-linear map of free $\mathcal{O}$-modules
$$
\bigoplus\nolimits_{k \in K} \mathcal{O}|_{\mathcal{C}/U_i}
\longrightarrow
\bigoplus\nolimits_{l \in L} \mathcal{O}|_{\mathcal{C}/U_i}.
$$
The direct sum over $K$ is the sheaf associated to the presheaf
$V \mapsto \bigoplus_{k \in K} \mathcal{O}(V)$ and similary for the other.
\end{definition}

\noindent
Allthough it is useful to be able to give a general definition as above
this notion is not well behaved in general.

\begin{remark}
\label{remark-final-object}
In the case where $\mathcal{C}$ has a final object, e.g.\ $S$, it
suffices to check the condition of the definition for
$U = S$ in the above statement. See
Modules on Sites, Lemma \ref{sites-modules-lemma-local-final-object}.
\end{remark}

\begin{theorem}
\label{theorem-quasi-coherent}
(Meta theorem on quasi-coherent sheaves.)
Let $S$ be a scheme.
Let $\mathcal{C}$ be a site. Assume that
\begin{enumerate}
\item the underlying category $\mathcal{C}$ is a
full subcategory of $\textit{Sch}/S$,
\item any Zariski covering of $T \in \text{Ob}(\mathcal{C})$
can be refined by a covering of $\mathcal{C}$,
\item $S/S$ is an object of $\mathcal{C}$,
\item every covering of $\mathcal{C}$ is an fpqc covering of schemes.
\end{enumerate}
Then the presheaf $\mathcal{O}$ is a sheaf on $\mathcal{C}$ and
any quasi-coherent $\mathcal{O}$-module on $(\mathcal{C}, \mathcal{O})$
is of the form $\mathcal{F}^a$ for some quasi-coherent sheaf
$\mathcal{F}$ on $S$.
\end{theorem}

\begin{proof}
After some formal arguments this is exactly Theorem
\ref{theorem-descent-quasi-coherent}. Details omitted. In
Descent, Proposition \ref{descent-proposition-equivalence-quasi-coherent}
we prove a more precise version of the theorem for the
big Zariski, fppf, \'etale, smooth, and syntomic sites of $S$,
as well as the small Zariski and \'etale sites of $S$.
\end{proof}

\noindent
In other words, there is no difference between quasi-coherent
modules on the scheme $S$ and quasi-coherent $\mathcal{O}$-modules
on sites $\mathcal{C}$ as in the theorem. More precise statements
for the big and small sites $(\textit{Sch}/S)_{fppf}$, $S_{etale}$, etc
can be found in
Descent, Section \ref{descent-section-quasi-coherent-sheaves}.
In this chapter we will sometimes refer to a
``site as in Theorem \ref{theorem-quasi-coherent}''
in order to conveniently state results which hold in any of those
situations.






\section{\u Cech cohomology}
\label{section-cech-cohomology}

\noindent
Our next goal is to use descent theory to show that
$H^i(\mathcal{C}, \mathcal{F}^a) = H_{Zar}^i(S, \mathcal{F})$
for all quasi-coherent sheaves $\mathcal{F}$ on $S$, and
any site $\mathcal{C}$ as in Theorem \ref{theorem-quasi-coherent}.
To this end, we introduce \u Cech cohomology on sites.
See \cite{ArtinTopologies} and
Cohomology of Sites, Sections \ref{sites-cohomology-section-cech},
\ref{sites-cohomology-section-cech-functor}
and \ref{sites-cohomology-section-cech-cohomology-cohomology}
for more details.

\begin{definition}
\label{definition-cech-complex}
Let $\mathcal{C}$ be a category,
$\mathcal{U} = \{U_i \to U\}_{i \in I}$ a family of morphisms of $\mathcal{C}$
with fixed target, and $\mathcal{F} \in \textit{PAb}(\mathcal{C})$ an abelian
presheaf. We define the {\it \u Cech complex}
$\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F})$ by
$$
\prod_{i_0\in I} \mathcal{F}(U_{i_0}) \to
\prod_{i_0, i_1\in I} \mathcal{F}(U_{i_0}\times_U U_{i_1}) \to
\prod_{i_0, i_1, i_2 \in I}
\mathcal{F}(U_{i_0}\times_U U_{i_1} \times_U U_{i_2}) \to \cdots
$$
where the first term is in degree 0, and the maps are the usual ones. Again, it
is essential to allow the case $i_0 = i_1$ etc. The
{\it \u Cech cohomology groups} are defined by
$$
\check{H}^p(\mathcal{U}, \mathcal{F}) =
H^p(\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F})).
$$
\end{definition}

\begin{lemma}
\label{lemma-cech-presheaves}
The functor $\check{\mathcal{C}}^\bullet(\mathcal{U}, -)$
is exact on the category $\textit{PAb}(\mathcal{C})$.
\end{lemma}	

\noindent
In other words, if $0\to \mathcal{F}_1\to \mathcal{F}_2\to \mathcal{F}_3\to 0$
is a short exact sequence of presheaves of abelian groups, then
$$
0 \to \check{\mathcal{C}}^\bullet\left(\mathcal{U}, \mathcal{F}_1\right)
\to\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F}_2) \to
\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F}_3)\to 0
$$
is a short exact sequence of complexes.

\begin{proof}
This follows at once from the definition of a short exact sequence of
presheaves. Namely, as the category of abelian presheaves is the category of
functors on some category with values in $\textit{Ab}$, it is automatically an
abelian category: a sequence $\mathcal{F}_1\to \mathcal{F}_2\to \mathcal{F}_3$
is exact in $\textit{PAb}$ if and only if for all
$U \in \text{Ob}(\mathcal{C})$, the sequence
$\mathcal{F}_1(U) \to \mathcal{F}_2(U) \to \mathcal{F}_3(U)$ is exact in
$\textit{Ab}$. So the complex above is merely a product of short exact
sequences in each degree. See also
Cohomology on Sites, Lemma \ref{sites-cohomology-lemma-cech-exact-presheaves}.
\end{proof}

\noindent
This shows that $\check{H}^\bullet(\mathcal{U}, -)$ is a $\delta$-functor.
We now proceed to show that it is a universal $\delta$-functor. We thus need to
show that it is an {\it effaceable} functor. We start by recalling the Yoneda
lemma.

\begin{lemma}
\label{lemma-yoneda-presheaf}
(Yoneda Lemma)
For any presheaf $\mathcal{F}$ on a category $\mathcal{C}$ there is a
functorial isomophism
$$
\text{Hom}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F}) =
\mathcal{F}(U).
$$
\end{lemma}

\begin{proof}
See Categories, Lemma \ref{categories-lemma-yoneda}.
\end{proof}

\noindent
Given a set $E$ we denote (in this section)
$\mathbf{Z}[E]$ the free abelian group on $E$. In a formula
$\mathbf{Z}[E] = \bigoplus_{e \in E} \mathbf{Z}$, i.e., $\mathbf{Z}[E]$ is
a free $\mathbf{Z}$-module having a basis consisting of the elements of $E$.
Using this notation we introduce the free abelian presheaf on a
presheaf of sets.

\begin{definition}
\label{definition-free-abelian-presheaf}
Let $\mathcal{C}$ be a category.
Given a presheaf of sets $\mathcal{G}$, we define the
{\it free abelian presheaf on $\mathcal{G}$},
denoted $\mathbf{Z}_{\mathcal{G}}$, by the rule
$$
\mathbf{Z}_{\mathcal{G}}(U)
=
\mathbf{Z}[\mathcal{G}(U)]
$$
for $U \in \text{Ob}(\mathcal{C})$
with restriction maps induced by the restriction maps of $\mathcal{G}$.
In the special case $\mathcal{G} = h_U$ we write simply
$\mathbf{Z}_U = \mathbf{Z}_{h_U}$.
\end{definition}

\noindent
The functor $\mathcal{G} \mapsto \mathbf{Z}_\mathcal{G}$ is left adjoint to the
forgetful functor $\textit{PAb}(\mathcal{C}) \to \textit{PSh}(\mathcal{C})$.
Thus, for any presheaf $\mathcal{F}$, there is a canonical isomorphism
$$
\text{Hom}_{\textit{PAb}(\mathcal{C})}(\mathbf{Z}_U, \mathcal{F})
=
\text{Hom}_{\textit{PSh}(\mathcal{C})}(h_U, \mathcal{F})
=
\mathcal{F}(U)
$$
the last equality by the Yoneda lemma. In particular, we have the following
result.

\begin{lemma}
\label{lemma-cech-complex-describe}
The \u Cech complex $\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F})$
can be described explicitly as follows
\begin{eqnarray*}
\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F})
& = &
\left(
\prod_{i_0 \in I}
\text{Hom}_{\textit{PAb}(\mathcal{C})}(\mathbf{Z}_{U_{i_0}}, \mathcal{F}) \to
\prod_{i_0, i_1 \in I}
\text{Hom}_{\textit{PAb}(\mathcal{C})}(
\mathbf{Z}_{U_{i_0} \times_U U_{i_1}}, \mathcal{F}) \to \ldots
\right) \\
& = &
\text{Hom}_{\textit{PAb}(\mathcal{C})}\left(
\left(
\displaystyle
\bigoplus_{i_0 \in I} \mathbf{Z}_{U_{i_0}} \leftarrow
\bigoplus_{i_0, i_1 \in I} \mathbf{Z}_{U_{i_0}\times_U U_{i_1}} \leftarrow
\ldots
\right), \mathcal{F}\right)
\end{eqnarray*}
\end{lemma}

\begin{proof}
This follows from the formula above. See
Cohomology on Sites, Lemma \ref{sites-cohomology-lemma-cech-map-into}.
\end{proof}

\noindent
This reduces us to studying only the complex in the first argument of the
last $\text{Hom}$.

\begin{lemma}
\label{lemma-exact}
The complex of abelian presheaves
\begin{align*}
\mathbf{Z}_{\mathcal{U}}^\bullet \quad : \quad
\bigoplus_{i_0 \in I} \mathbf{Z}_{U_{i_0}} \leftarrow
\bigoplus_{i_0, i_1 \in I} \mathbf{Z}_{U_{i_0} \times_U U_{i_1}} \leftarrow
\bigoplus_{i_0, i_1, i_2 \in I}
\mathbf{Z}_{U_{i_0} \times_U U_{i_1} \times_U U_{i_2}} \leftarrow
\ldots
\end{align*}
is exact in all degrees except $0$ in $\textit{PAb}(\mathcal{C})$.
\end{lemma}

\begin{proof}
For any $V\in \text{Ob}(\mathcal{C})$ the complex of abelian groups
$\mathbf{Z}_{\mathcal{U}}^\bullet(V)$ is
$$
\begin{matrix}
\displaystyle
\mathbf{Z}\left[
\coprod_{i_0\in I} \text{Mor}_{\mathcal{C}}(V, U_{i_0})\right]
\leftarrow
\mathbf{Z}\left[
\coprod_{i_0, i_1 \in I}
\text{Mor}_{\mathcal{C}}(V, U_{i_0} \times_U U_{i_1})\right]
\leftarrow \ldots = \\
\displaystyle
\bigoplus_{\varphi: V \to U}
\left(
\mathbf{Z}\left[\coprod_{i_0 \in I} \text{Mor}_\varphi(V, U_{i_0})\right]
\leftarrow
\mathbf{Z}\left[\coprod_{i_0, i_1\in I} \text{Mor}_\varphi(V, U_{i_0}) \times
\text{Mor}_\varphi(V, U_{i_1})\right]
\leftarrow
\ldots
\right)
\end{matrix}
$$
where
$$
\text{Mor}_{\varphi}(V, U_i)
=
\{ V \to U_i \text{ such that } V \to U_i \to U \text{ equals } \varphi \}.
$$
Set $S_\varphi = \coprod_{i\in I} \text{Mor}_\varphi(V, U_i)$, so that
$$
\mathbf{Z}_\mathcal{U}^\bullet(V)
=
\bigoplus_{\varphi: V \to U}
\left(
\mathbf{Z}[S_\varphi] \leftarrow
\mathbf{Z}[S_\varphi \times S_\varphi] \leftarrow
\mathbf{Z}[S_\varphi \times S_\varphi \times S_\varphi] \leftarrow
\ldots \right).
$$
Thus it suffices to show that for each $S = S_\varphi$, the complex
\begin{align*}
\mathbf{Z}[S] \leftarrow
\mathbf{Z}[S \times S] \leftarrow
\mathbf{Z}[S \times S \times S] \leftarrow \ldots
\end{align*}
is exact in negative degrees. To see this, we can give an explicit homotopy.
Fix $s\in S$ and define $K: n_{(s_0, \ldots, s_p)} \mapsto n_{(s, s_0,
\ldots, s_p)}.$ One easily checks that $K$ is a nullhomotopy for the operator
$$
\delta :
\eta_{(s_0,\ldots,s_p)}
\mapsto
\sum\nolimits_{i=0}^p (-1)^p \eta_{(s_0,\ldots, \hat s_i,\ldots, s_p)}.
$$
See
Cohomology on Sites, Lemma \ref{sites-cohomology-lemma-homology-complex}
for more details.
\end{proof}

\begin{lemma}
\label{lemma-hom-injective}
Let $\mathcal{C}$ be a category. If $\mathcal{I}$ is an injective object of
$\textit{PAb}(\mathcal{C})$ and $\mathcal{U}$ is a family of morphisms with
fixed target in $\mathcal{C}$, then $\check H^p(\mathcal{U}, \mathcal{I}) = 0$
for all $p>0$.
\end{lemma}

\begin{proof}
The \u Cech complex is the result of applying the functor
$\text{Hom}_{\textit{PAb}(\mathcal{C})}(-, \mathcal{I}) $ to the complex $
\mathbf{Z}^\bullet_\mathcal{U} $, i.e.,
$$
\check H^p(\mathcal{U} ; \mathcal{I}) = H^p
(\text{Hom}_{\textit{PAb}(\mathcal{C})} (\mathbf{Z}^\bullet_\mathcal{U},
\mathcal{I})).
$$
But we have just seen that $\mathbf{Z}^\bullet_\mathcal{U}$ is exact in
negative degrees, and the functor $\text{Hom}_{\textit{PAb}(\mathcal{C})}(-,
\mathcal{I})$ is exact, hence $\text{Hom}_{\textit{PAb}(\mathcal{C})}
(\mathbf{Z}^\bullet_\mathcal{U}, \mathcal{I})$ is exact in positive degrees.
\end{proof}

\begin{theorem}
\label{theorem-cech-derived}
On $\textit{PAb}(\mathcal{C})$ the functors $\check{H}^p(\mathcal{U}, -)$ are
the right derived functors of $\check{H}^0(\mathcal{U}, -)$.
\end{theorem}

\begin{proof}
By the lemma \ref{lemma-hom-injective}, the functors $\check
H^p(\mathcal{U}, -)$ are universal $\delta$-functors since they are effaceable.
So are the right derived functors of $\check H^0(\mathcal{U}, -)$. Since they
agree in degree $0$, they agree by the universal property of universal
$\delta$-functors. For more details see
Cohomology on Sites,
Lemma \ref{sites-cohomology-lemma-cech-cohomology-derived-presheaves}. 
\end{proof}

\begin{remark}
\label{remark-presheaves-no-topology}
Observe that all of the preceding statements are about presheaves so we haven't
made use of the topology yet.
\end{remark}




\section{The \u Cech-to-cohomology spectral sequence}
\label{section-cech-ss}

\noindent
This spectral sequence is fundamental in proving foundational results on
cohomology of sheaves.

\begin{lemma}
\label{lemma-forget-injectives}
The forgetful functor $\textit{Ab}(\mathcal{C})\to \textit{PAb}(\mathcal{C})$
transforms injectives into injectives.
\end{lemma}

\begin{proof}
This is formal using the fact that the forgetful functor has a left adjoint,
namely sheafification, which is an exact functor. For more details see
Cohomology on Sites,
Lemma \ref{sites-cohomology-lemma-injective-abelian-sheaf-injective-presheaf}.
\end{proof}

\begin{theorem}
\label{theorem-cech-ss}
Let $\mathcal{C}$ be a site. For any covering
$\mathcal{U} = \{U_i \to U\}_{i \in I}$ of $U \in \text{Ob}(\mathcal{C})$
and any abelian sheaf $\mathcal{F}$ on $\mathcal{C}$
there is a spectral sequence
$$
E_2^{p, q}
=
\check H^p(\mathcal{U}, \underline{H}^q(\mathcal{F}))
\Rightarrow
H^{p+q}(U, \mathcal{F}),
$$
where $\underline{H}^q(\mathcal{F})$ is the abelian presheaf
$V \mapsto H^q(V, \mathcal{F})$.
\end{theorem}

\begin{proof}
Choose an injective resolution $\mathcal{F}\to \mathcal{I}^\bullet$ in
$\textit{Ab}(\mathcal{C})$, and consider the double complex
$\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{I}^\bullet)$
and the maps
$$
\xymatrix{
\Gamma(U, I^\bullet) \ar[r] &
\check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{I}^\bullet) \\
& \check{\mathcal{C}}^\bullet(\mathcal{U}, \mathcal{F}) \ar[u]
}
$$
Here the horizontal map is the natural map
$\Gamma(U, I^\bullet) \to
\check{\mathcal{C}}^0(\mathcal{U}, \mathcal{I}^\bullet)$
to the left column, and the vertical map is induced by
$\mathcal{F}\to \mathcal{I}^0$ and lands in the bottom row.
By assumption, $\mathcal{I}^\bullet$ is a complex of injectives in
$\textit{Ab}(\mathcal{C})$, hence by
Lemma \ref{lemma-forget-injectives}, it is a complex of injectives in
$\textit{PAb}(\mathcal{C})$. Thus, the rows of the double complex are exact in
positive degrees, and the kernel of the horizontal map is equal to
$\Gamma(U, \mathcal{I}^\bullet)$, since $\mathcal{I}^\bullet$
is a complex of sheaves. In particular, the cohomology of the total complex
is the standard
cohomology of the global sections functor $H^0(U, \mathcal{F})$.

\medskip\noindent
For the vertical direction, the $q$th cohomology group of the $p$th column is
$$
\prod_{i_0, \ldots, i_p}
H^q(U_{i_0} \times_U \ldots \times_U U_{i_p}, \mathcal{F})
=
\prod_{i_0, \dots, i_p}
\underline{H}^q(\mathcal{F})(U_{i_0}\times_U \ldots \times_U U_{i_p})
$$
in the entry $E_1^{p,q}$. So this is a standard double complex spectral
sequence, and the $E_2$-page is as prescribed. For more details see
Cohomology on Sites,
Lemma \ref{sites-cohomology-lemma-cech-spectral-sequence}.
\end{proof}

\begin{remark}
\label{remark-grothendieck-ss}
This is a Grothendieck spectral sequence for the composition of functors
$$
\textit{Ab}(\mathcal{C}) \longrightarrow
\textit{PAb}(\mathcal{C}) \xrightarrow{\check H^0} \textit{Ab}.
$$
\end{remark}








\section{Big and small sites of schemes}
\label{section-big-small}

\noindent
Let $S$ be a scheme.
Let $\tau$ be one of the topologies we will be discussing.
Thus $\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$.
Of course if you are only interested in the \'etale topology, then
you can simply assume $\tau = etale$ throughout. Moreover, we will
discuss \'etale morphisms, \'etale coverings, and \'etale sites
in more detail starting in Section \ref{section-etale-site}.
In order to proceed with the discussion of cohomology of
quasi-coherent sheaves it is convenient to introduce the
big $\tau$-site and in case $\tau \in \{etale, Zariski\}$, the
small $\tau$-site of $S$. In order to do this we first introduce
the notion of a $\tau$-covering.

\begin{definition}
\label{definition-tau-covering}
(See Topologies on Schemes, Definitions
\ref{topologies-definition-fppf-covering},
\ref{topologies-definition-syntomic-covering},
\ref{topologies-definition-smooth-covering},
\ref{topologies-definition-etale-covering}, and
\ref{topologies-definition-zariski-covering}.)
Let $\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$.
A family of morphisms of schemes $\{f_i : T_i \to T\}_{i \in I}$ with fixed
target is called a {\it $\tau$-covering} if and only if
each $f_i$ is flat of finite presentation, syntomic, smooth, etale,
resp.\ an open immersion, and we have $\bigcup f_i(T_i) = T$.
\end{definition}

\noindent
It turns out that the class of all $\tau$-coverings satisfies the axioms
(1), (2) and (3) of
Definition \ref{definition-site} (our definition of a site), see
Topologies on Schemes, Lemmas
\ref{topologies-lemma-fppf},
\ref{topologies-lemma-syntomic},
\ref{topologies-lemma-smooth},
\ref{topologies-lemma-etale}, and
\ref{topologies-lemma-zariski}.
In order to be able to compare any of these new topologies to the fpqc topology
and to use the preceding results on descent on modules we single out a special
class of $\tau$-coverings of affine schemes called standard coverings.

\begin{definition}
\label{definition-standard-tau}
(See Topologies on Schemes, Definitions
\ref{topologies-definition-standard-fppf},
\ref{topologies-definition-standard-syntomic},
\ref{topologies-definition-standard-smooth},
\ref{topologies-definition-standard-etale}, and
\ref{topologies-definition-standard-Zariski}.)
Let $\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$.
Let $T$ be an affine scheme.
A {\it standard $\tau$-covering} of $T$ is a family
$\{f_j : U_j \to T\}_{j = 1, \ldots, m}$ with each $U_j$ is affine,
and each $f_j$ flat and of finite presentation, 
standard syntomic, standard smooth, etale, resp.\ the immersion of a
standard principal open in $T$ and $T = \bigcup f_j(U_j)$.
\end{definition}

\begin{lemma}
\label{lemma-tau-affine}
Let $\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$.
Any $\tau$-covering of an affine scheme can be refined by a 
standard $\tau$-covering.
\end{lemma}

\begin{proof}
See Topologies on Schemes, Lemmas
\ref{topologies-lemma-fppf-affine},
\ref{topologies-lemma-syntomic-affine},
\ref{topologies-lemma-smooth-affine},
\ref{topologies-lemma-etale-affine}, and
\ref{topologies-lemma-zariski-affine}.
\end{proof}

\noindent
Finally, we come to our definition of the sites we will be working with.
This is actually somewhat involved since, contrary to what happens in
\cite{SGA4}, we do not want to choose a universe. Instead we pick a ``partial
universe'' (which just means a suitably large set), and consider all schemes
contained in this set. Of course we make sure that our favorite base scheme
$S$ is contained in the partial universe. Having picked the underlying category
we pick a suitably large set of $\tau$-coverings which turns this into a site.
The details are in the chapter on topologies on schemes; there is a lot of
freedom in the choices made, but in the end the actual choices made will not
affect the etale (or other) cohomology of $S$ (just as in \cite{SGA4} the
actual choice of universe doesn't matter at the end). Moreover, the way the
material is written the reader who is happy using strongly inaccessible
cardinals (i.e., universes) can do so as a substitute.

\begin{definition}
\label{definition-tau-site}
Let $S$ be a scheme.
Let $\tau \in \{fppf, syntomic, smooth, etale,\linebreak[0] Zariski\}$.
\begin{enumerate}
\item A {\it big $\tau$-site of $S$} is any of the sites
$(\textit{Sch}/S)_\tau$ constructed as explained above and in more detail in
Topologies, Definitions
\ref{topologies-definition-big-small-fppf},
\ref{topologies-definition-big-small-syntomic},
\ref{topologies-definition-big-small-smooth},
\ref{topologies-definition-big-small-etale}, and
\ref{topologies-definition-big-small-Zariski}.
\item If $\tau \in \{etale, Zariski\}$, then the {\it small $\tau$-site of $S$}
is the full subcategory $S_\tau$ of $(\textit{Sch}/S)_\tau$ whose objects
are schemes $T$ over $S$ whose structure morphism $T \to S$ is an open
immersion, resp.\ etale. A covering in $S_\tau$ is a covering
$\{U_i \to U\}$ in $(\textit{Sch}/S)_\tau$
such that $U$ is an object of $S_\tau$.
\end{enumerate}
\end{definition}

\noindent
The underlying category of the site $(\textit{Sch}/S)_\tau$ has reasonable
``closure'' properties, i.e., given a scheme $T$ in it any locally closed
subscheme of $T$ is isomorphic to an object of $(\textit{Sch}/S)_\tau$.
Other such closure properties are: closed under fibre products of schemes,
taking countable disjoint unions,
taking finite type schemes over a given scheme, given an affine scheme
$\text{Spec}(R)$ one can complete, localize, or take the quotient of $R$
by an ideal while staying inside the category, etc.
On the other hand, for example arbitrary disjoint unions
of schemes in $(\textit{Sch}/S)_\tau$ will take you outside of it.
Also note that, given an object $T$ of $(\textit{Sch}/S)_\tau$ there will exist
$\tau$-coverings $\{T_i \to T\}_{i \in I}$ (as in
Definition \ref{definition-tau-covering})
which are not coverings in $(\textit{Sch}/S)_\tau$ for example
because the schemes $T_i$ are not objects of the category
$(\textit{Sch}/S)_\tau$. But our choice of the sites $(\textit{Sch}/S)_\tau$
is such that there always does exist
a covering $\{U_j \to T\}_{j \in J}$ of $(\textit{Sch}/S)_\tau$ which refines
the covering $\{T_i \to T\}_{i \in I}$, see
Topologies, Lemmas
\ref{topologies-lemma-fppf-induced},
\ref{topologies-lemma-syntomic-induced},
\ref{topologies-lemma-smooth-induced},
\ref{topologies-lemma-etale-induced}, and
\ref{topologies-lemma-zariski-induced}.
We will mostly ignore these issues in this chapter.

\medskip\noindent
If $\mathcal{F}$ is a sheaf on $(\textit{Sch}/S)_\tau$ or $S_\tau$, then
we denote
$$
H^p_\tau(U, \mathcal{F}),\text{ in particular }
H^p_\tau(S, \mathcal{F})
$$
the cohomology groups of $\mathcal{F}$ over the object $U$ of the site, see
Section \ref{section-cohomology}. Thus we have
$H^p_{fppf}(S, \mathcal{F})$,
$H^p_{syntomic}(S, \mathcal{F})$,
$H^p_{smooth}(S, \mathcal{F})$,
$H^p_{etale}(S, \mathcal{F})$\footnote{We will sometimes abbreviate this
to $H^p_{et}(S, \mathcal{F})$.}, and
$H^p_{Zar}(S, \mathcal{F})$. The last two are potentially ambiguous since
they might refer to either the big or small etale or Zariski site. However,
this ambiguity is harmless by the following lemma.

\begin{lemma}
\label{lemma-compare-cohomology-big-small}
Let $\tau \in \{etale, Zariski\}$.
If $\mathcal{F}$ is an abelian sheaf defined on
$(\textit{Sch}/S)_\tau$ for example, then
the cohomology groups of $\mathcal{F}$ over $S$ agree with the cohomology
groups of $\mathcal{F}|_{S_\tau}$ over $S$.
\end{lemma}

\begin{proof}
By
Topologies, Lemmas \ref{topologies-lemma-at-the-bottom} and
\ref{topologies-lemma-at-the-bottom-etale}
the functors $S_\tau \to (\textit{Sch}/S)_\tau$
satisfy the hypotheses of
Sites, Lemma \ref{sites-lemma-bigger-site}.
Hence our lemma follows from
Cohomology on Sites, Lemma \ref{sites-cohomology-lemma-cohomology-bigger-site}.
\end{proof}

\noindent
For completeness we state and prove the invariance under choice of partial
universe of the cohomology groups we are considering. For notation and
terminology used in this lemma we refer to
Topologies, Section \ref{topologies-section-change-alpha}.

\begin{lemma}
\label{lemma-cohomology-enlarge-partial-universe}
Let $\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$.
Let $S$ be a scheme.
Let $(\textit{Sch}/S)_\tau$ and $(\textit{Sch}'/S)_\tau$ be two
big $\tau$-sites of $S$, and assume that the first is contained in the second.
In this case for any abelian sheaf $\mathcal{F}'$ defined on
$(\textit{Sch}'/S)_\tau$ and any object $U$ of $(\textit{Sch}/S)_\tau$
we have
$$
H^p_\tau(U, \mathcal{F}'|_{(\textit{Sch}/S)_\tau})
=
H^p_\tau(U, \mathcal{F}')
$$
In words: the cohomology of $\mathcal{F}'$ over $U$ computed in the bigger site
agrees with the cohomology of $\mathcal{F}'$ restricted to the smaller site
over $U$.
\end{lemma}

\begin{proof}
By
Topologies, Lemma \ref{topologies-lemma-change-alpha}
the inclusion functor $(\textit{Sch}/S)_\tau \to (\textit{Sch}'/S)_\tau$
satisfies the assumptions of
Sites, Lemma \ref{sites-lemma-bigger-site}.
Hence our lemma follows from
Cohomology on Sites, Lemma \ref{sites-cohomology-lemma-cohomology-bigger-site}.
\end{proof}


\section{Cohomology of quasi-coherent sheaves}
\label{section-cohomology-quasi-coherent}
%9.22.09

\noindent
We start with a simple lemma (which holds in greater generality than
stated). It says that the \u Cech complex of a standard covering is
equal to the \u Cech complex of an fpqc covering of the form
$\{\text{Spec}(B) \to \text{Spec}(A)\}$ with $A \to B$ faithfully flat.

\begin{lemma}
\label{lemma-cech-complex}
Let $\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$.
Let $S$ be a scheme.
Let $\mathcal{F}$ be an abelian sheaf on $(\textit{Sch}/S)_\tau$, or on
$S_\tau$ in case $\tau = etale$, and let
$\mathcal{U} = \{U_i \to U\}_{i \in I}$
be a standard $\tau$-covering of this site.
Let $V = \coprod_{i \in I} U_i$. Then
\begin{enumerate}
\item $V$ is an affine scheme,
\item $\mathcal{V} = \{V \to U\}$ is an fpqc covering.
\item the \u Cech complexes
$\check{\mathcal{C}}^\bullet (\mathcal{U}, \mathcal{F})$ and
$\check{\mathcal{C}}^\bullet (\mathcal{V}, \mathcal{F})$ agree.
\end{enumerate}
\end{lemma}

\begin{proof}
As the covering is a standard $\tau$-covering each of the schemes
$U_i$ is affine and $I$ is a finite set. Hence $V$ is an affine scheme.
It is clear that $V \to U$ is flat and surjective, hence
$\mathcal{V}$ is an fpqc covering, see
Example \ref{example-fpqc-coverings}.
Note that $\mathcal{U}$ is a refinement of $\mathcal{V}$
and hence there is a map of \u Cech complexes
$\check{\mathcal{C}}^\bullet (\mathcal{V}, \mathcal{F}) \to
\check{\mathcal{C}}^\bullet (\mathcal{U}, \mathcal{F})$, see
Cohomology on Sites,
Equation (\ref{sites-cohomology-equation-map-cech-complexes}).
Next, we observe that if $T = \coprod_{j \in J} T_j$ is a
disjoint union of schemes in the site on which $\mathcal{F}$ is defined
then the family of morphisms with fixed target
$\{T_j \to T\}_{j \in J}$ is a Zariski covering, and so
\begin{equation}
\label{equation-sheaf-coprod}
\mathcal{F}(T) =
\mathcal{F}(\coprod\nolimits_{j \in J} T_j) =
\prod\nolimits_{j \in J} \mathcal{F}(T_j)
\end{equation}
by the sheaf condition of $\mathcal{F}$.
This implies the map of \u Cech complexes above is an isomorphism
in each degree because
$$
V \times_U \ldots \times_U V
=
\prod\nolimits_{i_0, \ldots i_p} U_{i_0} \times_U \ldots \times_U U_{i_p}
$$
as schemes.
\end{proof}

\noindent
Note that Equality (\ref{equation-sheaf-coprod})
is false for a general presheaf. Even for sheaves it does not hold on any
site, since coproducts may not lead to coverings, and may not be disjoint.
But it does for all the usual ones (at least all the ones we will study).

\begin{remark}
\label{remark-refinement}
In the statement of
Lemma \ref{lemma-cech-complex},
$\mathcal{U}$ is a refinement of $\mathcal{V}$,
so this does not mean that it suffices to look at coverings with a single
morphism to compute \u Cech cohomology $\check H^n(U, \mathcal{F})$ (which
is defined as the colimit over all coverings $\mathcal{U}$ of $U$ of the
Cech cohomology groups of $\mathcal{F}$ with respect to $\mathcal{U}$).
\end{remark}

\begin{lemma}
\label{lemma-locality-cohomology}
(Locality of cohomology)
Let $\mathcal{C}$ be a site, $\mathcal{F}$ an abelian sheaf on $\mathcal{C}$,
$U$ an object of $\mathcal{C}$, $p >0$ an integer and $\xi \in
H^p(U, \mathcal{F})$. Then there exists a covering
$\mathcal{U} = \{U_i \to U\}_{i \in I}$ of $U$ in $\mathcal{C}$
such that $\xi |_{U_i} = 0$ for all $i \in I$.
\end{lemma}

\begin{proof}
Choose an injective resolution $\mathcal{F} \to \mathcal{I}^\bullet$. Then
$\xi$ is represented by a cocycle $\tilde{\xi} \in \mathcal{I}^p(U)$
with $d^p(\tilde{\xi}) = 0$. By assumption, the sequence
$\mathcal{I}^{p - 1} \to \mathcal{I}^p \to \mathcal{I}^{p + 1}$ in exact in
$\textit{Ab}(\mathcal{C})$, which means that there exists a covering
$\mathcal{U} = \{U_i \to U\}_{i \in I}$ such that
$\tilde{\xi}|_{U_i} = d^{p - 1}(\xi_i)$ for some
$\xi_i \in \mathcal{I}^{p-1}(U_i)$. Since
the cohomology class $\xi|_{U_i}$ is represented by the cocycle
$\tilde{\xi}|_{U_i}$ which is a coboundary, it vanishes.
For more details see
Cohomology on Sites,
Lemma \ref{sites-cohomology-lemma-kill-cohomology-class-on-covering}.
\end{proof}

\begin{theorem}
\label{theorem-zariski-fpqc-quasi-coherent}
Let $S$ be a scheme and $\mathcal{F}$ a quasi-coherent $\mathcal{O}_S$-module.
Let $\mathcal{C}$ be either $(\textit{Sch}/S)_\tau$ for
$\tau \in \{fppf, syntomic, smooth, etale, Zariski\}$ or $S_{etale}$.
Then
$$
H^p(S, \mathcal{F}) = H^p_\tau(S, \mathcal{F}^a)
$$
for all $p \geq 0$ where
\begin{enumerate}
\item the left hand side indicates the usual cohomology of the sheaf
$\mathcal{F}$ on the underlying topological space of the scheme $S$, and
\item the right hand side indicates cohomology
of the abelian sheaf $\mathcal{F}^a$ (see
Proposition \ref{proposition-quasi-coherent-sheaf-fpqc})
on the site $\mathcal{C}$.
\end{enumerate}
\end{theorem}

\begin{remark}
\label{remark-right-derived-global-sections}
Since $S$ is a final object in the category $\mathcal{C}$, the cohomology
groups on the right-hand side are merely the right derived functors of the
global sections functor. In fact the proof will show that
$H^p(U, f^*\mathcal{F}) = H^p_\tau(U, \mathcal{F}^a)$
for any object $f : U \to S$ of the site $\mathcal{C}$.
\end{remark}

\begin{proof}
We are going to show that
$H^p(U, f^*\mathcal{F}) = H^p_\tau(U, \mathcal{F}^a)$
for any object $f : U \to S$ of the site $\mathcal{C}$.
The result is true for $p = 0$ by the sheaf property.

\medskip\noindent
Assume that $U$ is affine. Then we want to prove that
$H^p_\tau(U, \mathcal{F}^a) = 0$ for all $p > 0$. We use induction on $p$.
\begin{enumerate}
\item[$p = 1$]
Pick $\xi \in H^1_\tau(U, \mathcal{F}^a)$.
By lemma \ref{lemma-locality-cohomology},
there exists an fpqc covering $\mathcal{U} = \{U_i \to U\}_{i \in I}$
such that $\xi|_{U_i} = 0$ for all $i \in I$. Up to refining
$\mathcal{U}$, we may assume that $\mathcal{U}$ is a standard
$\tau$-covering. Applying the spectral sequence of
Theorem \ref{theorem-cech-ss},
we see that $\xi$ comes from a cohomology class
$\check{\xi} \in \check H^1(\mathcal{U}, \mathcal{F}^a)$.
Consider the covering $\mathcal{V} = \{\coprod_{i\in I} U_i \to U\}$. By
Lemma \ref{lemma-cech-complex},
$\check H^\bullet(\mathcal{U}, \mathcal{F}^a) =
\check H^\bullet(\mathcal{V}, \mathcal{F}^a)$.
On the other hand, since $\mathcal{V}$ is a covering of the form
$\{\text{Spec}(B) \to \text{Spec}(A)\}$ and $f^*\mathcal{F} = \widetilde{M}$
for some $A$-module $M$, we see the \u Cech complex
$\check{\mathcal{C}}^\bullet(\mathcal{V}, \mathcal{F})$
is none other than the complex $(B/A)_\bullet \otimes_A M$.
Now by lemma \ref{lemma-descent-modules},
$H^p((B/A)_\bullet \otimes_A M) = 0$ for $p>0$, hence $\check{\xi} = 0$ and so
$\xi = 0$.
\item[$p > 1$]
Pick $\xi \in H^p_\tau(U, \mathcal{F}^a)$. By
Lemma \ref{lemma-locality-cohomology},
there exists an fpqc covering $\mathcal{U} = \{U_i \to U\}_{i \in I}$
such that $\xi|_{U_i} = 0$ for all $i \in I$. Up to refining
$\mathcal{U}$, we may assume that $\mathcal{U}$ is a standard
$\tau$-covering. We apply the spectral sequence of
Theorem \ref{theorem-cech-ss}.
Observe that the intersections $U_{i_0} \times_U \ldots \times_U U_{i_p}$
are affine, so that by induction hypothesis the cohomology groups
$$
E_2^{p,q} = \check H^p(\mathcal{U}, \underline{H}^q(\mathcal{F}^a))
$$
vanish for all $0 < q < p$. We see that $\xi$ must come from a
$\check{\xi} \in \check H^p(\mathcal{U}, \mathcal{F}^a)$. Replacing
$\mathcal{U}$ with the covering $\mathcal{V}$ containing only one morphism
and using Lemma \ref{lemma-descent-modules} again,
we see that the \u Cech cohomology class $\check{\xi}$ must be zero,
hence $\xi = 0$.
\end{enumerate}
Next, assume that $U$ is separated. Choose an affine open covering
$U = \bigcup_{i \in I} U_i$ of $U$. The family
$\mathcal{U} = \{U_i \to U\}_{i \in I}$ is then an fpqc covering,
and all the intersections
$U_{i_0} \times_S \cdots \times_S U_{i_p}$ are affine
since $U$ is separated. So all rows of the spectral sequence of
Theorem \ref{theorem-cech-ss}
are zero, except the zeroth row. Therefore
$$
H^p_\tau(S, \mathcal{F}^a) =
\check H^p(\mathcal{U}, \mathcal{F}^a) =
\check H^p(\mathcal{U}, \mathcal{F}) = H^p(S, \mathcal{F})
$$
where the last equality results from standard scheme theory, see
Coherent, Lemma \ref{coherent-lemma-cech-cohomology-quasi-coherent}.

\medskip\noindent
The general case is technical and (to extend the proof as given here)
requires a discussion about maps of spectral sequences, so we won't treat it.
It follows from
Descent, Proposition \ref{descent-proposition-same-cohomology-quasi-coherent}
(whose proof takes a slightly different approach) combined with
Cohomology on Sites, Lemma \ref{sites-cohomology-lemma-cohomology-of-open}.
\end{proof}





\section{Examples of sheaves}
\label{section-examples-sheaves}

\begin{definition}
\label{definition-additive-sheaf}
On any of the sites $(\textit{Sch}/S)_\tau$ or $S_\tau$ of
Section \ref{section-big-small}.
\begin{enumerate}
\item The sheaf $T \mapsto \Gamma(T, \mathcal{O}_T)$ is denoted $\mathbf{G}_a$
and sometimes $\mathbf{G}_{a, S}$ if we want to indicate the base scheme.
\item Similarly, the sheaf
$T \mapsto \Gamma(T, \mathcal{O}^*_T)$ is denoted $\mathbf{G}_m$ and
sometimes $\mathbf{G}_{m, S}$ if we want to indicate the base scheme.
\item The {\it constant sheaf} $\underline{\mathbf{Z}/n\mathbf{Z}}$ on any
site is the sheafification of the constant presheaf
$U \mapsto \mathbf{Z}/n\mathbf{Z}$.
\end{enumerate}
\end{definition}

\noindent
The first is a sheaf by
Theorem \ref{theorem-quasi-coherent}
for example. The second is a sub presheaf of the first, which is easily seen
to be a sheaf itself. The third is a sheaf by definition.
Note that each of these sheaves is representable.
The first and second by the schemes $\mathbf{G}_{a, S}$ and
$\mathbf{G}_{m, S}$, see
Groupoids, Section \ref{groupoids-section-group-schemes}.
The third by the finite \'etale group scheme $\mathbf{Z}/n\mathbf{Z}_S$
sometimes denoted $(\mathbf{Z}/n\mathbf{Z})_S$
which is just $n$ copies of $S$ endowed
with the obvious group scheme structure over $S$, see
Groupoids, Example \ref{groupoids-example-constant-group}
and the following remark.

\begin{remark}
\label{remark-constant-locally-constant-maps}
Let $G$ be an abstract group.
On any of the sites $(\textit{Sch}/S)_\tau$ or $S_\tau$ of
Section \ref{section-big-small}
the sheafification $\underline{G}$
of the constant presheaf associated to $G$ in the
{\it Zariski topology} of the site already gives 
$$
\Gamma(U, \underline{G}) =
\{\text{Zariski locally constant maps }U \to G\}
$$
This Zariski sheaf is representable by the group scheme $G_S$ according to 
Groupoids, Example \ref{groupoids-example-constant-group}.
By
Lemma \ref{lemma-representable-sheaf-fpqc}
any representable sheaf satisfies the sheaf condition for the $\tau$-topology
as well, and hence we conclude that the Zariski sheafification $\underline{G}$
above is also the $\tau$-sheafification.
\end{remark}

\begin{remark}
\label{remark-special-case-fpqc-cohomology-quasi-coherent}
In the terminology introduced above a special case of
Theorem \ref{theorem-zariski-fpqc-quasi-coherent}
is
$$
H_{fppf}^p(X, \mathbf{G}_a) =
H_{etale}^p(X, \mathbf{G}_a) =
H_{Zar}^p(X, \mathbf{G}_a) =
H^p(X, \mathcal{O}_X)
$$
for all $p \geq 0$.
\end{remark}




\section{Picard groups}
\label{section-picard-groups}

\noindent
The following theorem is sometimes called ``Hilbert 90''.

\begin{theorem}
\label{theorem-picard-group}
For any scheme $X$ we have canonical identifications
\begin{align*}
H_{fppf}^1(X, \mathbf{G}_m) & = H^1_{syntomic}(X, \mathbf{G}_m) \\
& = H^1_{smooth}(X, \mathbf{G}_m) \\
& = H_{etale}^1(X, \mathbf{G}_m) \\
& = H^1_{Zar}(X, \mathbf{G}_m) \\
& = \text{Pic}(X) \\
& = H^1(X, \mathcal{O}_X^*)
\end{align*}
\end{theorem}

\begin{proof}
Let $\tau$ be one of the topologies considered in
Section \ref{section-big-small}.
By
Cohomoloy on Sites, Lemma \ref{sites-cohomology-lemma-h1-invertible}
we see that
$H^1_\tau(X, \mathbf{G}_m) =
H^1_\tau(X, \mathcal{O}_\tau^*) =
\text{Pic}(\mathcal{O}_\tau)$
where $\mathcal{O}_\tau$ is the structure sheaf of the site
$(\textit{Sch}/X)_\tau$. Now an invertible $\mathcal{O}_\tau$-module
is a quasi-coherent $\mathcal{O}_\tau$-module.
By Theorem \ref{theorem-quasi-coherent} or the more precise
Descent, Proposition \ref{descent-proposition-equivalence-quasi-coherent}
we see that $\text{Pic}(\mathcal{O}_\tau) = \text{Pic}(X)$.
The last equality is proved in the same way.
\end{proof}

\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
