\input{preamble}

% OK, start here.
%
\begin{document}

\title{Artin's axioms}

\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents




\section{Introduction}
\label{section-introduction}

\noindent
In this chapter we discuss Artin's axioms for the representability of
functors by algebraic spaces. As references we suggest the papers
\cite{ArtinI}, \cite{ArtinII}, \cite{ArtinVersal}.

\medskip\noindent
We have intentionally placed this chapter, as well as the chapters
``Criteria for Representability'' and ``Sheaves on Stacks'', before the
general development of the theory of algebraic stacks. The reason
for this is that starting with the next chapter (see
Properties of Stacks, Section \ref{stacks-properties-section-conventions})
we will no longer distinguish between a scheme and the algebraic stack
it gives rise to. Thus our language will become more flexible and
easier for a human to parse, but also less precise. These first few
chapters, including the initial chapter ``Algebraic Stacks'', lay the
groundwork that later allow us to ignore some of the very technical
distinctions between different ways of thinking about algebraic stacks.
In this chapter and ``Criteria of Representability'' especially we need
to be very precise about what objects exactly we are working with, as
we are trying to show that certain constructions produce algebraic stacks or
algebraic spaces.

\medskip\noindent
Unfortunately, this means that some of the notation, conventions and
terminology is awkward and may seem backwards to the more experienced
reader. We hope the reader will forgive us!







\section{Conventions}
\label{section-conventions}

\noindent
The conventions we use in this chapter are the same as those in the
chapter on algebraic stacks, see
Algebraic Stacks, Section \ref{algebraic-section-conventions}.
In this chapter the base scheme $S$ will often be locally Noetherian
(although we will always reiterate this condition when stating
results).





\section{Constructing predeformation categories}
\label{section-predeformation-categories}

\noindent
Let $S$ be a locally Noetherian base scheme. Let
$$
p : \mathcal{X} \longrightarrow (\textit{Sch}/S)_{fppf}
$$
be a category fibred in groupoids. Let $k$ be a field
and let $\Spec(k) \to S$ be a morphism of finite type (see
Morphisms, Lemma \ref{morphisms-lemma-point-finite-type}). We will sometimes
simply say that {\it $k$ is a field of finite type over $S$}. Let
$x_0$ be an object of $\mathcal{X}$ lying over $\Spec(k)$.
Given $S$, $\mathcal{X}$, $k$, and $x_0$ we will construct a
predeformation category, as defined in 
Formal Deformation Theory,
Definition \ref{formal-defos-definition-predeformation-category}.
The construction will resemble to construction of
Formal Deformation Theory,
Remark \ref{formal-defos-remark-localize-cofibered-groupoid}.

\medskip\noindent
First, by Morphisms, Lemma \ref{morphisms-lemma-point-finite-type}
we may pick an affine open $\Spec(\Lambda) \subset S$ such that
$\Spec(k) \to S$ factors through $\Spec(\Lambda)$ and the associated
ring map $\Lambda \to k$ is finite. This provides us with the category
$\mathcal{C}_\Lambda$, see
Formal Deformation Theory, Definition \ref{formal-defos-definition-CLambda}.
The category $\mathcal{C}_\Lambda$, up to canonical equivalence,
does not depend on the choice of the affine open $\Spec(\Lambda)$ of $S$.
Namely, $\mathcal{C}_\Lambda$ is equivalent to the opposite
of the category of factorizations
\begin{equation}
\label{equation-factor}
\Spec(k) \to \Spec(A) \to S
\end{equation}
of the structure morphism such that $A$ is an Artinian local ring and
such that $\Spec(k) \to \Spec(A)$ corresponds to a ring map $A \to k$ which
identifies $k$ with the resisue field of $A$.

\medskip\noindent
We let $\mathcal{F} = \mathcal{F}_{\mathcal{X}, k, x_0}$ be the
category whose
\begin{enumerate}
\item objects are morphisms $x_0 \to x$ of $\mathcal{X}$ where
$p(x) = \Spec(A)$ with $A$ an Artinian local ring and
$p(x_0) \to p(x) \to S$ a factorization as in (\ref{equation-factor}), and
\item morphisms $(x_0 \to x) \to (x_0 \to x')$ are commutative
diagrams
$$
\xymatrix{
x & & x' \ar[ll] \\
& x_0 \ar[lu] \ar[ru]
}
$$
in $\mathcal{X}$. (Note the reversal of arrows.)
\end{enumerate}
If $x_0 \to x$ is an object of $\mathcal{F}$ then writing $p(x) = \Spec(A)$
we obtain an object $A$ of $\mathcal{C}_\Lambda$. We often say that
$x_0 \to x$ or $x$ lies over $A$. A morphism of $\mathcal{F}$ between objects
$x_0 \to x$ lying over $A$ and $x_0 \to x'$ lying over $A'$
corresponds to a morphism $x' \to x$ of $\mathcal{X}$, hence a morphism
$p(x' \to x) : \Spec(A') \to \Spec(A)$ which in turn corresponds to a
ring map $A \to A'$. As $\mathcal{X}$ is a category
over the category of schemes over $S$ we see that $A \to A'$ is
$\Lambda$-algebra homomorphism. Thus we obtain a functor
\begin{equation}
\label{equation-predeformation-category}
p : \mathcal{F} = \mathcal{F}_{\mathcal{X}, k, x_0}
\longrightarrow
\mathcal{C}_\Lambda.
\end{equation}
We will use the notation $\mathcal{F}(A)$ to denote the fibre category
over an object $A$ of $\mathcal{C}_\Lambda$. An object of $\mathcal{F}(A)$
is simply a morphism $x_0 \to x$ of $\mathcal{X}$ such that
$x$ lies over $\Spec(A)$ and $x_0 \to x$ lies over $\Spec(k) \to \Spec(A)$.

\begin{lemma}
\label{lemma-predeformation-category}
The functor $p : \mathcal{F} \to \mathcal{C}_\Lambda$ defined above
is a predeformation category.
\end{lemma}

\begin{proof}
We have to show that $\mathcal{F}$ is (a) cofibred in groupoids over
$\mathcal{C}_\Lambda$ and (b) that $\mathcal{F}(k)$ is a category equivalent
to a category with a single object and a single morphism.

\medskip\noindent
Proof of (a). The fibre categories of $\mathcal{F}$
over $\mathcal{C}_\Lambda$ are groupoids as the fibre categories
of $\mathcal{X}$ are groupoids. Let $A \to A'$ be a morphism of
$\mathcal{C}_\Lambda$ and let $x_0 \to x$ be an object of $\mathcal{F}(A)$.
Because $\mathcal{X}$ is fibred in groupoids, we can find a morphism
$x' \to x$ lying over $\Spec(A') \to \Spec(A)$. Since the composition
$A \to A' \to k$ is equal the given map $A \to k$ we see (by uniqueness
of pullbacks up to isomorphism) that the pullback via $\Spec(k) \to \Spec(A')$
of $x'$ is $x_0$, i.e., that there exists a morphism $x_0 \to x'$
lying over $\Spec(k) \to \Spec(A')$ compatible with
$x_0 \to x$ and $x' \to x$. This proves that $\mathcal{F}$ has
pushforwards. We conclude by (the dual of)
Categories, Lemma \ref{categories-lemma-fibred-groupoids}.

\medskip\noindent
Proof of (b). If $A = k$, then $\Spec(k) = \Spec(A)$ and since $\mathcal{X}$
is fibred in groupoids over $(\Sch/S)_{fppf}$ we see that given any object
$x_0 \to x$ in $\mathcal{F}(k)$ the morphism $x_0 \to x$ is an isomorphism.
Hence every object of $\mathcal{F}(k)$ is isomorphic to $x_0 \to x_0$.
Clearly the only self morphism of $x_0 \to x_0$ in $\mathcal{F}$ is
the identity.
\end{proof}

\noindent
Let $S$ be a locally Noetherian base scheme. Let
$F : \mathcal{X} \to \mathcal{Y}$ be a $1$-morphism between categories
fibred in groupoids over $(\textit{Sch}/S)_{fppf}$. Let $k$ is a field
of finite type over $S$. Let $x_0$ be an object of $\mathcal{X}$ lying
over $\Spec(k)$. Set $y_0 = F(x_0)$ which is an object of $\mathcal{Y}$
lying over $\Spec(k)$. Then $F$ induces a functor
\begin{equation}
\label{equation-functoriality}
F :
\mathcal{F}_{\mathcal{X}, k, x_0}
\longrightarrow
\mathcal{F}_{\mathcal{Y}, k, y_0}
\end{equation}
of categories cofibred over $\mathcal{C}_\Lambda$. Namely, to the object
$x_0 \to x$ of $\mathcal{F}_{\mathcal{X}, k, x_0}(A)$ we associate
the object $F(x_0) \to F(x)$ of $\mathcal{F}_{\mathcal{Y}, k, y_0}(A)$.

\begin{lemma}
\label{lemma-formally-smooth-on-deformation-categories}
Let $S$ be a locally Noetherian scheme. Let $F : \mathcal{X} \to \mathcal{Y}$
be a $1$-morphism of stacks in groupoids over $(\Sch/S)_{fppf}$
which is formally smooth on objects (see
Criteria for Representability, Section \ref{criteria-section-formally-smooth}).
Then for every finite type field $k$ over $S$ and for every object
$x_0$ of $\mathcal{X}$ over $k$ the functor (\ref{equation-functoriality})
is smooth in the sense of
Formal Deformation Theory, Definition
\ref{formal-defos-definition-smooth-morphism}.
\end{lemma}

\begin{proof}
This is a matter of unwinding the definitions. Details omitted.
\end{proof}




\section{Pushouts and stacks}
\label{section-pushouts}

\noindent
In this section we show that algebraic stacks behave well with
respect to certain pushouts. The results in this section hold over
any base scheme.

\medskip\noindent
The following lemma is also correct when $Y$, $X'$, $X$, $Y'$ are
algebraic spaces, see (insert future reference here).

\begin{lemma}
\label{lemma-pushout}
Let $S$ be a scheme. Let
$$
\xymatrix{
X \ar[r] \ar[d] & X' \ar[d] \\
Y \ar[r] & Y'
}
$$
be a pushout in the category of schemes over $S$ where $X \to X'$
is a thickening and $X \to Y$ is affine, see
More on Morphisms, Lemma \ref{more-morphisms-lemma-pushout-along-thickening}.
Let $\mathcal{Z}$ be an algebraic stack over $S$.
Then the functor of fibre categories
$$
\mathcal{Z}_{Y'}
\longrightarrow
\mathcal{Z}_Y \times_{\mathcal{Z}_X} \mathcal{Z}_{X'}
$$
is an equivalence of categories.
\end{lemma}

\begin{proof}
Let $y'$ be an object of left hand side. The sheaf
$\mathit{Isom}(y', y')$ on the category of schemes over $Y'$
is representable by an algebraic space $I$ over $Y'$, see
Algebraic Stacks, Lemma \ref{algebraic-lemma-representable-diagonal}.
We conclude that the functor of the lemma is fully faithful as
$Y'$ is the pushout in the category of algebraic spaces as
well as the category of schemes, see
More on Morphisms of Spaces, Lemma
\ref{spaces-more-morphisms-lemma-pushout-along-thickening-schemes}.

\medskip\noindent
Let $(y, x', f)$ be an object of the right hand side. Here $f : y|_X \to x'|_X$
is an isomorphism. To finish the proof we have to construct an object $y'$ of
$\mathcal{Z}_{Y'}$ whose restrictions to $Y$ and $X'$ agree with $y$ and $x'$
in a manner compatible with $\varphi$. In fact, it suffices to construct $y'$
fppf locally on $Y'$, see
Stacks, Lemma \ref{stacks-lemma-characterize-essentially-surjective-when-ff}.
Choose a representable algebraic stack
$\mathcal{W}$ and a surjective smooth morphism $\mathcal{W} \to \mathcal{Z}$.
Then
$$
(\Sch/Y)_{fppf} \times_{y, \mathcal{Z}} \mathcal{W}
\quad\text{and}\quad
(\Sch/X')_{fppf} \times_{x', \mathcal{Z}} \mathcal{W}
$$
are algebraic stacks representable by algebraic spaces $V$ and $U'$
smooth over $Y$ and $X'$. The isomorphism $f$ induces an isomorphism
$\varphi : V \times_Y X \to U' \times_{X'} X$ over $X$. By
More on Morphisms of Spaces, Lemmas
\ref{spaces-more-morphisms-lemma-pushout-along-thickening} and
\ref{spaces-more-morphisms-lemma-equivalence-categories-spaces-pushout-flat}
we see that the pushout $V' = V \amalg_{V \times_Y X} U'$ is
an algebraic space smooth over $Y'$ whose base change to
$Y$ and $X'$ recovers $V$ and $U'$ in a manner compatible with $\varphi$.

\medskip\noindent
Let $W$ be the algebraic space representing $\mathcal{W}$.
The projections $V \to W$ and $U' \to W$ agree as morphisms
over $V \times_Y X \cong U' \times_{X'} X$ hence the universal
property of the pushout determines a morphism of algebraic spaces
$V' \to W$. Choose a scheme $Y_1'$ and a surjective \'etale morphism
$Y_1' \to V'$. Set $Y_1 = Y \times_{Y'} Y_1'$,
$X_1' = X' \times_{Y'} Y_1'$, $X_1 = X \times_{Y'} Y_1'$.
The composition
$$
(\Sch/Y_1') \to (\Sch/V') \to (\Sch/W) = \mathcal{W} \to \mathcal{Z}
$$
corresponds by the $2$-Yoneda lemma to an object $y_1'$ of $\mathcal{Z}$
over $Y_1'$ whose restriction to $Y_1$ and $X_1'$ agrees with $y|_{Y_1}$
and $x'|_{X_1'}$ in a manner compatible with $f|_{X_1}$. Thus we have
constructed our desired object smooth locally over $Y'$ and we win.
\end{proof}








\section{The Rim-Schlessinger condition}
\label{section-RS}

\noindent
The motivation for the following definition comes from
Lemma \ref{lemma-pushout}
and
Formal Deformation Theory, Definition \ref{formal-defos-definition-RS} and
Lemma \ref{formal-defos-lemma-RS-2-categorical}.

\begin{definition}
\label{definition-RS}
Let $S$ be a locally Noetherian scheme. Let $\mathcal{Z}$ be a category
fibred in groupoids over $(\Sch/S)_{fppf}$. We say $\mathcal{Z}$
satisfies {\it condition (RS)} if for every pushout
$$
\xymatrix{
X \ar[r] \ar[d] & X' \ar[d] \\
Y \ar[r] & Y' = Y \amalg_X X'
}
$$
in the category of schemes over $S$ where
\begin{enumerate}
\item $X$, $X'$, $Y$, $Y'$ are spectra of local Artinian rings,
\item $X$, $X'$, $Y$, $Y'$ are of finite type over $S$, and
\item $X \to X'$ (and hence $Y \to Y'$) is a closed immersion
\end{enumerate}
the functor of fibre categories
$$
\mathcal{Z}_{Y'}
\longrightarrow
\mathcal{Z}_Y \times_{\mathcal{Z}_X} \mathcal{Z}_{X'}
$$
is an equivalence of categories.
\end{definition}

\noindent
If $A$ is an Artinian local ring with residue field $k$, then
any morphism $\Spec(A) \to S$ is affine and of finite type if and
only if the induced morphism $\Spec(k) \to S$ is of finite type, see
Morphisms, Lemmas \ref{morphisms-lemma-Artinian-affine} and
\ref{morphisms-lemma-artinian-finite-type}.

\begin{lemma}
\label{lemma-algebraic-stack-RS}
Let $\mathcal{X}$ be an algebraic stack over a locally Noetherian base
$S$. Then $\mathcal{X}$ satisfies (RS).
\end{lemma}

\begin{proof}
Immediate from the definitions and Lemma \ref{lemma-pushout}.
\end{proof}







\section{Deformation categories}
\label{section-deformation-categories}

\noindent
We match the notation introduced above with the notation from the
chapter ``Formal Deformation Theory''.

\begin{lemma}
\label{lemma-deformation-category}
Let $S$ be a locally Noetherian scheme. Let $\mathcal{X}$ be a category
fibred in groupoids over $(\Sch/S)_{fppf}$ satisfying (RS). For any field
$k$ of finite type over $S$ and any object $x_0$ of $\mathcal{X}$ lying
over $k$ the predeformation category
$p : \mathcal{F}_{\mathcal{X}, k, x_0} \to \mathcal{C}_\Lambda$
(\ref{equation-predeformation-category}) is a deformation category, see
Formal Deformation Theory, Definition
\ref{formal-defos-definition-deformation-category}.
\end{lemma}

\begin{proof}
Set $\mathcal{F} = \mathcal{F}_{\mathcal{X}, k, x_0}$.
Let $f_1 : A_1 \to A$ and $f_2 : A_2 \to A$ be ring maps in
$\mathcal{C}_\Lambda$ with $f_2$ surjective. We have to show that
the functor
$$
\mathcal{F}(A_1 \times_A A_2)
\longrightarrow
\mathcal{F}(A_1) \times_{\mathcal{F}(A)} \mathcal{F}(A_2)
$$
is an equivalence, see
Formal Deformation Theory, Lemma \ref{formal-defos-lemma-RS-2-categorical}.
Set $X = \Spec(A)$, $X' = \Spec(A_2)$, $Y = \Spec(A_1)$ and
$Y' = \Spec(A_1 \times_A A_2)$. Note that $Y' = Y \amalg_X X'$ in the
category of schemes, see
More on Morphisms, Lemma \ref{more-morphisms-lemma-pushout-along-thickening}.
We know that in the diagram of functors of fibre categories
$$
\xymatrix{
\mathcal{X}_{Y'} \ar[r] \ar[d] &
\mathcal{X}_Y \times_{\mathcal{X}_X} \mathcal{X}_{X'} \ar[d] \\
\mathcal{X}_{\Spec(k)} \ar@{=}[r] & \mathcal{X}_{\Spec(k)}
}
$$
the top horizontal arrow is an equivalence by
Definition \ref{definition-RS}.
Since $\mathcal{F}(B)$ is the category of objects of $\mathcal{X}_{\Spec(B)}$
with an identification with $x_0$ over $k$ we win.
\end{proof}

\begin{remark}
\label{remark-deformation-category-implies}
Let $S$ be a locally Noetherian scheme. Let $\mathcal{X}$ be fibred
in groupoids over $(\Sch/S){fppf}$. Let $k$ be a field of finite type over
$S$ and $x_0$ an object
of $\mathcal{X}$ over $k$. Let $p : \mathcal{F} \to \mathcal{C}_\Lambda$
be as in (\ref{equation-predeformation-category}). If $\mathcal{F}$
is a deformation category, i.e., if $\mathcal{F}$ satisfies the
Rim-Schlessinger condition (RS), then we see that $\mathcal{F}$ satisfies
Schlessingers conditions (S1) and (S2) by
Formal Deformation Theory, Lemma \ref{formal-defos-lemma-RS-implies-S1-S2}.
Let $\overline{\mathcal{F}}$ be the functor of isomorphism classes, see
Formal Deformation Theory, Remarks
\ref{formal-defos-remarks-cofibered-groupoids}
(\ref{formal-defos-item-associated-functor-isomorphism-classes}).
Then $\overline{\mathcal{F}}$ satisfies (S1) and (S2) as well, see
Formal Deformation Theory, Lemma
\ref{formal-defos-lemma-S1-S2-associated-functor}.
This holds in particular in the situation of
Lemma \ref{lemma-deformation-category}.
\end{remark}




\section{Change of field}
\label{section-change-of-field}

\noindent
This section is the analogue of
Formal Deformation Theory, Section \ref{formal-defos-section-change-of-field}.
As pointed out there, to discuss what happens under change of field
we need to write $\mathcal{C}_{\Lambda, k}$ instead of $\mathcal{C}_\Lambda$.
In the following lemma we use the notation $\mathcal{F}_{l/k}$
introduced in Formal Deformation Theory, Situation
\ref{formal-defos-situation-change-of-fields}.

\begin{lemma}
\label{lemma-change-of-field}
Let $S$ be a locally Noetherian scheme. Let $\mathcal{X}$ be a category
fibred in groupoids over $(\Sch/S)_{fppf}$. Let $k$ be a
field of finite type over $S$ and let $k \subset l$ be a finite extension.
Let $x_0$ be an object of $\mathcal{F}$ lying over $\Spec(k)$.
Denote $x_{l, 0}$ the restriction of $x_0$ to $\Spec(l)$.
Then there is a canonical functor
$$
(\mathcal{F}_{\mathcal{X}, k , x_0})_{l/k}
\longrightarrow
\mathcal{F}_{\mathcal{X}, l, x_{l, 0}}
$$
of categories cofibred in groupoids over $\mathcal{C}_{\Lambda, l}$.
If $\mathcal{X}$ satisfies (RS), then this functor is an equivalence.
\end{lemma}

\begin{proof}
Consider a factorization
$$
\Spec(l) \to \Spec(B) \to S
$$
as in (\ref{equation-factor}). By definition we have
$$
(\mathcal{F}_{\mathcal{X}, k , x_0})_{l/k}(B) =
\mathcal{F}_{\mathcal{X}, k, x_0}(B \times_l k)
$$
see Formal Deformation Theory, Situation
\ref{formal-defos-situation-change-of-fields}. Thus an object of this
is a morphism $x_0 \to x$ of $\mathcal{X}$ lying over the morphism
$\Spec(k) \to \Spec(B \times_l k)$. Choosing pullback functor for $\mathcal{X}$
we can associate to $x_0 \to x$ the morphism $x_{l, 0} \to x_B$
where $x_B$ is the restriction of $x$ to $\Spec(B)$ (via the morphism
$\Spec(B) \to \Spec(B \times_l k)$ coming from $B \times_l k \subset B$).
This construction is functorial in $B$ and compatible with morphisms.

\medskip\noindent
Next, assume $\mathcal{X}$ satisfies (RS). Consider the diagrams
$$
\vcenter{
\xymatrix{
l & B \ar[l] \\
k \ar[u] & B \times_l k \ar[l] \ar[u]
}
}
\quad\text{and}\quad
\vcenter{
\xymatrix{
\Spec(l) \ar[d] \ar[r] & \Spec(B) \ar[d] \\
\Spec(k) \ar[r] & \Spec(B \times_l k)
}
}
$$
The diagram on the left is a fibre product of rings. The diagram on the
right is a pushout in the category of schemes, see
More on Morphisms, Lemma \ref{more-morphisms-lemma-pushout-along-thickening}.
These schemes are all of finite type over $S$ (see remarks following
Definition \ref{definition-RS}). Hence (RS) kicks in to give an equivalence
of fibre categories
$$
\mathcal{X}_{\Spec(B \times_l k)}
\longrightarrow
\mathcal{X}_{\Spec(k)}
\times_{\mathcal{X}_{\Spec(l)}}
\mathcal{X}_{\Spec(B)}
$$
This implies that the functor defined above gives an equivalence of
fibre categories. Hence the functor is an equivalence on categories
cofibred in groupoids by (the dual of)
Categories, Lemma \ref{categories-lemma-equivalence-fibred-categories}.
\end{proof}








\section{Tangent spaces}
\label{section-tangent-spaces}

\noindent
Let $S$ be a locally Noetherian scheme. Let $\mathcal{X}$ be a category
fibred in groupoids over $(\Sch/S)_{fppf}$. Let $k$ be a field of finite
type over $S$ and let $x_0$ be an object of $\mathcal{X}$ over $k$.
In Formal Deformation Theory, Section \ref{formal-defos-section-tangent-spaces}
we have defined the tangent space
\begin{equation}
\label{equation-tangent-space}
T\mathcal{F} =
\{\text{isomorphism classes of objects in }\mathcal{F}(k[\epsilon])\}
\end{equation}
of the predeformation category $\mathcal{F}$. If $\mathcal{X}$ satisfies
the Rim-Schlessinger condition (RS), then comes equipped with a natural
$k$-vector space structure (see
Formal Deformation Theory, Lemma
\ref{formal-defos-lemma-tangent-space-vector-space},
Lemma \ref{lemma-deformation-category} and
Remark \ref{remark-deformation-category-implies}). A natural condition
is to ask this vector space to have finite dimension.

\medskip\noindent
The following lemma tells us this is true if
$\mathcal{X}$ is locally of finite type over $S$ (see
Morphisms of Stacks, Section \ref{stacks-morphisms-section-finite-type}).

\begin{lemma}
\label{lemma-finite-dimension}
Let $S$ be a locally Noetherian scheme. Assume
\begin{enumerate}
\item $\mathcal{X}$ is an algebraic stack,
\item $U$ is a scheme locally of finite type over $S$, and
\item $(\textit{Sch}/U)_{fppf} \to \mathcal{X}$ is a smooth surjective
morphism.
\end{enumerate}
Then, for any $\mathcal{F} = \mathcal{F}_{\mathcal{X}, k, x_0}$ as in
Section \ref{section-predeformation-categories}
the tangent space $T\mathcal{F}$ has finite dimension over $k$
\end{lemma}

\begin{proof}
Let us write $\mathcal{U} = (\textit{Sch}/U)_{fppf}$. By our definition
of algebraic stacks the $1$-morphism $\mathcal{U} \to \mathcal{X}$
is representable by algebraic spaces. Hence in particular the
2-fibre product
$$
\mathcal{U}_{x_0} = (\Sch/\Spec(k))_{fppf} \times_\mathcal{X} \mathcal{U}
$$
is representable by an algebraic space $U_{x_0}$ over $\Spec(k)$. Then
$U_{x_0} \to \Spec(k)$ is smooth and surjective (in particular $U_{x_0}$
is nonempty). By Spaces over Fields, Lemma
\ref{spaces-over-fields-lemma-smooth-separable-closed-points-dense}
we can find a finite extension $l \supset k$ and a point
$\Spec(l) \to U_{x_0}$ over $k$. We have
$$
(\mathcal{F}_{\mathcal{X}, k , x_0})_{l/k} =
\mathcal{F}_{\mathcal{X}, l, x_{l, 0}}
$$
by Lemma \ref{lemma-change-of-field} and the fact that $\mathcal{X}$
satisfies (RS). Thus we see that
$$
T\mathcal{F} \otimes_k l \cong T\mathcal{F}_{\mathcal{X}, l, x_{l, 0}}
$$
by
Formal Deformation Theory, Lemma
\ref{formal-defos-lemma-tangent-space-change-of-field}
(applicable by
Lemmas \ref{lemma-algebraic-stack-RS} and
\ref{lemma-deformation-category} and
Remark \ref{remark-deformation-category-implies}).
Hence it suffices to prove that $T\mathcal{F}_{\mathcal{X}, l, x_{l, 0}}$
has finite dimension over $l$. Note that $x_{l, 0}$ comes from a point
$u_0$ of $\mathcal{U}$ over $l$. Then the functor
$$
\mathcal{F}_{\mathcal{U}, l, u_0}
\longrightarrow
\mathcal{F}_{\mathcal{X}, l, x_{l, 0}}
$$
is smooth by Lemma \ref{lemma-formally-smooth-on-deformation-categories}
and Criteria for Representability, Lemma
\ref{criteria-lemma-representable-by-spaces-formally-smooth}.
Then the map on tangent spaces
$$
T\mathcal{F}_{\mathcal{U}, l, u_0}
\longrightarrow
T\mathcal{F}_{\mathcal{X}, l, x_{l, 0}}
$$
is $l$-linear (by
Formal Deformation Theory, Lemma
\ref{formal-defos-lemma-k-linear-differential})
and surjective (by a direct application of the definitions or by
the stronger
Formal Deformation Theory, Lemma
\ref{formal-defos-lemma-smooth-morphism-essentially-surjective}).

\medskip\noindent
Hence it suffices to prove that the tangent space of the deformation
space associated to the representable algebraic stack $\mathcal{U}$
at the point $u_0$ is finite dimensional. Let $\Spec(R) \subset U$ be
an affine open such that $u_0 : \Spec(l) \to U$ factors through $\Spec(R)$
and such that $\Spec(R) \to S$ factors through $\Spec(\Lambda) \subset S$.
Let $\mathfrak m_R \subset R$ be the kernel of the $\Lambda$-algebra map
$\varphi_0 : R \to l$ corresponding to $u_0$. Note that $R$, being of finite
type over the Noetherian ring $\Lambda$, is a Noetherian ring. Hence
$\mathfrak m_R = (f_1, \ldots, f_n)$ is a finitely generated ideal.
We have
$$
T\mathcal{F}_{\mathcal{U}, l, u_0}
=
\{\varphi : R \to l[\epsilon] \mid
\varphi \text{ is a } \Lambda\text{-algebra map and }
\varphi \bmod \epsilon = \varphi_0\}
$$
An element of the right hand side is determined by its values on
$f_1, \ldots, f_n$ hence the dimension is at most $n$ and we win.
Some details omitted.
\end{proof}







\section{Examples of deformation problems}
\label{section-examples}

\noindent
List of things that should go here:
\begin{enumerate}
\item Describe the general outline of an example.
\item Deformations of schemes:
\begin{enumerate}
\item The Rim-Schlessinger condition.
\item Computing the tangent space.
\item Computing the infinitesimal deformations.
\item The deformation category of an affine hypersurface.
\end{enumerate}
\item Deformations of representations of abstract groups.
\item Deformations of representations of topological groups
(e.g., profinite ones).
\item Deformations of sheaves (for example fix $X/S$, a finite type point
$s$ of $S$, and a quasi-coherent sheaf $\mathcal{F}_s$ over $X_s$).
\item Deformations of algebraic spaces (very similar to deformations
of schemes; maybe even easier?).
\item Deformations of maps (eg morphisms between schemes; you can fix
both or one of the target and/or source).
\item Add more here.
\end{enumerate}










\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
