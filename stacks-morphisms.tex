\input{preamble}

% OK, start here.
%
\begin{document}

\title{Morphisms of Algebraic Stacks}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
In this chapter we introduce some types of morphisms of algebraic stacks.
A reference in the case of quasi-separated algebraic stacks with representable
diagonal is \cite{LM-B}.

\medskip\noindent
The goal is to extend the definition of each of the types of morphisms of
algebraic spaces to morphisms of algebraic stacks. Each case is slightly
different and it seems best to treat them all separately.

\medskip\noindent
For morphisms of algebraic stacks which are representable
by algebraic spaces we have already defined a large number of types of
morphisms, see
Properties of Stacks,
Section \ref{stacks-properties-section-properties-morphisms}.
For each corresponding case in this chapter
we have to make sure the definition in the general
case is compatible with the definition given there.




\section{Conventions and abuse of language}
\label{section-conventions}

\noindent
We continue to use the conventions and the abuse of language
introduced in
Properties of Stacks, Section \ref{stacks-properties-section-conventions}.




\section{Properties of diagonals}
\label{section-diagonals}

\noindent
The diagonal of an algebraic stack is closely related to the
$\mathit{Isom}$-sheaves, see
Algebraic Stacks, Lemma \ref{algebraic-lemma-representable-diagonal}.
By the second defining property of an algebraic stack these
$\mathit{Isom}$-sheaves are always algebraic spaces.

\begin{lemma}
\label{lemma-isom-locally-finite-type}
Let $\mathcal{X}$ be an algebraic stack.
Let $T$ be a scheme and let $x, y$ be objects of the fibre category of
$\mathcal{X}$ over $T$. Then the morphism
$\textit{Isom}_{\mathcal{X}}(x, y) \to T$ is locally of finite type.
\end{lemma}

\begin{proof}
By
Algebraic Stacks, Lemma \ref{algebraic-lemma-space-presentation}
we may assume that $\mathcal{X} = [U/R]$ for some smooth
groupoid in algebraic spaces.
By
Descent of Spaces,
Lemma \ref{spaces-descent-lemma-descending-property-locally-finite-type}
it suffices to check the property fppf locally on $T$.
Thus we may assume that $x, y$ come from morphisms
$x', y' : T \to U$. By
Groupoids in Spaces,
Lemma \ref{spaces-groupoids-lemma-quotient-stack-morphisms}
we see that in this case
$\textit{Isom}_{\mathcal{X}}(x, y) = T \times_{(y', x'), U \times_S U} R$.
Hence it suffices to prove that $R \to U \times_S U$ is
locally of finite type. This follows from the fact that the composition
$s : R \to U \times_S U \to U$ is smooth (hence locally of finite type, see
Morphisms of Spaces, Lemmas
\ref{spaces-morphisms-lemma-smooth-locally-finite-presentation} and
\ref{spaces-morphisms-lemma-finite-presentation-finite-type})
and
Morphisms of Spaces, Lemma \ref{spaces-morphisms-lemma-permanence-finite-type}.
\end{proof}

\begin{lemma}
\label{lemma-isom-pseudo-torsor-aut}
Let $\mathcal{X}$ be an algebraic stack.
Let $T$ be a scheme and let $x, y$ be objects of the fibre category of
$\mathcal{X}$ over $T$. Then
\begin{enumerate}
\item $\textit{Isom}_{\mathcal{X}}(y, y)$ is a group algebraic space
over $T$, and
\item $\textit{Isom}_{\mathcal{X}}(x, y)$ is a pseudo torsor for
$\textit{Isom}_{\mathcal{X}}(y, y)$ over $T$.
\end{enumerate}
\end{lemma}

\begin{proof}
See
Groupoids in Spaces,
Definitions \ref{spaces-groupoids-definition-group-space} and
\ref{spaces-groupoids-definition-pseudo-torsor}.
The lemma follows immediately from the fact that $\mathcal{X}$ is a
stack in groupoids.
\end{proof}

\noindent
Let $f : \mathcal{X} \to \mathcal{Y}$ be a morphism of algebraic stacks.
The {\it diagonal of $f$} is the morphism
$$
\Delta_{\mathcal{X}/\mathcal{Y}} :
\mathcal{X}
\longrightarrow
\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}
$$

\begin{lemma}
\label{lemma-properties-diagonal}
Let $f : \mathcal{X} \to \mathcal{Y}$ be a morphism of algebraic stacks.
Then
\begin{enumerate}
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is representable by algebraic spaces,
and
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is locally of finite type.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $T$ be a scheme and let
$a : T \to \mathcal{X} \times_{\mathcal{Y}} \mathcal{X}$
be a morphism. By definition of the fibre product and the
$2$-Yoneda lemma the morphism $a$ is given by a triple
$a = (x, x', \alpha)$ where $x, x'$ are objects of $\mathcal{X}$
over $T$, and $\alpha : f(x) \to f(x')$ is a morphism in the fibre
category of $\mathcal{Y}$ over $T$. By definition of an algebraic
stack the sheaves $\mathit{Isom}_{\mathcal{X}}(x, x')$ and
$\mathit{Isom}_{\mathcal{Y}}(f(x), f(x'))$ are algebraic spaces
over $T$. In this language $\alpha$ defines a section of the morphism
$\mathit{Isom}_{\mathcal{X}}(x, x') \to T$. A $T'$-valued point of
$\mathcal{X} \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}, a} T$
for $T' \to T$ a scheme over $T$ is the same thing as an isomorphism
$x|_{T'} \to x'|_{T'}$ whose image under $f$ is $\alpha|_{T'}$.
Thus we see that
\begin{equation}
\label{equation-diagonal}
\vcenter{
\xymatrix{
\mathcal{X} \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}, a} T
\ar[d] \ar[r] &
\mathit{Isom}_{\mathcal{X}}(x, x') \ar[d] \\
T\ar[r]^-\alpha &
\mathit{Isom}_{\mathcal{Y}}(f(x), f(x'))
}
}
\end{equation}
is a fibre square of sheaves over $T$. In particular we see that
$\mathcal{X} \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}, a} T$
is an algebraic space which proves part (1) of the lemma.

\medskip\noindent
To prove the second statement we have to show that the left
vertical arrow of Diagram (\ref{equation-diagonal}) is locally
of finite type. By
Lemma \ref{lemma-isom-locally-finite-type}
the algebraic space $\mathit{Isom}_{\mathcal{X}}(x, x')$ and
is locally of finite type over $T$. Hence the right vertical arrow of
Diagram (\ref{equation-diagonal}) is locally of finite type, see
Morphisms of Spaces, Lemma \ref{spaces-morphisms-lemma-permanence-finite-type}.
We conclude by
Morphisms of Spaces,
Lemma \ref{spaces-morphisms-lemma-base-change-finite-type}.
\end{proof}

\begin{lemma}
\label{lemma-properties-diagonal-representable}
Let $f : \mathcal{X} \to \mathcal{Y}$ be a morphism of algebraic stacks
which is representable by algebraic spaces. Then
\begin{enumerate}
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is representable
(by schemes),
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is locally of finite type,
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is a monomorphism,
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is separated, and
\item $\Delta_{\mathcal{X}/\mathcal{Y}}$ is locally quasi-finite.
\end{enumerate}
\end{lemma}

\begin{proof}
We have already seen in
Lemma \ref{lemma-properties-diagonal}
that $\Delta_{\mathcal{X}/\mathcal{Y}}$ is representable by algebraic
spaces. Hence the statements (2) -- (5) make sense, see
Properties of Stacks,
Section \ref{stacks-properties-section-properties-morphisms}.
Also
Lemma \ref{lemma-properties-diagonal}
garantees (2) holds.
Let $T \to \mathcal{X} \times_{\mathcal{Y}} \mathcal{X}$ be a morphism
and contemplate Diagram (\ref{equation-diagonal}). By
Algebraic Stacks, Lemma
\ref{algebraic-lemma-criterion-map-representable-spaces-fibred-in-groupoids}
the right vertical arrow is injective as a map of sheaves, i.e., a
monomorphism of algebraic spaces. Hence also the morphism
$T \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}} \mathcal{X} \to T$
is a monomorphism. Thus (3) holds. We already know that
$T \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}} \mathcal{X} \to T$
is locally of finite type. Thus
Morphisms of Spaces, Lemma
\ref{spaces-morphisms-lemma-monomorphism-loc-finite-type-loc-quasi-finite}
allows us to conclude that
$T \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}} \mathcal{X} \to T$
is locally quasi-finite and separated. This proves (4) and (5).
Finally,
Morphisms of Spaces, Proposition
\ref{spaces-morphisms-proposition-locally-quasi-finite-separated-over-scheme}
implies that
$T \times_{\mathcal{X} \times_{\mathcal{Y}} \mathcal{X}} \mathcal{X}$
is a scheme which proves (1).
\end{proof}













\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
