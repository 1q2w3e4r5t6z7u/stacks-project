\input{preamble}

% OK, start here.
%
\begin{document}

\title{Injectives}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
We will use the existence of sufficiently many injectives to
do cohomology of abelian sheaves on a site. So we briefly 
explain why there are enough injectives. At the end we explain
the more general story.

\section{Abelian groups}
\label{section-abelian-groups}

\noindent
In this section we show the category of abelian groups has enough
injectives. Recall that an abelian group $M$ is {\it divisible}
if and only if for every $x \in M$ and every $n \in \mathbf{N}$
there exists a $y \in M$ such that $n y = x$.

\begin{lemma}
\label{lemma-injective-abelian}
An abelian group $J$ is an injective object in 
the category of abelian groups if and only if $J$
is divisible.
\end{lemma}

\begin{proof}
Suppose that $J$ is not divisible. Then there exists
an $x \in J$ and $n \in \mathbf{N}$ such that there
is no $y \in J$ with $n y = x$. Then the morphism
$\mathbf{Z} \to J$, $m \mapsto mx$ does not extend
to $\frac{1}{n}\mathbf{Z} \supset \mathbf{Z}$. Hence
$J$ is not injective.

\medskip\noindent
Let $A \subset B$ be abelian groups.
Assume that $J$ is a divisible abelian group.
Let $\varphi : A \to J$ be a morphism. 
Consider the set of homomorphisms $\varphi' : A' \to J$
with $A \subset A' \subset B$ and $\varphi'|_A = \varphi$.
Define $(A', \varphi') \geq (A'', \varphi'')$ if
and only if $A' \supset A''$ and $\varphi'|_{A''} = \varphi''$.
If $(A_i, \varphi_i)_{i \in I}$ is a totally
ordered collection of such pairs, then
$\bigcup_{i \in I} A_i \to J$ defined by $a \in A_i$
maps to $\varphi_i(a)$. By Zorn's lemma we have to show
that if the pair $(A', \varphi')$ is maximal then
$A' = B$. If not, pick $x \in B$, $x \not \in A'$.
If there exists no $n\in \mathbf{N}$ such that
$nx \in A'$, then $A' \oplus \mathbf{Z} \cong A' + \mathbf{Z}x$.
Hence we can extend $\varphi'$ contradicting the maximality.
If there does exist an $n \in \mathbf{N}$ such that
$nx \in A'$, then let $n$ be the minimal such integer.
Let $z \in J$ be an element such that $nz = \varphi'(nx)$.
Define a morphism $\tilde \varphi : A' \oplus \mathbf{Z} \to J$ by
$(a, m) \mapsto \varphi'(a) + mz$. By our choice of
$z$ the kernel of $\tilde \varphi$ contains the kernel
of the map $A' \oplus \mathbf{Z} \to B$,
$(a, m) \mapsto a + mx$. Hence this extends the morphism
$\varphi'$. Contradiction.
\end{proof}

\noindent
We can use this lemma to show that every abelian
group can be embbeded in a injective abelian
group. But this is a special case of the result of
the following section.

\section{Modules}
\label{section-injectives-modules}

\noindent 
As an example theorem let us try to prove that there are enough injective
modules over a ring $R$. We start with the fact that $\mathbf{Q}/\mathbf{Z}$ 
is an injective abelian group. This follows from
Lemma \ref{lemma-injective-abelian} above.

\begin{definition}
\label{definition-simple-functors}
Let $R$ be a ring.
\begin{enumerate}
\item For any $R$-module $M$ over $R$ we denote 
$M^\vee = \text{Hom}(M,\mathbf{Q}/\mathbf{Z})$
with its natural $R$-module structure. We think
of $M \mapsto M^\vee$ as a contravariant functor
from the category of $R$-modules to itself.
\item For any $R$-module $M$ we denote
$$
F(M) = \bigoplus\nolimits_{m \in M} R[m]
$$
the free module with basis given by the elements $[m]$ with
$m \in M$. We let $F(M)\to M$, $\sum f_i [m_i] \mapsto \sum f_i m_i$
be the natural surjection of $R$-modules.
We think of $M \mapsto (F(M) \to M)$ as a functor from
the category of $R$-modules to the category of
arrows in $R$-modules.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-vee-exact}
Let $R$ be a ring.
The functor $M \mapsto M^\vee$ is exact.
\end{lemma}

\begin{proof}
This because $\mathbf{Q}/\mathbf{Z}$
is an injective abelian group.
\end{proof}

\noindent
There is a canonical map $ev : M \to (M^\vee)^\vee$
given by evaluation: given $x \in M$ we let
$ev(x) \in (M^\vee)^\vee = \text{Hom}(M^\vee, \mathbf{Q}/\mathbf{Z})$
be the map $\varphi \mapsto \varphi(x)$.

\begin{lemma}
\label{lemma-ev-injective}
For any $R$-module $M$ the evaluation map
$ev : M \to (M^\vee)^\vee$ is injective.
\end{lemma}

\begin{proof}
You can check this using that $\mathbf{Q}/\mathbf{Z}$ is an injective
abelian group. Namely, if $x \in M$ is not zero, then let
$M' \subset M$ be the cyclic group it generates. There exists
a nonzero map $M' \to \mathbf{Q}/\mathbf{Z}$ which necessarily does
not annihilate $x$. This extends to
a map $\varphi : M \to \mathbf{Q}/\mathbf{Z}$
And then $ev(x)(\varphi) = \varphi(x) \not = 0$.
\end{proof}

\noindent
The canonical surjection $F(M) \to M$ of $R$-modules turns into a
a canonical injection, see above, of $R$-modules 
$$
(M^\vee)^\vee \longrightarrow (F(M^\vee))^\vee.
$$
Set $J(M) = (F(M^\vee))^\vee$. The composition of $ev$ with this
the displayed map gives $M \to J(M)$ functorially in $M$.

\begin{lemma}
\label{lemma-JM-injective}
Let $R$ be a ring. For every $R$-module $M$ the
$R$-module $J(M)$ is injective.
\end{lemma}

\begin{proof}
Note that $J(M) \cong \prod_{m\in M} R^\vee$ as an $R$-module.
As the product of injective modules is injective, it suffices to
show that $R^\vee$ is injective. For this we use that 
$$
\text{Hom}_R(N, R^\vee) =
\text{Hom}_R(N, \text{Hom}_{\mathbf{Z}}(R, \mathbf{Q}/\mathbf{Z})) =
N^\vee
$$
and the
fact that $(-)^\vee$ is an exact functor by Lemma
\ref{lemma-vee-exact}.
\end{proof}

\begin{lemma}
\label{lemma-injectives-modules}
Let $R$ be a ring.
The construction above defines a covariant functor
$M \mapsto (M \to J(M))$ from the category of
$R$-modules to the category of arrows of $R$-modules
such that for every module $M$ the output
$M \to J(M)$ is an injective map of $M$ into
an injective $R$-module $J(M)$.
\end{lemma}

\begin{proof}
Follows from the above.
\end{proof}

\noindent
In particular, for any map of $R$-modules $M \to N$ 
there is an associated morphism $J(M) \to J(N)$
making the following diagram commute:
$$
\xymatrix{
M \ar[d] \ar[r] & N \ar[d] \\
J(M) \ar[r] & J(N) }
$$
This the kind of construction we would like to have in general.

\section{Categories of modules}
\label{section-category-modules}

\noindent
As a consequence we obtain a category of modules with a canonical
resolution. For an ordinal $\alpha$ we denote $\text{Mod}_{R,\alpha}$
the category of modules contained in $V_\alpha$ (see Sets, 
Section \ref{sets-section-sets-hierarchy}).

\begin{lemma}
\label{lemma-injective-module-preserves-category}
For any given set of $R$-modules $\{M_i\}_{i\in I}$ there exists an ordinal
$\alpha$ such that $M_i \in \text{Ob}(\text{Mod}_{R,\alpha})$,
$\forall i\in I$ and such that for any
$M \in \text{Ob}(\text{Mod}_{R,\alpha})$ we have
$J(M) \in \text{Ob}(\text{Mod}_{R,\alpha})$.
\end{lemma}

\begin{proof}
Consider the formula $\phi(M)$: ``$M$ is an $R$-module and there exists
an $R$-module $N$ such that $N=J(M)$''. Apply the reflection principle to
$\phi(M)$, see  Theorem \ref{sets-theorem-reflection-principle}. (Use $T = 
\{M_i\}$.)
The result follows.
\end{proof}

\noindent
Some remarks are in order. First we observe that the modules $J(M)$
are injective in the absolute sense, and not only injective in the
category $\text{Mod}_{R,\alpha}$. Second, in exactly the same way we
can make sure that $\text{Mod}_{R,\alpha}$ has all finite limits,
finite direct sums, or countable sums and products, etc. Of course
the category $\text{Mod}_{R,\alpha}$ never has arbitrary direct sums,
which is why working with $\text{Mod}_{R,\alpha}$ is somewhat cumbersome.

\section{Projective resolutions}
\label{section-projective-resolution}

\noindent
FIXME: Remove probably?

\noindent
For any set $S$ we let $F(S)$ denote the free $R$-module on $S$.
Then any left $R$-module has the following two step resolution
$$
F(M\times M) \oplus F(R\times M) \to F(M) \to M \to 0.
$$
The first map is given by the rule
$$
[m1,m2] \oplus [r,m] \mapsto [m1+m2]-[m1]-[m2]+[rm]-r[m].
$$
The nice thing about this is that it is absolutely canonical.
Sometimes we write $S_1 = M\times M \coprod R\times M$ and
$S_0=M$, so that the resolution is $F(S_1) \to F(S_0) \to M \to 0$.

\section{Injectives and adjoint functors}
\label{section-adjoint}

\begin{lemma}
\label{lemma-adjoint}
Let $\mathcal{A}$ and $\mathcal{B}$ be abelian categories.
Let $u : \mathcal{A} \to \mathcal{B}$ and
$v : \mathcal{B} \to \mathcal{A}$ be adjoint additive functors.
Assume that $v$ transforms injections into injections.
Then $u$ transforms injectives into injectives.
\end{lemma}

\begin{proof}
FIXME.
\end{proof}


\section{Abelian presheaves}
\label{section-injectives-presheaves}

\noindent
Let $\mathcal{C}$ be a category. Recall that this means that
$\text{Ob}(\mathcal{C})$ is a set. On the one hand, consider abelian
presheaves on $\mathcal{C}$, see
Sites, Section \ref{sites-section-presheaves}.
On the other hand, consider families of abelian groups
indexed by elements of $\text{Ob}(\mathcal{C})$; in other
words presheaves on the discrete category with underlying set
of objects $\text{Ob}(\mathcal{C})$. Let us denote this
discrete category simply $\text{Ob}(\mathcal{C})$.
There is a natural functor
$$
i : \text{Ob}(\mathcal{C}) \longrightarrow \mathcal{C}
$$
and hence there is a natural restriction or forgetful functor
$$
v = i^p : 
\textit{PAb}(\mathcal{C})
\longrightarrow
\textit{PAb}(\text{Ob}(\mathcal{C}))
$$
compare Sites, Section \ref{sites-section-functoriality-PSh}.
We will denote presheaves
on $\mathcal{C}$ by $B$ and presheaves on
$\text{Ob}(\mathcal{C})$ by $A$.

\medskip\noindent
There is also a functor $u = i_p$ (compare
Sites, Section \ref{sites-section-functoriality-PSh})
that assigns an abelian presheaf on $\mathcal{C}$
to an abelian presheaf on $\text{Ob}(\mathcal{C})$.
In this particular case it is defined as follows:
$$
uA(U) = \prod\nolimits_{U' \to U} A(U').
$$
So an element is a family $(a_\phi)_\phi$ with $\phi$
ranging through all morphisms in $\mathcal{C}$ with target $U$.
The restriction map on $uA$ corresponding to $g : V \to U$
maps our element $(a_\phi)_\phi$ to the element 
$(a_{g \circ \psi})_\psi$. 

\medskip\noindent
There is a canonical surjective map $vuA \to A$ and a canonical
injective map $B \to uvB$. We leave it to the reader to show that
$$
\text{Mor}_{\textit{PAb}(\text{Ob}(\mathcal{C}))}(B, uA)
=
\text{Mor}_{\textit{PAb}(\mathcal{C})}(vB, A).
$$
in this simple case; the general case is in
Sites, Section \ref{sites-section-functoriality-PSh}.
Thus the pair $(u,v)$ is an example of a pair of adjoint
functors, see
Categories, Section \ref{categories-section-adjoint}.

\medskip\noindent
At this point we can list the following facts
about the situation above.
\begin{enumerate}
\item The functors $u$ and $v$ are exact. This follows from
the explicit description of these functors given above.
\item The category $\textit{PAb}(\text{Ob}(\mathcal{C}))$
has enough injectives.
\item In fact there is a functor $J$ such that
$A \mapsto \big(A \to J(A)\big)$ is functorial as in
Section \ref{section-injectives-modules}.
Namely, $J(A)$ is presheaf $U\mapsto J(A(U))$, where
$J(-)$ is the functor constructed in
Section \ref{section-injectives-modules} for the ring $\mathbf{Z}$.
\item For any injective presheaf $J$ in $\textit{PAb}(\text{Ob}(\mathcal{C}))$
the presheaf $uJ$ is injective in $\textit{PAb}(\mathcal{C})$.
Namely, let $B_1 \to B_2$ be an injective map of abelian
presheaves on $\mathcal{C}$. Suppose that $B_1 \to uJ$ is
a morphism. By adjointness this corresponds to a morphism

Then $vB_1 \to vB_2$
\end{enumerate}

\medskip\noindent
Putting all of this together gives us the following procedure
for embedding objects $B$ of $\text{PAb}(\mathcal{C}))$ into
an injective object: $B \to uJ(vB)$.

\begin{proposition}
\label{proposition-presheaves-injectives}
For abelian presheaves on a category there is a functorial injective hull.
\end{proposition}

\section{Categories of presheaves of abelian groups}
\label{section-category-presheaves}

\noindent
Arguing as in the proof of
Lemma \ref{lemma-injective-module-preserves-category} we obtain a category
with an injective resolution functor. For any ordinal $\alpha$,
we use the notation $\text{PAb}(\mathcal{C})_\alpha$ to denote the category
of presheaves $\mathcal{F}$ of abelian groups with $\mathcal{F} \in V_\alpha$.
See Sets, Section \ref{sets-section-sets-hierarchy}.

\begin{lemma} 
\label{lemma-injective-presheaf-preserves-category}
Given any set of abelian presheaves $\mathcal{F}_i$, $i\in I$, there
exists an ordinal $\alpha$ such that $\text{PAb}(\mathcal{C})_\alpha$
contains all of the $\mathcal{F}_i$, and such that there is a functor
$\text{PAb}(\mathcal{C})_\alpha \to
\text{Arrows}(\text{PAb}(\mathcal{C})_\alpha)$
of the form $\mathcal{F} \mapsto (\mathcal{F} \to J(\mathcal{F}))$
with the property that $\mathcal{F} \to J(\mathcal{F})$ is an injective
hull for all $\mathcal{F} \in \text{PAb}(\mathcal{C})_\alpha$.
\end{lemma}

\begin{proof}
FIXME. Very similar to the corresponding lemma for modules.
\end{proof}

\section{Abelian Sheaves}
\label{section-injectives-sheaves}

\noindent
Let $\mathcal{C}$ be a site. In this section we prove that there are 
enough injectives for abelian sheaves on $\mathcal{C}$. 

\medskip\noindent
Denote $i$ the forgetfull functor from sheaves to presheaves. Let
$\#$ denote the sheafification functor, see FIXME. In this section we
will use that $i(\mathcal{F})^\# = \mathcal{F}$, see FIXME.
Finally, let $\mathcal{F} \to J(\mathcal{F})$ denote the canonical
embedding into an injective presheaf we found in 
Section \ref{section-injectives-presheaves}. 

\medskip\noindent
For any sheaf $\mathcal{F}$ in $\text{Ab}(\mathcal{C})$ and
any ordinal $\beta$ we define a sheaf
$J_\beta(\mathcal{F})$ by transfinite induction.
FIXME: explain transfinite induction in \url{src/sets.tex}.
First we set $J_0(\mathcal{F})=\mathcal{F}$.
We define $J_1(\mathcal{F})=J(i(\mathcal{F}))^\#$;
there is a map $\mathcal{F}=i(\mathcal{F})^\# \to J(i\mathcal{F})^\#$
by functoriality of $\#$. This map $\mathcal{F} \to J_1(\mathcal{F})$
is injective as $\#$ is exact. We set $J_{\alpha+1}=J_1(J_\alpha)$, 
and for a limit ordinal $\beta$, we define
$$
J_\beta(B) = \lim_{\alpha < \beta} J_\alpha(B).
$$
FIXME: limit notation.

\begin{lemma}
\label{lemma-map-into-next-one}
With notation as above.
Suppose that $\mathcal{G}_1 \to \mathcal{G}_2$ is an injective
map of abelian sheaves on $\mathcal{C}$. Let $\alpha$ be an ordinal
and let $\mathcal{G}_1\to J_\alpha(\mathcal{F})$ be a morphism
of sheaves. There exists a morphism $\mathcal{G}_2 \to
J_{\alpha+1}(\mathcal{F})$ such that the following diagram commutes
$$
\xymatrix{
\mathcal{G}_1 \ar[d] \ar[r] & \mathcal{G}_2 \ar[d] \\
J_{\alpha}(\mathcal{F}) \ar[r] & J_{\alpha+1}(\mathcal{F}) }
$$
\end{lemma}

\begin{proof}
FIXME.
\end{proof}

\noindent
This lemma says that somehow the system $\{J_{\alpha}(\mathcal{F})\}$
is the injective hull of $\mathcal{F}$ that we are looking for. Of course
we cannot take the limit over all $\alpha$ because they form a class
and not a set. However, the idea is now that you don't have to check
injectivity on all injections $\mathcal{G}_1 \to \mathcal{G}_2$, plus
the following lemma.

\begin{lemma}
\label{lemma-map-into-smaller}
Suppose that $\mathcal{G}_i$, $i\in I$ is set of sheaves of abelian 
groups on $\mathcal{C}$. There exists an ordinal $\beta$ such that
for any sheaf $\mathcal{F}$, any $i\in I$, and any map $\varphi : 
\mathcal{G}_i \to J_\beta(\mathcal{F})$ there exists an 
$\alpha < \beta$ such that $ \varphi $ factors through 
$J_\alpha(\mathcal{F})$.
\end{lemma}

\begin{proof}
(You can reduce this to the case of a single sheaf $\mathcal{G}$
by taking the direct sum of all the $\mathcal{G}_i$.)
FIXME. Hint: First suppose that $T = \lim_{\alpha < \beta} T_\alpha$
is a limit of sets and that $\varphi : S \to T$ is a map of sets. 
Then $\varphi$ lifts to a map into $T_\alpha$ for some $\alpha < \beta$
provided that $\beta$ is not a limit of ordinals indexed by $S$.
In other words, you pick $\beta$ to be a cardinal with cofinality
$cf(\beta)$ bigger than the cardinality of $S$; for example you can take 
$\beta = \aleph_{\alpha+1}$. Reference? Use this and
some argument for equalizers to get through.
\end{proof}

\noindent
Recall that for an object $X$ of $\mathcal{C}$ we denote $\mathbf{Z}_X$ 
the presheaf of abelian groups $\Gamma(U, \mathbf{Z}_X) = 
\oplus_{U \to X} \mathbf{Z}$. FIXME: should be introduced in
\url{src/sites.tex}. The sheaf associated to this presheaf
is denoted $\mathbf{Z}_X^\#$.

\begin{lemma}
\label{lemma-characterize-injectives}
Suppose $\mathcal{J}$ is a sheaf of abelian groups with the following
property: For all $X\in \text{Ob}(\mathcal{C})$, for all subsheaves
$\mathcal{G} \subset \mathbf{Z}_X^\#$ and for all morphisms
$\varphi : \mathcal{G} \to \mathcal{J}$, there exists an morphism
$\mathbf{Z}_X^\# \to \mathcal{J}$ extending $\varphi$.
Then $\mathcal{J}$ is an injective sheaf of abelian groups.
\end{lemma}

\begin{proof}
FIXME.
\end{proof}

\begin{theorem}
\label{theorem-sheaves-injectives}
The category of abelian sheaves has enough injectives (in the
strongest possible sense).
\end{theorem}

\begin{proof}
FIXME. Idea: Let $\mathcal{G}_i$, $i\in I$ be a set of abelian
sheaves such that every subsheaf of every $\mathbf{Z}_X^\#$
occurs as one of the $\mathcal{G}_i$. Apply
Lemma \ref{lemma-map-into-smaller} to this collection to
get an ordinal $\beta$. We claim that for any sheaf of abelian
groups $\mathcal{F}$ the map $\mathcal{F} \to J_\beta(\mathcal{F})$
is an injection of $\mathcal{F}$ into an injective.
Note that by construction the assigment $\mathcal{F} \mapsto
\big(\mathcal{F} \to J_\beta(\mathcal{F})\big)$ is functorial.

\medskip\noindent
The proof of the claim comes from the fact that by
Lemma \ref{lemma-characterize-injectives} it suffices to extend any
morphism $\gamma : \mathcal{G} \to J_\beta(\mathcal{F})$ 
from a subsheaf $\mathcal{G}$ of some $\mathbf{Z}_X^\#$ to all of
$\mathbf{Z}_X^\#$. Then by Lemma \ref{lemma-map-into-smaller} the
map $\gamma$ lifts into $J_\alpha(\mathcal{F})$ for some
$\alpha < \beta$. Finally, we apply Lemma \ref{lemma-map-into-next-one}
to get the desired extension of $\gamma$ to a morphism
into $J_{\alpha+1}(\mathcal{F}) \to J_\beta(\mathcal{F})$.
\end{proof}

\section{Categories of abelian sheaves}
\label{section-abelian-sheaves}

\noindent
Again we obtain a result concerning the existence of a category 
preserved by the functorial assigment $\mathcal{F} \mapsto
\big(\mathcal{F} \to J_\beta(\mathcal{F})\big)$ described in
Theorem \ref{theorem-sheaves-injectives}. As is usual, for an
ordinal $\alpha$, we denote $\text{Ab}(\mathcal{C})_\alpha$ the
category of abelian sheaves on $\mathcal{C}$ which are elements
of $V_\alpha$.

\begin{lemma}
\label{lemma-injective-sheaf-preserves-category}
Given any set of abelian sheaves $\mathcal{F}_i$, $i\in I$, there
exists an ordinal $\alpha$ such that $\text{Ab}(\mathcal{C})_\alpha$
contains all of the $\mathcal{F}_i$, and such that there is a functor
$\text{Ab}(\mathcal{C})_\alpha \to
\text{Arrows}(\text{Ab}(\mathcal{C})_\alpha)$
of the form $\mathcal{F} \mapsto (\mathcal{F} \to J(\mathcal{F}))$
with the property that $\mathcal{F} \to J(\mathcal{F})$ is an injective
hull for all $\mathcal{F} \in \text{Ab}(\mathcal{C})_\alpha$.
\end{lemma}

\begin{proof}
FIXME. Very similar to the corresponding lemma for modules.
\end{proof}

\section{Grothendieck categories and injectives}

\noindent
Here we can talk in general about generators, limits and
all that good stuff. This will possibly be needed later on
anyway. FIXME.

\medskip\noindent
Grothendieck proved the existence of injectives in great generality 
in the paper \cite{Tohoku}. 


\input{chapters}


\bibliography{my}
\bibliographystyle{alpha}

\end{document}
