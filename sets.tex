\input{preamble}

% OK, start here.
%
\begin{document}

\title{Set theory}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
We need some set theory every now and then. We use Zermelo-Fraenkel set theory
with the axiom of choice as described in \cite{Kunen} and \cite{Jech}. Since
we are talking about potentially large objects (categories and categories of
categories) we should be carefull.

\section{Everything is a set}
\label{section-sets-everything}

\noindent
Most mathematiciens think of set theory as providing the basic
foundations for mathematics. So how does this really work?
For example, how do we translate the sentence
``$X$ is a scheme'' into set theory? Well, we just unravel the
definitions: A scheme is a locally ringed space such that every
point has an open neighbourhood which is an affine scheme. 
A locally ringed space is a ringed space such that every stalk
of the structure sheaf is a local ring. A ringed space is
a pair $(X, \mathcal{O}_X)$ consisting of a topological space
$X$ and a sheaf of rings $\mathcal{O}_X$ on it. A topological
space is a pair $(X, \tau)$ consisiting of a set
$X$ and a set of subsets $\tau \subset \mathcal{P}(X)$ 
satisfying the axions of a topology. And so on and
so forth.

\medskip\noindent
So how, given a set $S$ would we recognize whether it is a scheme?
The first thing we look for is whether the set $S$ is an ordered pair.
This is defined (see \cite{Jech}, page 7) as saying that $S$
has the form $(a,b) := \{\{a\},\{a,b\}\}$ for some sets $a, b$. If this is
the case, then we would take a look to see whether $a$ is an
ordered pair $(c,d)$. If so we would check whether 
$d \subset \mathcal{P}(c)$, and if so whether $d$ forms the collection
of sets for a topology on the set $c$. And so on and so forth.

\medskip\noindent
So even though it would take a considerable amount of work to write
a complete formula $\phi(x)$ with one free variable $x$ in set theory 
that expresses the notion ``$x$ is a set'', it is not difficult to do.
The same thing can be said about any mathematical object.

\section{Classes}
\label{section-classes}

\noindent
Informally we use the notion of a {\it class}. Given a formula
$\phi(x,p_1,\ldots,p_n)$ we call
$$
C = \{x : \phi(x,p_1,\ldots,p_n)\}
$$
a {\it class}. A class is easier to manipulate than the formula
that defines it but it is not strictly speaking a mathematical
object. For example, if $R$ is a ring then we may
consider the class of all $R$-modules (since after all we
may translate the sentence ``$M$ is an $R$-module''
into a formula in set theory which then defines a class).
A {\it proper class} is a class which is not a set.

\noindent
In this way we may consider the category of $R$-modules
which is a ``big'' category, in other words it has a
proper  class of objects. Similarly we may consider
the ``big'' category of schemes, the ``big'' category
of rings, etc.

\section{The hierarchy of sets}
\label{section-sets-hierarchy}

\noindent
A set $T$ is {\it transitive} if $x\in T$ implies $x\subset T$.
A set $\alpha$ is an {\it ordinal} if it is transitive and well-ordered
by $\in$. In this case we define $\alpha + 1 = \alpha \cup \{\alpha\}$,
which is another ordinal called the {\it successor} of $\alpha$.
An ordinal $\alpha$ is called a {\it successor ordinal} if 
there exists an ordinal $\beta$ such that $\alpha = \beta + 1$.
If $\alpha$ is not a successor ordinal, then $\alpha$ is called
a {\it limit ordinal} and we have
$$
\alpha 
=
\bigcup_{\gamma \in \alpha} \gamma
=
\sup \{\beta \mid \beta < \alpha \}
$$

\medskip\noindent
We define, by transfinite induction, $V_0 = \emptyset$,
$V_{\alpha + 1} = P(V_\alpha)$, and for a limit ordinal $\alpha$,
$$
V_\alpha = \bigcup_{\beta < \alpha} V_\beta.
$$

\begin{lemma}
\label{axiom-regularity}
(See \cite{Jech}, Lemma 6.3.)
Every set is an element of $V_\alpha$ for some ordinal $\alpha$.
\end{lemma}

\section{Reflection principle}
\label{section-reflection-principle}

\noindent
This section explains a theorem which will help us deal with some
set theoretical difficulties. 

\medskip\noindent
Let $\phi(x_1,\ldots,x_n)$ be a formula of set theory.
This notation implies that all the free variables in $\phi$
occur among $x_1,\ldots,x_n$. Let $M$ be a set.
The formula $\phi^M(x_1,\ldots,x_n)$ is the formula obtained 
from $\phi(x_1,\ldots,x_n)$ by replacing all the
$\forall x$ and $\exists x$ by $\forall x\in M$ and $\exists x\in M$.
So the formula
$\phi(x_1,x_2) = \exists x, (x\in x_1 \wedge x\in x_2)$
is turned  into
$\phi^M(x_1,x_2) = \exists x \in M, (x\in x_1 \wedge x\in x_2)$.

\begin{theorem}
\label{theorem-reflection-principle}
(See \cite{Jech}, Theorem 12.14.)
Let $\phi_i(x_1,\ldots,x_n)$ be a {\bf finite} collection of
formulas of set theory, and let $T$ be a set.
There exists a set $M$ such that
$T \subset M$ and
$\forall x_1,\ldots,x_n \in M$, we have
$$
\forall i,\  
\phi_i^{M}(x_1,\ldots,x_n)
\Leftrightarrow
\forall i,\  
\phi_i(x_1,\ldots,x_n).
$$
In fact we may take $M = V_\alpha$ for some limit ordinal $\alpha$.
\end{theorem}

\noindent
One important feature of this theorem is that the
formulas hold in all of set theory if and only if they
hold in $V_\alpha$.

\section{Some example applications}
\label{example-reflection-principle}

\noindent
We can use the reflection principle to
prove, without any further thought, the 
existence of ``small'' categories which are
closed under any finite list of constructions.

\subsection{Fibre products of schemes}

\noindent
Consider the following sentence: ``For every pair of morphisms of
schemes $X \to S$ and $Y\to S$ with the same target scheme $S$
there exists a diagram
$$
\xymatrix{
Z \ar[r] \ar[d] & Y \ar[d] \cr
X \ar[r] & S \cr
}
$$
such that for every scheme $T$ we 
find a bijection $\text{Mor}(T, Z) \to \text{Mor}(T,X)
\times_{\text{Mor}(T,S)} \text{Mor}(T, Y)$.''
From \cite{H} we know this sentence is true.
Let's write this sentence symbolically as
\begin{eqnarray*}
\forall\ X,Y,S\ \text{schemes},
\forall\ X\to S, Y\to S\ \text{morphisms} \\
\exists\ Z\ \text{scheme},
\exists\ Z \to X, Z\to Y\ \text{morphisms},
\forall\ T\ \text{scheme} \\
\text{Mor}(T, Z) \cong \text{Mor}(T,X)
\times_{\text{Mor}(T,S)} \text{Mor}(T, Y)
\end{eqnarray*}
Note that this formula has no free variables.
Choose an initial set of schemes $\mathcal{C}_0$.
Apply the reflection theorem with $T=\mathcal{C}_0$
and the sentence above. The theorem implies
there exists a set\footnote{The
reflection principle just produces a set, and we
let $\mathcal{C}$ be the set of elements of this set which are schemes.}
of schemes
$\mathcal{C}$ such that
$\mathcal{C}_0 \subset \mathcal{C}$ and such that
for any morphisms of schemes $X \to S$ and $Y\to S$
with the same target scheme $S$ with $X,Y,S \in \mathcal{C}$
there exists a $Z \in \mathcal{C}$ and a commutative
diagram as above such that
$$
\text{Mor}(T, Z) \cong \text{Mor}(T,X)
\times_{\text{Mor}(T,S)} \text{Mor}(T, Y)
$$
for {\it any scheme} $T$. Let us reformulate this as follows.
By abuse of notation, let $\mathcal{C}$ denote the category
whose underlying set of objects is $\mathcal{C}$.
Then we have:
\begin{enumerate}
\item $\mathcal{C}_0 \subset \mathcal{C}$,
\item $\mathcal{C}$ has fibre products, and
\item fibre products in $\mathcal{C}$ satisfy
the universal property in the class of {\it all} schemes.
\end{enumerate}

\subsection{Injective modules}

\noindent
Let $R$ be a ring and let $M$ be an $R$-module.
Consider the sentence: ``The $R$-module $M$ is injective.''
This can be formulated symbolically as follows
\begin{eqnarray*}
\forall\ X,Y\ \text{$R$-modules},\\
\forall\ j : X\to Y\ \text{injective $R$-module map},\\
\forall\ x : X\to M\ \text{$R$-module map},\\
\exists\ y : Y\to M\ \text{$R$-module map}\\
y \circ j = x
\end{eqnarray*}
Note that this formula does have a free variable (namely $M$).
Let $\mathcal{A}_0$ denote an initial set of $R$-modules.
(For example we could choose $\mathcal{A}_0$ to be the set
consisting of all cokernels of maps of free modules -- this
clearly is a set.)
The reflection principle says that we can find a set
of $R$-modules $\mathcal{A}$ (which we think of as a category
as above) containing the given set $\mathcal{A}_0$
such that $M \in \mathcal{A}$ is an injective
object in the category $\mathcal{A}$ if and only if
it is injective as an $R$-module. 

\subsection{Categories of modules}

\noindent
We continue with the discussion above.
Consider the assertion: ``Given a category $\mathcal{I}$
and a functor $F$ from $\mathcal{I}$ to $R$-modules,
denoted $i \mapsto M_i = F(i)$. Both the limit $\lim_{i\in \mathcal{I}} M_i$
and the colimit $\text{colim}_{i \in \mathcal{I}} M_i$ exist.'' 
This we can turn into a set theoretic formula with free
variables for $I$ and $F$. Next pick some ordinal $\alpha$.
Using the reflection principle
we can find a category of $R$-modules
in which all limits and colimits whose index category 
have cardinality at most that of $\alpha$ exist and
are equal to the corresponding limits in the ``big''
category of all $R$-modules.

\subsection{Sets with group action}
\label{subsection-sets-with-group-action}

\noindent
Let $G$ be a group and let $\mathcal{S}$ be a 
set of $G$-sets. For any ordinal $\alpha$ we denote
$G\textit{-Sets}_\alpha$ the full subcategory of $G$-sets
$U$ such that $U \in V_\alpha$. We claim there exists a limit
ordinal $\alpha$ such that
\begin{enumerate}
\item $\mathcal{S} \subset \text{Ob}(G\textit{-Sets}_\alpha)$,
\item fibred product exist in $G\textit{-Sets}_\alpha$
and are the same as in $G\textit{-Sets}_\alpha$,
\item given $U$ in $G\textit{-Sets}_\alpha$, and any monomorphism
$V \to U$ in $G\textit{-Sets}$ there exists a
$V' \in \text{Ob}(G\textit{-Sets})$ isomorphic to $V$,
\item given $U$ in $G\textit{-Sets}_\alpha$, and any epimorphism
$V \to U$ in $G\textit{-Sets}$ there exists a
$V' \in \text{Ob}(G\textit{-Sets})$ isomorphic to $V$, and
\item the left $G$-set corresponding to $G$ is an object of
$G\textit{-Sets}_\alpha$.
\end{enumerate}
We are going to produce $\alpha$ by applying the reflection
principle. We have already discussed how to formulate a set
theoretic formula that produces $\alpha$ having properties
(1), (2), and (5) in the subsections above. In order to 
get property (4) consider the sentence: ``For all $G$-sets
$U$ there exists a set $Q$ whose elements are epimorphisms
$f_q : U \to V_q$ such that for every epimorphism $U \to V$
there exists some $q$ such that $V \cong V_q$.'' We may write
this symbolically as follows:
\begin{eqnarray*}
\forall\ U\ \text{$G$-set},\\
\exists\ Q\ \text{set of $G$-epimorphisms with source $U$},\\
\forall\ f : U\to V\ \text{$G$-epimorphism},\\
\exists\ q \in Q\ (\text{the target of $q$ is isomorphic to $V$})
\end{eqnarray*}
Note that the assertion ``$f : U \to V$ is a $G$-epimorphism'' just
means that $f$ is $G$-equivariant and surjective as a map of sets
and hence can be expressed by a formula of set theory. So using
the formula above (together with the others) produces an $\alpha$
with the desired property. Similarly for condition (3).

\subsection{Coverings of a site}
\label{subsection-coverings-site}

\noindent
Suppose that $\mathcal{C}$ is a category and
that $\text{Cov}(\mathcal{C})$ is a proper class of coverings
satisfying properties (1), (2) and (3) of Sites,
Definition \ref{sites-definition-site}.
In this subsection we show how to replace $\text{Cov}(\mathcal{C})$
by $\text{Cov}(\mathcal{C}) \cap V_\alpha$ to get a site
with a set of coverings.

\medskip\noindent
Let us temporarily introduce the following notion.
Two families of morphisms $\{\varphi_i : U_i \to U\}_{i\in I}$, and
$\{\psi_j : W_j \to U\}_{j\in J}$ with the same target of $\mathcal{C}$ are
called {\it combinatorially equivalent} if there exist maps
$\alpha : I \to J$ and $\beta : J\to I$ such that
$\varphi_i = \psi_{\alpha(i)}$ and $\psi_j = \varphi_{\beta(j)}$.
This defines an equivalence relation on families of morphisms
having a fixed target.
We will show the reflection principle implies that there is a limit ordinal
$\alpha$ such that
\begin{enumerate}
\item the set of coverings
$\text{Cov}(\mathcal{C}) \cap V_\alpha$ satisfies
(1), (2) and (3) of Sites, Definition \ref{sites-definition-site}
as well, and
\item Every covering in $\text{Cov}(\mathcal{C})$
is combinatorially equivalent
to a covering in $\text{Cov}(\mathcal{C}) \cap V_\alpha$.
\end{enumerate}
Clearly, for such $\alpha$ a presheaf is a sheaf for $\text{Cov}(\mathcal{C})$
if and only if it is a sheaf for $\text{Cov}(\mathcal{C}) \cap V_\alpha$.

\medskip\noindent
To prove this, we first consider the set $\mathcal{S}$ of all sets of maps
with common target. In other words, an element of
$\mathcal{S}$ is a subset $T$ of the set of morphisms 
$\text{Arrows}(\mathcal{C})$ of $\mathcal{C}$ such that all
elements of $T$ have the same target. Next, we define
$\mathcal{S}_\tau \subset \mathcal{S}$ to be the subset of those
$T$ which are combinatorially equivalent to some covering
$\xi = \{\varphi_i : U_i \to U\}_{i\in I} \in \text{Cov}(\mathcal{C})$.
In other words, $T \in \mathcal{S}_\tau$ if and only if $T$
is the image of the map $supp_\xi : I \to \text{Arrows}(\mathcal{C})$,
$i\mapsto \varphi_i$ for some covering
$\xi = \{\varphi_i : U_i \to U\}_{i\in I}$
of $\text{Cov}(\mathcal{C})$. Thus $\mathcal{S}_\tau$
is a set. Consider the set theoretical formula: ``Given $T \in \mathcal{S}$
then $T\in \mathcal{S}_\tau$ if and only if there exists
a covering $\xi$ in $\text{Cov}(\mathcal{C})$ such that
$T$ is the image of $supp_\xi$.'' By construction of $\mathcal{S}_\tau$
this formula holds. As a first application of the
reflection principle we find an limit ordinal $\alpha_0$ such that
this formula holds in $V_{\alpha_0}$. At this point already every
covering in $\text{Cov}(\mathcal{C})$ is combinatorially equivalent
to a covering in $\text{Cov}(\mathcal{C}) \cap V_{\alpha_0}$.

\medskip\noindent
The second and final step is to rewrite properties (1), (2) and (3) of
Sites, Definition \ref{sites-definition-site} as set theoretic formulas.
This is similar to the arguments in the subsections above and is
left to the reader. Apply the reflection
principle Theorem \ref{theorem-reflection-principle} using these formulas
with the initial set $T$ of the statement of the theorem being equal to
$V_{\alpha_0}$.


\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
