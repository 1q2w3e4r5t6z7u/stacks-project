\input{preamble}

% OK, start here.
%
\begin{document}

\title{Properties of schemes}


\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
In this chapter we introduce some absolute properties of schemes.
A basic reference is \cite{EGA}.





\section{Integral, irreducible, and reduced schemes}
\label{section-integral}

\begin{definition}
\label{definition-integral}
Let $X$ be a scheme. We say $X$ is {\it integral} if for every affine open
$\text{Spec}(R) = U \subset X$ the ring $R$ is an integral domain.
\end{definition}

\begin{lemma}
\label{lemma-characterize-reduced}
Let $X$ be a scheme.
The following are equivalent.
\begin{enumerate}
\item The scheme $X$ is reduced, see
Schemes, Definition \ref{schemes-definition-reduced}.
\item There exists an affine open covering $X = \bigcup U_i$
such that each $\Gamma(U_i, \mathcal{O}_X)$ is reduced.
\item For every affine open $U \subset X$ the ring
$\mathcal{O}_X(U)$ is reduced.
\item For every open $U \subset X$ the ring $\mathcal{O}_X(U)$ is reduced.
\end{enumerate}
\end{lemma}

\begin{proof}
See Schemes, Lemmas \ref{schemes-lemma-reduced} and
\ref{schemes-lemma-affine-reduced}.
\end{proof}

\begin{lemma}
\label{lemma-characterize-integral}
A scheme $X$ is integral if and only if it is reduced and irreducible.
\end{lemma}

\begin{proof}
If $X$ is irreducible, then every affine open $\text{Spec}(R) = U \subset X$
is irreducible. If $X$ is reduced, then $R$ is reduced, by
Lemma \ref{lemma-characterize-reduced} above. Hence $R$ is reduced
and $(0)$ is a prime ideal, i.e., $R$ is an integral domain.

\medskip\noindent
If $X$ is integral, then for every affine open $\text{Spec}(R) = U \subset X$
the ring $R$ is reduced and hence $X$ is reduced by
Lemma \ref{lemma-characterize-reduced}. Moreover, every affine open
is irreducible. We will show that any two nonempty
affine opens $U, V$ of $X$ intersect,
which will imply that $X$ is irreducible. Namely, if $U \cap V$
is empty, then $U \cup V$ is an affine open of $X$, see
Schemes, Lemma \ref{schemes-lemma-disjoint-union-affines}.
But a disjoint union of nonempty affines is not irreducible,
a contradiction.
\end{proof}















\section{Types of schemes defined by properties of rings}
\label{section-properties-rings}

\noindent
In this section we study what properties of rings
allow one to define local properties of schemes.

\begin{definition}
\label{definition-property-local}
Let $P$ be a property of rings.
We say that $P$ is {\it local} if the following hold:
\begin{enumerate}
\item For any ring $R$, and any $f \in R$ we have
$P(R) \Rightarrow P(R_f)$.
\item For any ring $R$, and $f_i \in R$ such that
$(f_1, \ldots, f_n) = R$ then
$\forall i, P(R_{f_i}) \Rightarrow P(R)$.
\end{enumerate}
\end{definition}

\begin{definition}
\label{definition-locally-P}
Let $P$ be a property of rings. Let $X$ be a scheme.
We say $X$ {\it is locally $P$} if for any $x \in X$
there exists an affine open neighbourhood $U$ of $x$
in $X$ such that $\mathcal{O}_X(U)$ has property $P$.
\end{definition}

\noindent
This is only a good notion if the property is local.
Even if $P$ is a local property we will not
automatically use this definition to say that a scheme is
``locally $P$'' unless we also explicitly state the definition
elsewhere.

\begin{lemma}
\label{lemma-locally-P}
Let $X$ be a scheme. Let $P$ be a local property of rings.
The following are equivalent:
\begin{enumerate}
\item The scheme $X$ is locally $P$.
\item For every affine open $U \subset X$ the property
$P(\mathcal{O}_X(U))$ holds.
\item There exists an affine open covering $X = \bigcup U_i$ such that
each $\mathcal{O}_X(U_i)$ satisfies $P$.
\item There exists an open covering $X = \bigcup X_j$
such that each open subscheme $X_j$ is locally $P$.
\end{enumerate}
Moreover, if $X$ is locally $P$ then every open subscheme
is locally $P$.
\end{lemma}

\begin{proof}
Of course (1) $\Leftrightarrow$ (3) and (2) $\Rightarrow$ (1).
If (3) $\Rightarrow$ (2), then the final statement of the lemma
holds and it follows easily that (4) is also equivalent to (1).
Thus we show (3) $\Rightarrow$ (2).

\medskip\noindent
Let $X = \bigcup U_i$ be an affine open covering, say
$U_i = \text{Spec}(R_i)$. Assume $P(R_i)$.
Let $\text{Spec}(R) = U \subset X$ be an arbitrary affine open.
By Schemes, Lemma \ref{schemes-lemma-good-subcover}
there exists a standard covering of $U = \text{Spec}(R)$ by
standard opens $D(f_j)$ such that each ring $R_{f_j}$ is a
principal localization of one of the rings $R_i$. By
Definition \ref{definition-property-local} (1) we get $P(R_{f_j})$.
Whereupon $P(R)$ by Definition \ref{definition-property-local} (2).
\end{proof}

\noindent
Here is a sample application.

\begin{lemma}
\label{lemma-reduced-is-locally-reduced}
Let $X$ be a scheme. Then $X$ is reduced if and only if $X$ is
``locally reduced'' in the sense of Definition \ref{definition-locally-P}.
\end{lemma}

\begin{proof}
This is clear from Lemma \ref{lemma-characterize-reduced}.
\end{proof}

\begin{lemma}
\label{lemma-properties-local}
The following properties of a ring $R$ are local.
\begin{enumerate}
\item (Cohen-Macauley.)
The ring $R$ is Noetherian and CM, see
Algebra, Definition \ref{algebra-definition-ring-CM}.
\item (Regular.)
The ring $R$ is Noetherian and regular, see
Algebra, Definition \ref{algebra-definition-regular}.
\item (Absolutely Noetherian.)
The ring $R$ is of finite type over $Z$.
\item (Catenary.)
The ring $R$ is catenary, see
Algebra, Definition \ref{algebra-definition-catenary}.
\item (Universally Catenary.)
The ring $R$ is universally catenary, see
Algebra, Definition \ref{algebra-definition-universally-catenary}.
\item Add more here as needed.\footnote{But we only list those properties
here which we have not already dealt with separately somewhere else.}
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}















\section{Noetherian schemes}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
Let $X$ be a scheme.
\begin{enumerate}
\item We say $X$ is {\it locally Noetherian} if every
$x \in X$ has an affine open neighbourhood
$\text{Spec}(R) = U \subset X$ such that the ring $R$ is Noetherian.
\item We say $X$ is {\it Noetherian} if $X$ is Noetherian
and quasi-compact.
\end{enumerate}
\end{definition}

\noindent
Here is the standard result characterizing locally Noetherian schemes.

\begin{lemma}
\label{lemma-locally-Noetherian}
Let $X$ be a scheme. The following are equivalent:
\begin{enumerate}
\item The scheme $X$ is locally Noetherian.
\item For every affine open $U \subset X$ the ring $\mathcal{O}_X(U)$
is Noetherian.
\item There exists an affine open covering $X = \bigcup U_i$ such that
each $\mathcal{O}_X(U_i)$ is Noetherian.
\item There exists an open covering $X = \bigcup X_j$
such that each open subscheme $X_j$ is locally Noetherian.
\end{enumerate}
Moreover, if $X$ is locally Noetherian then every open subscheme
is locally Noetherian.
\end{lemma}

\begin{proof}
To show this it suffices to show that being Noetherian is a local
property of rings, see Lemma \ref{lemma-locally-P}.
Any localization of a Noetherian ring is Noetherian, see 
Algebra, Lemma \ref{algebra-lemma-Noetherian-permanence}.
By Algebra, Lemma \ref{algebra-lemma-cover} we see the second
property to Definition \ref{definition-property-local}.
\end{proof}

\begin{lemma}
\label{lemma-immersion-into-noetherian}
Any immersion $Z \to X$ with $X$ locally Noetherian is quasi-compact.
\end{lemma}

\begin{proof}
A closed immersion is clearly quasi-compact.
A composition of quasi-compact morphisms is quasi-compact,
see Topology, Lemma \ref{topology-lemma-composition-quasi-compact}.
Hence it suffices to show that an open immersion into
a locally Noetherian scheme is quasi-compact.
Using Schemes, Lemma \ref{schemes-lemma-quasi-compact-affine}
we reduce to the case where $X$ is affine.
Here we win because any open subset of the spectrum
of a Noetherian ring is quasi-compact (for example
combine Algebra, Lemma \ref{algebra-lemma-Noetherian-topology} and
Topology, Lemmas \ref{topology-lemma-Noetherian} and
\ref{topology-lemma-constructible-Noetherian-space}).
\end{proof}

\begin{lemma}
\label{lemma-locally-Noetherian-quasi-separated}
A locally Noetherian scheme is quasi-separated.
\end{lemma}

\begin{proof}
By Schemes, Lemma \ref{schemes-lemma-characterize-quasi-separated}
we have to show that the intersection $U \cap V$ of two
affine opens of $X$ is quasi-compact. This follows from
Lemma \ref{lemma-immersion-into-noetherian} above on
considering the open immersion $U \cap V \to U$ for example.
(But really it is just because any open of the spectrum of a
Noetherian ring is quasi-compact.)
\end{proof}








\section{Jacobson schemes}
\label{section-jacobson}

\begin{definition}
\label{definition-jacobson}
A scheme $S$ is said to be {\it Jacobson} if its underlying topological
space is Jacobson, see Topology, Section \ref{topology-section-space-jacobson}.
\end{definition}

\noindent
Recall that a ring $R$ is Jacobson if every radical ideal of $R$
is the intersection of maximal ideals, see Algebra Definition
\ref{algebra-definition-ring-jacobson}.

\begin{lemma}
\label{lemma-affine-jacobson}
An affine scheme $\text{Spec}(R)$ is Jacobson if and only if
the ring $R$ is Jacobson.
\end{lemma}

\begin{proof}
This is Algebra, Lemma \ref{algebra-lemma-jacobson}.
\end{proof}

\noindent
Here is the standard result characterizing Jacobson schemes.
Intuitively it claims that Jacobson $\Leftrightarrow$ locally Jacobson.

\begin{lemma}
\label{lemma-locally-jacobson}
Let $X$ be a scheme. The following are equivalent:
\begin{enumerate}
\item The scheme $X$ is Jacobson.
\item The scheme $X$ is ``locally Jacobson'' in the sense of
Definition \ref{definition-locally-P}.
\item For every affine open $U \subset X$ the ring $\mathcal{O}_X(U)$
is Jacobson.
\item There exists an affine open covering $X = \bigcup U_i$ such that
each $\mathcal{O}_X(U_i)$ is Jacobson.
\item There exists an open covering $X = \bigcup X_j$
such that each open subscheme $X_j$ is Jacobson.
\end{enumerate}
Moreover, if $X$ is Jacobson then every open subscheme
is Jacobson.
\end{lemma}

\begin{proof}
The final assertion of the lemma holds by
Topology, Lemma \ref{topology-lemma-jacobson-inherited}.
The equivalence of (5) and (1) is
Topology, Lemma \ref{topology-lemma-jacobson-local}.
Hence, using Lemma \ref{lemma-affine-jacobson},
we see that (1) $\Leftrightarrow$ (2).
To finish proving the lemma it suffices to show that ``Jacobson''
is a local property of rings, see Lemma \ref{lemma-locally-P}.
Any localization of a Jacobson ring at an element is Jacobson, see 
Algebra, Lemma \ref{algebra-lemma-Jacobson-invert-element}.
Suppose $R$ is a ring, $f_1, \ldots, f_n \in R$ generate the unit
ideal and each $R_{f_i}$ is Jacobson. Then we see that
$\text{Spec}(R) = \bigcup D(f_i)$ is a union of open subsets
which are all Jacobson, and hence $\text{Spec}(R)$ is Jacobson
by Topology, Lemma \ref{topology-lemma-jacobson-local} again.
This proves the second property of Definition \ref{definition-property-local}.
\end{proof}













\section{Quasi-affine schemes}
\label{section-quasi-affine}

\begin{definition}
\label{definition-quasi-affine}
A scheme $X$ is called {\it quasi-affine} if it is quasi-compact
and isomorphic to an open subscheme of an affine scheme.
\end{definition}

\begin{lemma}
\label{lemma-invert-f-sections}
Let $X$ be a scheme. Let $f \in \Gamma(X, \mathcal{O}_X)$.
Denote $X_f$ the maximal open subscheme of $X$ where $f$ is invertible, see
Schemes, Lemma \ref{schemes-lemma-f-open} or
Modules, Lemma \ref{modules-lemma-s-open}.
If $X$ is quasi-compact and quasi-separated, the canonical map
$$
\Gamma(X, \mathcal{O}_X)_f \longrightarrow \Gamma(X_f, \mathcal{O}_X)
$$
is an isomorphism. Moreover, if $\mathcal{F}$ is a quasi-coherent
sheaf of $\mathcal{O}_X$-modules the map
$$
\Gamma(X, \mathcal{F})_f \longrightarrow \Gamma(X_f, \mathcal{F})
$$
is an isomorphism.
\end{lemma}

\begin{proof}
Write $R = \Gamma(X, \mathcal{O}_X)$.
Consider the canonical morphism
$$
\varphi : X \longrightarrow \text{Spec}(R)
$$
of schemes, see
Scheme, Lemma \ref{schemes-lemma-morphism-into-affine}.
Then the inverse image of the standard open $D(f)$ on the
right hand side is $X_f$ on the left hand side.
Moreover, since $X$ is assumed quasi-compact and quasi-separated
the morphism $\varphi$ is quasi-compact and quasi-separated,
see Schemes, Lemma \ref{schemes-lemma-quasi-compact-affine} and
\ref{schemes-lemma-compose-after-separated}. Hence by
Schemes, Lemma \ref{schemes-lemma-push-forward-quasi-coherent}
we see that $\varphi_*\mathcal{F}$ is quasi-coherent.
Hence we see that $\varphi_*\mathcal{F} = \widetilde M$
with $M = \Gamma(X, \mathcal{F})$ as an $R$-module.
Thus we see that
$$
\Gamma(X_f, \mathcal{F}) =
\Gamma(D(f), \varphi_*\mathcal{F}) = 
\Gamma(D(f), \widetilde M) = M_f
$$
which is exactly the content of the lemma. The case of
$\mathcal{F} = \mathcal{O}_X$ will given the first displayed isomorphism
of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-quasi-affine}
Let $X$ be a scheme. Then $X$ is quasi-affine if and only if
the canonical morphism
$$
X \longrightarrow \text{Spec}(\Gamma(X, \mathcal{O}_X))
$$
from Schemes, Lemma \ref{schemes-lemma-morphism-into-affine} is
a quasi-compact open immersion.
\end{lemma}

\begin{proof}
If the displayed morphism is a quasi-compact open immersion then
$X$ is ismorphic to a quasi-compact open subscheme of
$\text{Spec}(\Gamma(X, \mathcal{O}_X))$ and clearly $X$ is quasi-affine.

\medskip\noindent
Assume $X$ is quasi-affine, say $X \subset \text{Spec}(R)$ is
quasi-compact open. This in particular implies that $X$ is
separated, see
Schemes, Lemma \ref{schemes-lemma-subscheme-of-separated-scheme}.
Let $A = \Gamma(X, \mathcal{O}_X)$.
Consider the ring map $R \to A$ coming from
$R = \Gamma(\text{Spec}(R), \mathcal{O}_{\text{Spec}(R)})$
and the restriction mapping of the sheaf $\mathcal{O}_{\text{Spec}(R)}$.
By Schemes, Lemma \ref{schemes-lemma-morphism-into-affine}
we obtain a factorization:
$$
X \longrightarrow
\text{Spec}(A) \longrightarrow
\text{Spec}(R)
$$
of the inclusion morphism. Let $x \in X$. Choose $f \in R$ such that
$x \in D(f)$ and $D(f) \subset X$. Denote $a \in A$ the image of $f$
in $A$. The open $X_a$ of Lemma \ref{lemma-invert-f-sections}
above is equal to $D(f) \subset X$ and hence $A_a \cong R_f$ by the
conclusion of that lemma.
Hence $D(f) \to \text{Spec}(A)$ is an isomorphism onto a standard affine open
of $\text{Spec}(A)$. Since $X$ can be covered by such affine opens
$D(f)$ we win.
\end{proof}








\section{Ample invertible sheaves}
\label{section-ample}

\noindent
Recall from Modules, Lemma \ref{modules-lemma-s-open}
that given an invertible sheaf $\mathcal{L}$ on a locally ringed
space $X$, and given a global section $s$ of $\mathcal{L}$
the set $X_s = \{x \in X \mid s \not \in \mathfrak m_x\mathcal{L}_x\}$
is open.

\begin{definition}
\label{definition-ample}
Let $X$ be a scheme.
Let $\mathcal{L}$ be an invertible $\mathcal{O}_X$-module.
We say {\it $\mathcal{L}$ is ample} if $X$ is quasi-compact, and
if the open sets $X_s$, where $s \in \Gamma(X, \mathcal{L}^{\otimes n})$
and $n \geq 1$, form a basis for the topology on $X$.
\end{definition}








\section{Miscellaneous}
\label{section-misc}

\begin{lemma}
\label{lemma-maximal-points-affine}
Let $X$ be a quasi-separated scheme.
Let $Z_1, \ldots, Z_n$ be pairwise distinct irreducible components of $X$,
see Topology, Section \ref{topology-section-irreducible-components}.
Let $\eta_i \in Z_i$ be their generic points, see
Schemes, Lemma \ref{schemes-lemma-scheme-sober}.
There exist affine open neighbourhoods $\eta_i \in U_i$
such that $U_i \cap U_j = \emptyset$ for all $i \not = j$.
In particular, $U = U_1 \cup \ldots \cup U_n$ is an affine
open containing all of the points $\eta_1, \ldots, \eta_n$.
\end{lemma}

\begin{proof}
Let $V_i$ be any affine open containing $\eta_i$
and disjoint from the closed set $Z_1 \cup \ldots \hat Z_i \ldots \cup Z_n$.
Since $X$ is quasi-separated for each $i$ the union
$W_i = \bigcup_{j, j \not = i} V_i \cap V_j$ is a quasi-compact
open of $V_i$ not containing $\eta_i$. 
We can find open neighbourhoods $U_i \subset V_i$
containing $\eta_i$ and disjoint from $W_i$ by
Algebra, Lemma \ref{algebra-lemma-standard-open-containing-maximal-point}.
Finally, $U$ is affine since it is the spectrum of
the ring $R_1 \times \ldots \times R_n$ where $R_i = \mathcal{O}_X(U_i)$,
see Schemes, Lemma \ref{schemes-lemma-disjoint-union-affines}.
\end{proof}

\begin{remark}
\label{remark-maximal-points-affine}
Lemma \ref{lemma-maximal-points-affine} above is false if $X$
is not quasi-separated. Here is an example. Take
$R = \mathbf{Q}[x, y_1, y_2, \ldots]/((x-i)y_i)$.
Consider the minimal prime ideal $\mathfrak p = (y_1, y_2, \ldots)$
of $R$. Glue two copies of $\text{Spec}(R)$ along the
(not quasi-compact) open $\text{Spec}(R) \setminus V(\mathfrak p)$
to get a scheme $X$ (glueing as in
Schemes, Example \ref{schemes-example-affine-space-zero-doubled}).
Then the two maximal points of $X$ corresponding to $\mathfrak p$
are not contained in a common affine open. The reason is
that any open of $\text{Spec}(R)$ containing $\mathfrak p$
contains infinitely many of the ``lines'' $x = i$, $y_j = 0$,
$j \not = i$ with parameter $y_i$. Details omitted.
\end{remark}






\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
