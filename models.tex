\input{preamble}

% OK, start here.
%
\begin{document}

\title{Semistable Reduction}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
In this chapter we prove the semistable reduction theorem for curves.
We will use the method of Artin and Winters from their paper
\cite{Artin-Winters}.

\medskip\noindent
It turns out that one can prove the semistable reduction theorem
for curves without any results on desingularization. Namely, there
is a way to esthablish the existence and projectivity of moduli
of semistable curves using Geometric Invariant Theory (GIT)
as developped by Mumford, see \cite{GIT}. This method was
championed by Gieseker who proved the full result in his
lecture notes \cite{Gieseker}. This is quite an amazing
feat: it seems somewhat counter intuitive that one can
prove such a result without ever truly studying families curves over
a positive dimensional base.

\medskip\noindent
Historically the first proof of the semistable reduction theorem
for curves can be found in the paper \cite{DM} by Deligne and Mumford.
It proves the theorem by reducing the problem to the case of
Abelian varieties which was already known at the time thanks
to Grothendieck and others, see \cite{SGA7-I} and \cite{SGA7-II}).
In hindsight the semistable reduction theorem for abelian varieties seems
a lot harder, {\it especially} if one is to prove it without access
to the semistable reduction theorem for curves.

\medskip\noindent
The method in the paper by Artin and Winters consists in analyzing the
possibilities for the special fibre and concluding using an inequality
for torsion in the Picard group of a $1$-dimensional scheme over a field.
A similar argument can be found in a paper \cite{Saito} of Saito who uses
\'etale cohomology directly and who obtains a stronger result in that
he can characterize semistable reduction in terms of the action of
the inertia on $\ell$-adic \'etale cohomology.

\medskip\noindent
A different approach one can use to prove the theorem is to use
rigid analytic geometry techniques. Here we refer the reader to
\cite{vanderPut} and \cite{Arzdorf-Wewers}.

\medskip\noindent
The paper \cite{Temkin} by Temkin uses valuation theoretic techniques
(and proves a lot more besides); also Appendix A of this paper gives
a nice overview of the different proofs and the relationship with
desingularizations of $2$ dimensional schemes.

\medskip\noindent
Another overview paper that the reader may wish to consult is
\cite{Abbes-ssr} written by Ahmed Abbes.




\section{Models}
\label{section-models}

\noindent
In this chapter $R$ will be a discrete valuation ring and $K$ will
be its fraction field. If needed we will denote $\pi \in R$ a
uniformizer and $k = R/(\pi)$ its residue field.

\medskip\noindent
Let $V$ be an algebraic $K$-scheme
(Varieties, Definition \ref{varieties-definition-algebraic-scheme}).
A {\it model} for $V$ will
mean a flat finite type\footnote{Occasionally it is useful to
allow models to be locally of finite type over $R$, but we'll
cross that bridge when we come to it.}
morphism $X \to \Spec(R)$ endowed with
an isomorphism $V \to X_K = X \times_{\Spec(R)} \Spec(K)$. We often
will identify $V$ and the generic fibre $X_K$ of $X$ and
just write $V = X_K$.
The special fibre is $X_k = X \times_{\Spec(R)} \Spec(k)$.
A {\it morphism of models $X \to X'$ for $V$} is
is a morphism $X \to X'$ of schemes over $R$ which induces
the indentity on $V$.

\medskip\noindent
We will say {\it $X$ is a proper model of $V$} if $X$ is a model
of $V$ and the structure morphism $X \to \Spec(R)$ is proper.
Similarly for separated models, smooth models, and add more here.
We will say {\it $X$ is a regular model of $V$} if $X$ is a model
of $V$ and $X$ is a regular scheme.
Similarly for normal models, reduced models, and add more here.

\medskip\noindent
Let $R \subset R'$ be an extension of discrete valuation rings
(More on Algebra, Definition
\ref{more-algebra-definition-extension-discrete-valuation-rings}).
This induces an extension $K \subset K'$ of fraction fields.
Given an algebraic scheme $V$ over $K$, denote $V'$ the
base change $V \times_{\Spec(K)} \Spec(K')$. Then there is
a functor
$$
\text{models for }V\text{ over }R
\longrightarrow
\text{models for }V'\text{ over }R'
$$
sending $X$ to $X \times_{\Spec(R)} \Spec(R')$.

\begin{lemma}
\label{lemma-closure-is-model}
Let $V_1 \to V_2$ be a closed immersion of algebraic schemes over $K$.
If $X_2$ is a model for $V_2$, then the scheme theoretic image
of $V_1 \to X_2$ is a model for $V_1$.
\end{lemma}

\begin{proof}
Using
Morphisms, Lemma \ref{morphisms-lemma-quasi-compact-scheme-theoretic-image} and
Example \ref{morphisms-example-scheme-theoretic-image}
this boils down to the following algebra statement.
Let $A_1$ be a finite type $R$-algebra flat over $R$.
Let $A_1 \otimes_R K \to B_2$ be a surjection. Then
$A_2 = A_1 / \Ker(A_1 \to B_2)$ is a finite type $R$-algebra
flat over $R$ such that $B_2 = A_2 \otimes_R K$.
We omit the detailed proof; use
More on Algebra, Lemma \ref{more-algebra-lemma-dedekind-torsion-free-flat}
to prove that $A_2$ is flat.
\end{proof}

\begin{lemma}
\label{lemma-normalization}
Let $X$ be a model of a geometrically normal variety $V$ over $K$.
Then the normalization $\nu : X^\nu \to X$ is finite and
the base change of $X^\nu$ to the completion $R^\wedge$
is the normalization of the base change of $X$. Moreover, for
each $x \in X^\nu$ the completion of $\mathcal{O}_{X^\nu, x}$
is normal.
\end{lemma}

\begin{proof}
Observe that $R^\wedge$ is a discrete valuation ring
(More on Algebra, Lemma \ref{more-algebra-lemma-completion-dvr}).
Set $Y = X \times_{\Spec(R)} \Spec(R^\wedge)$.
Since $R^\wedge$ is a discrete valuation ring, we see that
$$
Y \setminus Y_k =
Y \times_{\Spec(R^\wedge)} \Spec(K^\wedge) =
V \times_{\Spec(K)} \Spec(K^\wedge)
$$
where $K^\wedge$ is the fraction field of $R^\wedge$.
Since $V$ is geometrically normal, we find that this is
a normal scheme. Hence the first part of the lemma follows from
Resolution of Surfaces, Lemma \ref{resolve-lemma-normalization-completion}.

\medskip\noindent
To prove the second part we may assume $X$ and $Y$ are normal
(by the first part). If $x$ is in the generic fibre, then
$\mathcal{O}_{X, x} = \mathcal{O}_{V, x}$ is a normal local
ring essentially of finite type over a field. Such a ring is
excellent (More on Algebra, Proposition
\ref{more-algebra-proposition-ubiquity-excellent}).
If $x$ is a point of the special fibre with image $y \in Y$, then
$\mathcal{O}_{X, x}^\wedge = \mathcal{O}_{Y, y}^\wedge$
by Resolution of Surfaces, Lemma \ref{resolve-lemma-iso-completions}.
In this case $\mathcal{O}_{Y, y}$ is a excellent normal local domain
by the same reference as before as $R^\wedge$ is excellent.
If $B$ is a excellent local normal domain, then the completion
$B^\wedge$ is normal (as $B \to B^\wedge$ is regular and
More on Algebra, Lemma \ref{more-algebra-lemma-normal-goes-up} applies).
This finishes the proof.
\end{proof}

\begin{lemma}
\label{lemma-regular}
Let $X$ be a model of a smooth curve $C$ over $K$. Then
there exists a resolution of singularities of $X$
and any resolution is a model of $C$.
\end{lemma}

\begin{proof}
We check condition (4) of Lipman's theorem
(Resolution of Surfaces, Theorem \ref{resolve-theorem-resolve}) hold.
This is clear from Lemma \ref{lemma-normalization}
except for the statement that $X^\nu$ has finitely many
singular points. To see this we can use that $R$ is J-2 by
More on Algebra, Proposition \ref{more-algebra-proposition-ubiquity-J-2}
and hence the nonsingular locus is open in $X^\nu$.
Since $X^\nu$ is normal of dimension $\leq 2$, the singular points
are closed, hence closedness of the singular locus
means there are finitely many of them (as $X$ is quasi-compact).
Observe that any resolution of $X$ is a modification of $X$
(Resolution of Surfaces, Definition \ref{resolve-definition-resolution}).
This will be an isomorphism over the normal locus of $X$ by Varieties, Lemma
\ref{varieties-lemma-modification-normal-iso-over-codimension-1}.
Since the set of normal points includes
$C = X_K$ we conclude any resolution is a model of $C$.
\end{proof}

\begin{definition}
\label{definition-minimal-model}
Let $C$ be a smooth projective curve over $K$ with
$H^0(C, \mathcal{O}_C) = K$. A {\it minimal model}
will be a regular, proper model $X$ for $C$ such that
$X$ does not contain an exceptional curve of the first kind.
\end{definition}

\noindent
Really such a thing should be called a minimal regular proper model
or even a relatively minimal regular projective model. But as long
as we stick to models over discrete valuation rings (as we will
in this chapter), no confusion should arise.

\begin{proposition}
\label{proposition-exists-minimal-model}
Let $C$ be a smooth projective curve over $K$ with
$H^0(C, \mathcal{O}_C) = K$. A minimal model exists.
\end{proposition}

\begin{proof}
Choose a closed immersion $C \to \mathbf{P}^n_K$. Let
$X$ be the scheme theoretic image of $C \to \mathbf{P}^n_R$.
Then $X \to \Spec(R)$ is a projective model of $C$ by
Lemma \ref{lemma-closure-is-model}.
By Lemma \ref{lemma-regular} we may assume that $X$
is regular.

\medskip\noindent
Let $E \subset X$ be an exceptional curve of the first kind.
See Resolution of Surfaces, Section \ref{resolve-section-minus-one}.
Since $\Spec(R)$ is affine and $E \subset X$ is closed and
$X \to \Spec(R)$ is closed, we see that $E \to \Spec(R)$
maps to the closed point. Hence $E \subset X_k$. By
Resolution of Surfaces, Lemma \ref{resolve-lemma-contract-ample}
we can contract $E$ by a morphism $X \to X'$ such that $X'$ is
regular and is projective over $R$. Clearly, the number of
irreducible components of $X'_k$ is exactly one less than the
number of irreducible components of $X_k$. Thus we can only
perform a finite number of these contractions untill we
obtain a minimal model.
\end{proof}





\section{The geometry of a regular model}
\label{section-special-fibre}

\noindent
In this section we describe the geometry of a proper regular model $X$ of a
smooth projective curve $C$ over $K$ with $H^0(C, \mathcal{O}_C) = K$.

\begin{lemma}
\label{lemma-divisor-special-fiber}
Let $X$ be a regular model $X$ of a smooth curve $C$ over $K$.
\begin{enumerate}
\item the special fibre $X_k$ is an effective Cartier divisor on $X$,
\item each irreducible component $C_i$ of $X_k$ is an effective
Cartier divisor on $X$,
\item $X_k = \sum m_i C_i$ (sum of effective Cartier divisors)
where $m_i$ is the multiplicity of $C_i$ in $X_k$,
\item $\mathcal{O}_X(X_k) \cong \mathcal{O}_X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Recall that $R$ is a discrete valuation ring with uniformizer $\pi$
and residue field $k = R/(\pi)$. Because $X \to \Spec(R)$ is flat,
the element $\pi$ is a nonzerodivisor affine locally on $X$
(see More on Algebra, Lemma
\ref{more-algebra-lemma-dedekind-torsion-free-flat}). Thus
if $U = \Spec(A) \subset X$ is an affine open, then
$$
X_K \cap U = U_k = \Spec(A \otimes_R k) = \Spec(A/\pi A)
$$
and $\pi$ is a nonzerodivisor in $A$.
Hence $X_k = V(\pi)$ is an effective Cartier divisor by
Divisors, Lemma \ref{divisors-lemma-characterize-effective-Cartier-divisor}.
Hence (1) is true.

\medskip\noindent
The discussion above shows that the pair $(\mathcal{O}_X(X_k), 1)$
is isomorphic to the pair $(\mathcal{O}_X, \pi)$ which proves (4).

\medskip\noindent
By Divisors, Lemma \ref{divisors-lemma-effective-Cartier-divisor-is-a-sum}
there exist pairwise distinct integral effective Cartier divisors
$D_i \subset X$ and integers $a_i \geq 0$ such that $X_k = \sum a_i D_i$.
We can throw out those divisors $D_i$ such that $a_i = 0$. Then it is
clear (from the definition of addition of effective Cartier
divisors) that $X_k = \bigcup D_i$ set theoretically. Thus $C_i = D_i$
are the irreducible components of $X_k$ which proves (2).
Let $\xi_i$ be the generic point of $C_i$.
Then $\mathcal{O}_{X, \xi_i}$ is a discrete valuation ring
(Divisors, Lemma \ref{divisors-lemma-integral-effective-Cartier-divisor-dvr}).
The uniformizer $\pi_i \in \mathcal{O}_{X, \xi_i}$ is a local equation
for $C_i$ and the image of $\pi$ is a local equation for $X_k$.
Since $X_k = \sum a_i C_i$ we see that $\pi$ and $\pi_i^{a_i}$
generate the same ideal in $\mathcal{O}_{X, \xi_i}$.
On the other hand, the multiplicity of $C_i$ in $X_k$ is
$$
m_i = \text{length}_{\mathcal{O}_{C_i, \xi_i}} \mathcal{O}_{X_k, \xi_i} =
\text{length}_{\mathcal{O}_{C_i, \xi_i}} \mathcal{O}_{X, \xi_i}/(\pi) =
\text{length}_{\mathcal{O}_{C_i, \xi_i}} \mathcal{O}_{X, \xi_i}/(\pi_i^{a_i}) =
a_i
$$
See Chow Homology, Definition
\ref{chow-definition-cycle-associated-to-closed-subscheme}.
Thus $a_i = m_i$ and (3) is proved.
\end{proof}








\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
