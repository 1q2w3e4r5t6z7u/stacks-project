\input{preamble}

% OK, start here.
%
\begin{document}

\title{Topology}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Basic topology will be explained in this document.
A reference is \cite{Engelking}.

\section{Basic notions}
\label{section-topology-basic}

\noindent
The following notions are considered basic and will not be defined,
and or proved. This does not mean they are all necessarily easy or 
well known.

\begin{enumerate}
\item $X$ is a {\it topological space},
\label{space}
\item $x\in X$ is a {\it point},
\label{point}
\item $x\in X$ is a {\it closed point},
\label{closed-point}
\item $f : X_1 \to X_2$ is {\it continuous},
\label{continuous}
\item $\mathcal{U} : X = \bigcup_i U_i$ is an {\it open covering of} $X$,
\label{covering}
\item the open covering $\mathcal{V}$ is a {\it refinement}
of the open covering $\mathcal{U}$,
\label{refinement}
\item a topological space $X$ is {\it Hausdorff} iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$,
\label{Hausdorff}
\item etc.
\end{enumerate}

\section{Connected components}
\label{section-connected-components}

\begin{definition}
\label{definition-connected-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it connected} if whenever $X = T_1 \coprod T_2$
with $T_i \subset X$ open and closed, then either $T_1 = \emptyset$ or
$T_2 = \emptyset$.
\item We say $T \subset X$ is a {\it connected component} of $X$ if
$T$ is a maximal connected subset of $X$. 
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-connected-components}
Let $X$ be a topological space. If $T \subset X$ is connected,
then so is its closure. Each point of $X$ is contained
in a connected component. Connected components are always closed,
but not necessarily open.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the connected subset $T$.
Suppose $\overline{T} = T_1 \coprod T_2$ with $T_i \subset \overline{T}$
open and closed. Then $T = (T\cap T_1) \coprod (T \cap T_2)$. Hence 
$T$ equals one of the two, say $T = T_1 \cap T$. Thus clearly
$\overline{T} \subset T_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of connected subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ordering on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is 
connected. Namely, suppose that $T =  T_1 \coprod T_2$ is a disjoint
union of two open and closed subsets of $T$.
For each $\alpha \in A'$ we have either $T_\alpha \subset T_1$
or $T_\alpha \subset T_2$, by connectedness of $T_\alpha$.
Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset T_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset T_2$ for all $\alpha \in A'$. Hence $T = T_2$. 

\medskip\noindent
To get an example
where connected components are not open, just take 
an infinite product $\prod_{n \in \mathbf{N}} \{0,1\}$
with the product topology. This is a totally disconnected
space so connected components are singletons, which are
not open.
\end{proof}


\section{Irreducible components}
\label{section-irreducible-components}

\begin{definition}
\label{definition-irreducible-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it irreducible}, if $X$ is not empty, and whenever
$X = Z_1 \cup Z_2$ with $Z_i$ closed, we have $X = Z_1$ or $X = Z_2$.
\item We say $Z \subset X$ is an {\it irreducible component} of $X$
if $Z$ is a maximal irreducible subset of $X$.
\end{enumerate}
\end{definition}

\noindent
An irreducible space is obviously connected.

\begin{lemma}
\label{lemma-irreducible}
Let $X$ be a topological space. If $T \subset X$ is irreducible
so is its closure in $X$. Any irreducible component of $X$ is
closed. Every point of $X$ is contained in some irreducible component
of $X$.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the irreducible subset $T$.
If $\overline{T} = Z_1 \cup Z_2$ with $Z_i \subset \overline{T}$
closed, then $T = (T\cap Z_1) \cup (T \cap Z_2)$ and hence 
$T$ equals one of the two, say $T = Z_1 \cap T$. Thus clearly
$\overline{T} \subset Z_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of irreducible subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ording on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is 
irreducible. Namely, suppose that $T =  Z_1 \cup Z_2$ is a union
of two closed subsets of $T$. For each $\alpha \in A'$ we have
either $T_\alpha \subset Z_1$ or $T_\alpha \subset Z_2$, by irreducibility
of $T_\alpha$. Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset Z_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset Z_2$ for all $\alpha \in A'$. Hence $T = Z_2$. 
\end{proof}

\noindent
A singleton is irreducible. Thus if $x \in X$ is a point
then the closure $\overline{\{x\}}$ is an irreducible closed
subset of $X$. 

\begin{definition}
\label{definition-generic-point}
Let $X$ be a topological space.
\begin{enumerate}
\item Let $Z \subset X$ be an irreducible closed subset.
A {\it generic point} of $Z$ is a point $\xi \in Z$ such
that $Z = \overline{\{\xi\}}$.
\item The space $X$ is called {\it sober} if every
irreducible closed subset has a unique generic point.
\end{enumerate}
\end{definition}

\begin{example}
\label{example-Hausdorff}
Recall that a topological space $X$ is Hausdorff iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$.
In this case $X$ is irreducible if and only if $X$ is
a singleton. Similarly, any subset of $X$ is irreducible
if and only if it is a singleton. Hence a Hausdorff space is
sober.
\end{example}



\section{Noetherian topological spaces}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
A topological space is called {\it Noetherian}
if the descending chain condition holds for
closed subsets of $X$.
\end{definition}

\begin{lemma}
\label{lemma-Noetherian}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item Any subset of $X$ with the induced topology is Noetherian.
\item The space $X$ has finitely many irreducible components.
\item Each irreducible component of $X$ contains a nonempty open of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $T \subset X$ be a subset of $X$.
Let $T_1 \supset T_2 \supset \ldots$
be a descending chain of closed subsets of $T$.
Write $T_i =  T \cap Z_i$ with $Z_i \subset X$ closed.
Consider the descending chain of closed subsets
$Z_1 \supset Z_1\cap Z_2 \supset Z_1 \cap Z_2 \cap Z_3 \ldots$
This stabilizes by assumption and hence the original sequence
of $T_i$ stabilizes. Thus $T$ is Noetherian.

\medskip\noindent
Let $A$ be the set of closed subsets of $X$ which do not
have finitely many irreducible components. Assume that
$A$ is not empty to arrive at a contradiction. 
The set $A$ is partially ordered by inclusion: $\alpha \leq \alpha'
\Leftrightarrow Z_{\alpha} \subset Z_{\alpha'}$.
By the descending chain condition we may find a 
smallest element of $A$, say $Z$. As $Z$ is not a finite
union of irreducible components, it is not irreducible.
Hence we can write $Z = Z' \cup Z''$ and both are strictly smaller
closed subsets. By construction $Z' = \bigcup Z'_i$ and
$Z'' = \bigcup Z''_j$ are finite unions of their irreducible
components. Hence $Z = \bigcup Z'_i \cup \bigcup Z''_j$ is
a finite union of irreducible closed subsets.
After removing redundant members of this expression,
this will be the decomposition of $Z$ into its irreducible
components, a contradiction.

\medskip\noindent
Let $Z \subset X$ be an irreducible component of $X$.
Let $Z_1,\ldots,Z_n$ be the other irreducible components
of $X$. Consider $U = Z \setminus (Z_1\cup\ldots\cup Z_n)$.
This is not empty since otherwise the irreducible space
$Z$ would be contained in one of the other $Z_i$.
Because $X = Z \cup Z_1 \cup \ldots Z_n$ (see Lemma \ref{lemma-irreducible}),
also $U = X \setminus (Z_1\cup\ldots\cup Z_n)$
and hence open in $X$. Thus $Z$ contains a nonempty
open of $X$.
\end{proof}

\section{Krull dimension}
\label{section-krull-dimension}

\begin{definition}
\label{definition-Krull}
The {\it Krull dimension} $\dim(X)$ of a topological space $X$ is
the element of $\{\infty,0,1,2,3,\ldots\}$ defined by the formula:
$$
\sup
\{
n
\mid
\exists\ Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X,\ 
Z_i\text{ closed irreducible, }Z_i \not=Z_{i+1}
\}.
$$
Let $x \in X$.
The {\it Krull dimension of $X$ at $x$} is defined as the infinum
of $\dim(U)$ where $U$ runs over the open neighbourhoods of $x$
in $X$.
\end{definition}

\begin{example}
\label{example-Krull-Rn}
The Krull dimension of the usual Euclidean space
$\mathbf{R}^n$ is $0$.
\end{example}

\begin{example}
\label{example-krull-2set}
Let $X = \{s, \eta\}$ with open sets given
by $\{\emptyset, \{\eta\}, \{s, \eta\}\}$.
In this case a maximal chain of irreducible
closed subsets is $\{s\} \subset \{s,\eta\}$.
Hence $\dim(X) = 1$. It is easy to generalize
this example to get a $(n+1)$-element topological
space of Krull dimension $n$.
\end{example}











\section{Quasi-compact maps and constructible sets}
\label{section-quasi-compact}

\noindent
The phrase ``compact'' will be reserved
for Hausdorff topological spaces. And many spaces occuring
in algebraic geometry are not Hausdorff.

\begin{definition}
\label{definition-quasi-compact}
\begin{enumerate}
\item We say that a topological space $X$ is {\it quasi-compact}
if every open covering $\mathcal{U}$ of $X$ has a finite
refinement.
\item We say that a continuous map $f : X \to Y$ is {\it quasi-compact}
if the inverse image $f^{-1}(V)$ of every quasi-compact open $V \subset Y$
is quasi-compact.
\item We say a subset $Z \subset X$ is {\it retrocompact}
if the inclusion map $Z \to X$ is quasi-compact.
\end{enumerate}
\end{definition}

\noindent
In many texts on topology a space is called {\it compact} if it
is quasi-compact and Hausdorff; and in other texts the Hausdorff
condition is omitted. To avoid confusion in algebraic geometry
we use the term quasi-compact. Note that the notion of quasi-compactness
of a map is very different from the notion of a ``proper map''
in topology, since there one requires the inverse image of any
(quasi-)compact subset of the target to be (quasi-)compact,
whereas in the definition above we only consider quasi-compact
{\it open} sets.

\begin{definition}
\label{definition-constructible}
A subset $E \subset X$ of the topological space $X$ is called
{\it constructible} if it is a finite union of subsets
of the form $U \cap V^c$ where $U,V \subset X$ are open and
retrocompact.
\end{definition}

\begin{lemma}
\label{lemma-constructible}
The collection of constructible sets is closed under
finite intersections, finite unions and complements.
\end{lemma}

\begin{proof}
Note that if $U_1$, $U_2$ are open and retrocompact in $X$
then so is $U_1 \cup U_2$ because the union of two quasi-compact
subsets of $X$ is quasi-compact. It is also true that 
$U_1 \cap U_2$ is retrocompact. Namely, suppose $U \subset X$
is quasi-compact open, then $U_2 \cap U$ is quasi-compact because
$U_2$ is retrocompact in $X$, and then we conclude
$U_1 \cap (U_2 \cap U)$ is quasi-compact because $U_1$ is
retrocompact in $X$. From this it is formal to show that
the complement of a constructible set is constructible,
that finite unions of constructibles are constructible, and
that finite intersections of constructibles are constructible.
\end{proof}

\begin{lemma}
\label{lemma-inverse-images-constructibles}
Let $f : X \to Y$ be a continuous map of topological spaces.
If the inverse image of every retrocompact open subset of $Y$
is retrocompact in $X$, then inverse images of constructible
sets are constructible.
\end{lemma}

\begin{proof}
This is true because $f^{-1}(U \cap V^c) = f^{-1}(U) \cap f^{-1}(V)^c$,
combined with the definition of constructible sets.
\end{proof}

\begin{lemma}
\label{lemma-open-immersion-constructible-inverse-image}
Let $U \subset X$ be open. For a constructible set
$E \subset X$ the intersection $E \cap U$ is constructible
in $U$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap U$ is retrocompact in $U$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset U$ be open and quasi-compact. Then $W$
is open and quasi-compact in $X$. Hence $V \cap W = V \cap U \cap W$
is quasi-compact as $V$ is retrocompact in $X$.
\end{proof}

\begin{lemma}
\label{lemma-generic-point-in-constructible}
Let $X$ be a topological space. Suppose that
$Z \subset X$ is irreducible. Let $E \subset X$
be a finite union of locally closed subsets (e.g.\ $E$
is constructible). The following are equivalent
\begin{enumerate}
\item The intersection $E \cap Z$ contains an open
dense subset of $Z$.
\item The intersection $E \cap Z$ is dense in $Z$.
\end{enumerate}
If $Z$ has a generic point $\xi$, then this is
also equivalent to
\begin{enumerate}
\item[(3)] We have $\xi \in E$.
\end{enumerate}
\end{lemma}

\begin{proof}
Write $E = \bigcup U_i \cap Z_i$ as the finite union of
intersections of open sets $U_i$ and closed sets $Z_i$.
Suppose that $E \cap Z$ is dense in $Z$. Note that
the closure of $E \cap Z$ is the union of the closures
of the intersections $U_i \cap Z_i \cap Z$. Hence we
see that $U_i \cap Z_i \cap Z$ is dense in $Z$ for some $i = i_0$.
As $Z$ is closed we have either $Z \cap Z_i = Z$ or
$Z \cap Z_i$ is not dense, hence we conclude $Z \subset Z_{i_0}$.
Then $U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. Because $Z$ is irreducible, it is open dense. 
The converse is obvious.

\medskip\noindent
Suppose that $\xi \in Z$ is a generic point. Of course if
(1) $\Leftrightarrow$ (2) holds, then $\xi \in E$. Conversely,
if $\xi \in E$, then $\xi \in U_i \cap Z_i$ for some $i = i_0$.
Clearly this implies $Z \subset Z_{i_0}$ and hence
$U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. We conclude as before.
\end{proof}

\begin{lemma}
\label{lemma-constructible-Noetherian-space}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item The space $X$ is quasi-compact.
\item Any subset of $X$ is retrocompact.
\item A constructible set in $X$ is a finite union
of locally closed subsets of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Suppose $X = \bigcup U_i$ is an open covering of $X$ indexed
by the set $I$ which does not have a refinement by a finite
open covering. Choose $i_1,i_2,\ldots $ elements of $I$ inductively
in the following way: If $X \not = U_{i_1} \cup \ldots \cup U_{i_n}$
then choose $i_{n+1}$ such that $U_{i_{n+1}}$ is not contained
in $U_{i_1} \cup \ldots \cup U_{i_n}$. Thus we see that
$X \supset (X \setminus U_{i_1}) \supset 
(X \setminus U_{i_1} \cup U_{i_2}) \supset \ldots$ is a strictly
decreasing infinite sequence of closed subsets. This contradicts
the fact that $X$ is Noetherian. This proves the first assertion.

\medskip\noindent
The second assertion is now clear since every subset of $X$ is
Noetherian by Lemma \ref{lemma-Noetherian}. And the third follows
from this immediately.
\end{proof}






















\section{Jacobson spaces}
\label{section-space-jacobson}

\begin{definition}
\label{definition-space-jacobson}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
We say that $X$ is {\it Jacobson} if every
closed subset $Z \subset X$ is the closure
of $Z \cap X_0$.
\end{definition}

\noindent
Let $X$ be a Jacobson space and let $X_0$ be the set
of closed points of $X$ with the induced topology.
Clearly, the definition implies that the morphism
$X_0 \to X$ induces a bijection between the closed
subsets of $X_0$ and the closed subsets of $X$.
Thus many properties of $X$ are inherted by $X_0$.
For example, the Krull dimensions of $X$ and $X_0$
are the same.

\begin{lemma}
\label{lemma-jacobson-check-irreducible-closed}
Let $X$ be a topological space. Let $X_0$ be the set
of closed points of $X$.
Suppose that for every irreducible closed subset $Z \subset X$
the intersection $X_0 \cap Z$ is dense in $Z$.
Then $X$ is Jacobson.
\end{lemma}

\begin{proof}
Let $Z \subset X$ be closed. According to Lemma \ref{lemma-irreducible}
we have $Z = \bigcup Z_i$ with $Z_i$ irreducible and closed.
Thus is $X_0 \cap Z_i$ is dense in each $Z_i$, then $X_0 \cap Z$
is dense in $Z$.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Then $X$ is Jacobson if and only if each $U_i$ is Jacobson.
Moreover, in this case $X_0 = \bigcup U_{i,0}$.
\end{lemma}

\begin{proof}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
Let $U_{i, 0}$ be the set of closed points of
$U_i$. Then $X_0 \cap U_i \subset U_{i, 0}$
but equality may not hold in general.

\medskip\noindent
First, assume that each $U_i$ is Jacobson.
We claim that in this case $X_0 \cap U_i = U_{i, 0}$.
Namely, suppose that $x \in U_{i,0}$, i.e., $x$ is closed in
$U_i$. Let $\overline{\{x\}}$ be the closure
in $X$. Consider $\overline{\{x\}} \cap U_j$.
If $x \not \in U_j$, then $\overline{\{x\}} \cap U_j = \emptyset$.
If $x \in U_j$, then $U_i \cap U_j \subset U_j$
is an open subset of $U_j$ containing $x$.
Let $T' = U_j \setminus U_i \cap U_j$ and
$T = \{x\} \coprod T'$. Then $T$, $T'$
are closed subsets of $U_j$ and $T$ contains
$x$. As $U_j$ is Jacobson we see that the closed points of 
$U_j$ are dense in $T$. Because $T = \{x\} \coprod T'$
this can only be the case if $x$ is closed in $U_j$.
Hence $\overline{\{x\}} \cap U_j = \{x\}$. We conlude
that $\overline{\{x\}} = \{ x \}$ as desired.

\medskip\noindent
Let $Z \subset X$ be a closed subset (still
assuming each $U_i$ is Jacobson).
Since now we know that $X_0 \cap Z  \cap U_i
= U_{i, 0} \cap Z$ are dense in $Z \cap U_i$
it follows immediately that $X_0 \cap Z$ is
dense in $Z$.

\medskip\noindent
Conversely, assume that $X$ is Jacobson.
Let $Z \subset U_i$ be closed. Then
$X_0 \cap \overline{Z}$ is dense in $\overline{Z}$.
Hence also $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. As $X_0 \cap U_i
\subset U_{i,0}$ we see that
$U_{i,0} \cap Z$ is dense in $Z$.
Thus $U_i$ is Jacobson as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-inherited}
Let $X$ be Jacobson. The following types of subsets $T \subset X$
are Jacobson:
\begin{enumerate}
\item Open subspaces.
\item Closed subspaces.
\item Locally closed subspaces.
\item Finite unions of locally closed subspaces.
\item Constructible sets.
\item Any subset $T \subset X$ which locally on $X$
is a finite union of locally closed subsets.
\end{enumerate}
In each of these cases closed points of $T$ are
closed in $X$.
\end{lemma}

\begin{proof}
Let $X_0$ be the set of closed points of $X$. For any subset
$T \subset X$ we let $(*)$ denote the property:
\begin{list}{$(*)$}{}
\item For every closed subset $Z \subset T$ the set $Z\cap X_0$
is dense in $Z$.
\end{list}
Note that always $X_0 \cap T \subset T_0$. Hence property $(*)$
implies that $T$ is Jacobson. In addition it clearly implies
that every closed point of $T$ is closed in $X$.

\medskip\noindent
Let $U \subset X$ be an open subset.
Suppose $Z \subset U$ is closed. Then $X_0 \cap \overline{Z}$ is
dense in $\overline{Z}$. Hence $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. Thus $(*)$ holds.

\medskip\noindent
Let $Z \subset X$ be a closed subset.
Since closed subsets of $Z$ are the same as closed subsets of
$X$ contained in $Z$ property $(*)$ is immediate.

\medskip\noindent
Let $T \subset X$ be locally closed. Write $T = U \cap Z$
for some open $U \cap X$ and some closed $Z \subset X$.
Note that closed subsets of $T$ are the same thing as
closed subsets of $U$ which happen to be contained in $Z$.
Hence $(*)$ holds for $T$ because we proved it for $U$ above.

\medskip\noindent
Suppose $T_i \subset X$, $i=1,\ldots,n$ are locally closed subsets. Let
$T = T_1 \cup \ldots \cup T_n$. Suppose $Z \subset T$ is closed.
Then $Z_i = Z\cap T_i$ is closed in $T_i$. By $(*)$ for $T_i$ we see that
$Z_i \cap X_0$ is dense in $Z_i$. Clearly this implies that
$X_0 \cap Z$ is dense in $Z$, and property $(*)$ holds for
$T$.

\medskip\noindent
The case of constructible subsets is subsumed in the case
of finite unions of locally closed subsets, see Definition
\ref{definition-constructible}.

\medskip\noindent
The condition of the last assertion means that there exists
an open covering $X = \bigcup U_i$ such that each $T \cap U_i$
is a finite union of locally closed subsets of $U_i$. We conclude
that $T$ is Jacobson by Lemma \ref{lemma-jacobson-local} and the
case of a finite union of locally closed subsets dealt with above.
It is formal to deduce $(*)$ for $T$ from $(*)$ for all the inclusions
$T \cap U_i \subset U_i$ and the assertions $X_0 = \bigcup U_{i,0}$
and $T_0 = \bigcup (T\cap U_i)_0$ from Lemma \ref{lemma-jacobson-local}.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-constructible}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{constructible subsets of } X\}
\leftrightarrow
\{\text{constructible subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subset of retrocompact open subsets, as well as complements
of these.
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-locally-closed}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{finite unions loc.\ closed subsets of } X\}
\leftrightarrow
\{\text{finite unions loc.\ closed subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subsets of locally closed, of open and of closed subsets. 
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}


















\section{Specialization}
\label{section-specialization}

\begin{definition}
\label{definition-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item If $x, x' \in X$ then we say {\it $x$ is a specialization of $x'$},
of {\it $x'$ is a generalization of $x$} if $x \in \overline{\{x'\}}$.
Notation: $x' \leadsto x$.
\item A subset $T \subset X$ is {\it stable under specialization}
if for all $x' \in T$ and every specialization $x' \leadsto x$ we have
$x \in T$.
\item A subset $T \subset X$ is {\it stable under generalization}
if for all $x \in T$ and every generalization $x'$ of $x$ we have
$x' \in T$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-open-closed-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item Any closed subset of $X$ is stable under specialization.
\item Any open subset of $X$ is stable under generalization.
\item A subset $T \subset X$ is stable under specialization
if and only if
the complement $T^c$ is stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-lift-specializations}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item We say that {\it specializations lift along $f$}
if given $y' \leadsto y$ in $Y$ and any $x'\in X$ with $f(x') = y'$
there exists a specialization $x' \leadsto x$ of $x'$ in $X$ such
that $f(x) = y$.
\item We say that {\it generalizations lift along $f$}
if given $y' \leadsto y$ in $Y$ and any $x\in X$ with $f(x) = y$
there exists a generalization $x' \leadsto x$ of $x$ in $X$ such
that $f(x') = y'$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-lift-specialization-composition}
Suppose $f : X \to Y$ and $g : Y \to Z$ are continuous maps
of topological spaces. If specializations lift along both $f$ and $g$ 
then specializations lift along $g \circ f$. Similarly for
``generalizations lift along''.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-lift-specializations-images}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If specializations lift along $f$, and if $T \subset X$
is stable under specialization, then $f(T) \subset Y$ is
stable under specialization.
\item If generalizations lift along $f$, and if $T \subset X$
is stable under generalization, then $f(T) \subset Y$ is
stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-open-map-specialization}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $f$ is closed then specializations lift along $f$.
\item If $f$ is open the generalizations lift along $f$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


















\section{Sheaves}
\label{section-sheaves}

\noindent
This part will be superceded by the discussion of sheaves
over sites later in the documents. But perhaps it makes 
sense to briefly define some of the notions here.

\subsection{Presheaves}
\label{subsection-presheaves}

\begin{definition}
\label{definition-presheaf}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it presheaf} $\mathcal{F}$ of sets is a rule which
assigns to each open $U \subset X$ a set $\mathcal{F}(U)$ and
to each inclusion $V \subset U$ a map
$\rho^U_V : \mathcal{F}(U) \to \mathcal{F}(V)$ such that
whenever $W \subset V \subset U$ we have 
$\rho^U_W = \rho^V_W \circ \rho ^U_V$.
\item A morphism $\varphi : \mathcal{F} \to \mathcal{G}$ 
of presheaves of sets is a rule which assigns to each
open $U \subset X$ a map of sets $\varphi : \mathcal{F}(U)
\to \mathcal{G}(U)$ compatible with restriction maps,
i.e., whenever $V \subset U \subset X$ are open the
diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r]^\varphi \ar[d]^{\rho^U_V} &
\mathcal{G}(U) \ar[d]^{\rho^U_V} \cr
\mathcal{F}(V) \ar[r]^\varphi & \mathcal{G}(V)
}
$$
commutes.
\item The category of presheaves of sets on $X$ will be denoted
$\textit{PSh}(X)$.
\end{enumerate}
\end{definition}

\noindent
The elements of the set $\mathcal{F}(U)$ are called
the {\it sections} of $\mathcal{F}$ over $U$.
For every $V \subset U$ the map
$\rho^U_V : \mathcal{F}(U) \to \mathcal{F}(V)$
is called the {\it restricton map}. We will use the
notation $s|_V := \rho^U_V(s)$ if $s\in \mathcal{F}(U)$.
This notation is consistent with the notion of restriction
of functions from topology because if $W \subset V \subset U$
and $s$ is a section of $\mathcal{F}$ over $U$ then
$s|_W = (s|_V)|_W$ by the property of the restriction maps
expressed in the definition above.

\subsection{Presheaves of abelian groups, etc}
\label{subsection-abelian-presheaves}

\noindent
In this section we briefly point out some features of the
category of presheaves that allow one to define presheaves
of abelian groups, rings, etc. Of course it would be better
to discuss this in greater generality, using that limits
and colimts exist in the category of presheaves of sets,
but we leave this to our later discussion of (pre)sheaves
on a general site.

\begin{example}
\label{example-singleton-presheaf}
Let $X$ be a topological space $X$. Consider a rule $\mathcal{F}$ that
associates to every open subset a singleton set. Since every set
has a unique map into a singleton set, there exist unique restriction
maps $\rho^U_V$. The resulting structure is a presheaf of sets.
It is a final object in the category of presehaves of sets, by the
property of singleton sets mentioned above. Hence it is
also unique up to unique isomorphism. We will sometimes write $*$
for this presheaf.
\end{example}

\begin{lemma}
\label{lemma-product-presheaves}
The category of presheaves of sets has products
(see Categories, Definition \ref{categories-definition-product}).
\end{lemma}

\begin{proof}
Namely, suppose $\mathcal{F}$ and $\mathcal{G}$ are
presheaves of sets on the topological space $X$.
Consider the rule $U \mapsto \mathcal{F}(U) \times \mathcal{G}(U)$,
denoted $\mathcal{F}\times \mathcal{G}$. If $V \subset U \subset X$
are open then define the restriction mapping
$$
(\mathcal{F} \times \mathcal{G})(U)
\longrightarrow
(\mathcal{F} \times \mathcal{G})(V)
$$
by mapping $(s, t) \mapsto (s|_V, t|_V)$. Then it is immediately
clear that $\mathcal{F}\times\mathcal{G}$ is a presheaf.
Also, there are projection maps
$p : \mathcal{F}\times\mathcal{G} \to \mathcal{F}$
and 
$q : \mathcal{F}\times\mathcal{G} \to \mathcal{G}$.
We leave it to the reader to show that
for any third presheaf $\mathcal{H}$ we have
$\text{Mor}(\mathcal{H}, \mathcal{F}\times \mathcal{G})
= \text{Mor}(\mathcal{H}, \mathcal{F}) \times
\text{Mor}(\mathcal{H}, \mathcal{G})$.
\end{proof}

\noindent
Recall that if $(A, + : A\times A \to A, - : A \to A, 0\in A)$
is an abelian group, then the zero and the negation maps are
uniquely determined by the addition law. In other words, it
makes sense to say ``let $(A, +)$ be an abelian group''.

\begin{lemma}
\label{lemma-abelian-presheaves}
Let $X$ be a topological space.
Let $\mathcal{F}$ be a presheaf of sets.
Consider the following types of structure on $\mathcal{F}$:
\begin{enumerate}
\item For every open $U$ the structure of an abelian group
on $\mathcal{F}(U)$ such that all restriction maps are
abelian group homomorphisms.
\item A map of presheaves
$+ : \mathcal{F} \times \mathcal{F} \to \mathcal{F}$,
a map of presheaves $- : \mathcal{F} \to \mathcal{F}$
and a map $0 : * \to \mathcal{F}$
(see Example \ref{example-singleton-presheaf})
satisfying all the axioms of $+, -, 0$ in a usual
abelian group.
\item A map of presheaves
$+ : \mathcal{F} \times \mathcal{F} \to \mathcal{F}$,
a map of presheaves $- : \mathcal{F} \to \mathcal{F}$
and a map $0 : * \to \mathcal{F}$
such that for each open $U \subset X$ the quadruple
$(\mathcal{F}(U), +, -, 0)$ is an abelian group,
\item A map of presheaves $+ : \mathcal{F} \times \mathcal{F}
\to \mathcal{F}$ such that for every open $U \subset X$
the map $+ : \mathcal{F}(U) \times \mathcal{F}(U) \to \mathcal{F}(U)$
defines the structure of an abelian group.
\end{enumerate}
There are natural bijections between the collections of
types of data (1) - (3) above.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
The lemma says that to give an abelian group object $\mathcal{F}$
in the category of presheaves is the same as giving a presheaf of sets
$\mathcal{F}$ such that all the sets $\mathcal{F}(U)$ are endowed
with the structure of an abelian group and such that all the restriction
mappings are group homomorphisms. For most algebra structures
we will take this approach to (pre)sheaves of such objects, i.e.,
we will define a (pre)sheaf of such objects to be a (pre)sheaf
$\mathcal{F}$ of sets all of whose sets of sections $\mathcal{F}(U)$
are endowed with this structure compatibly with the restriction
mappings.

\begin{definition}
\label{definition-abelian-presheaves}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it presheaf of abelian groups} or an {\it abelian presheaf}
is a presheaf of sets $\mathcal{F}$ endowed with one of the types
of structures mentioned in Lemma \ref{lemma-abelian-presheaves} above.
\item A {\it morphism of presheaves of abelian groups}
$\varphi : \mathcal{F} \to \mathcal{G}$ is a morphism of presheaves
of sets which induces
a homomorphism of abelian groups $\mathcal{F}(U) \to \mathcal{G}(U)$
for every open $U \subset X$.
\item The category of presheaves of abelian groups on $X$ is denoted
$\textit{PAb}(X)$.
\item {\it Presheaves of (not necessarily abelian) groups, rings, modules
over a fixed ring, vector spaces over a fixed field,} etc and
{\it morphisms between these} are defined similarly (see comments
preceding the definition).
\end{enumerate}
\end{definition}

\begin{remark}
\label{remark-presheaves-structure}
This remark intends to clarify the definition
of presheaves of certain types of structures,
but is likely very confusing for those reading
this material for the first time.
Suppose that $\mathcal{C}$ is a category and
that $F : \mathcal{C} \to \textit{Sets}$ is
a faithfull functor. Typically $F$ is a ``forgetfull''
functor. Then we may define a ``presheaf of objects of $\mathcal{C}$''
as a pair consisting of
\begin{enumerate}
\item a presheaf of sets $\mathcal{F}$, and
\item for every open $U \subset X$ a choice
of an object $A(U) \in \text{Ob}(\mathcal{C})$
\end{enumerate}
such that
\begin{enumerate}
\item we have $F(A(U)) = \mathcal{F}(U)$ for all $U \subset X$ open, and
\item for every $V \subset U \subset X$ open we have
$\rho^U_V : F(A(U)) = \mathcal{F}(U) \to F(A(V)) = \mathcal{F}(V)$
is in the image of $F : \text{Mor}_{\mathcal{C}}(A(U), A(V))
\to \text{Map}(\mathcal{F}(U), \mathcal{F}(V))$.
\end{enumerate}
In other words, the restriction mappings $\rho^U_V$ actually
come from unique morphisms $A(U) \to A(V)$ in the category $\mathcal{C}$.
It should be clear to the observant reader that $U \mapsto A(U)$
is a contravariant functor from the category of opens of $X$
into $\mathcal{C}$. This is the notion we will use later on
(in the section on sites).
\end{remark}

\subsection{Sheaves}
\label{subsection-sheaves}

\noindent
In this section we explain the sheaf condition.

\begin{definition}
\label{definition-sheaf}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it sheaf} $\mathcal{F}$ of sets on $X$ is a presheaf
which satsifies the following additional property: Given
any open covering $U = \bigcup_{i \in I} U_i$ and any collection
of sections $s_i \in \mathcal{F}(U_i)$, $i \in I$ such that
$\forall i,j\in I$
$$
s_i|_{U_i \cap U_j} = s_j|_{U_i \cap U_j}
$$
there exists a unique section $s \in \mathcal{F}(U)$ such that
$s_i = s|_U$ for all $i \in I$.
\item A {\it morphism of sheaves of sets} is simply a
morphism of presheaves of sets.
\item The category of sheaves of sets on $X$ is denoted
$\textit{Sh}(X)$.
\item {\it Sheaves of groups, rings, modules
over a fixed ring, vector spaces over a fixed field,} etc
are defined to be presheaves of groups, rings, modules over
a fixed ring, vector spaces over a fixed field, etc such
that the underlying presheaf of sets is a sheaf%
\footnote{This only for those categories of algebraic
structures listed here. See Remark \ref{remark-sheaves-structure}}.
\item The category of sheaves of abelian groups
is denoted $\textit{Ab}(X)$.
\end{enumerate}
\end{definition}

\begin{remark}
There is always a bit of confusion as to whether it is
necessary to say something about the set of sections of
a sheaf over the empty set $\emptyset \subset X$.
Note that the empty set is
covered by the empty open covering, and hence the ``collection
of section $s_i$'' from the definition above actually form
an element of the empty product which is the final object
of the category the sheaf has values in. In other words,
if you read the definition right you automatically deduce
that $\mathcal{F}(\emptyset) = \textit{a final object}$,
which in the case of a sheaf of sets is a singleton.
If you do not like this argument, then you can just require
that $\mathcal{F}(\emptyset) = \{*\}$.
\end{remark}

\begin{example}
\label{example-basic-continuous-maps}
Let $X$, $Y$ be topological spaces.
Consider the rule $\mathcal{F}$ wich associates to
the open $U \subset X$ the set
$$
\mathcal{F}(U) = \{ f : U \to Y \mid f \text{ is continuous}\}
$$
with the obvious restriction mappings. We claim that
$\mathcal{F}$ is a sheaf. To see this suppose that
$U = \bigcup_{i\in I} U_i$ is an open covering, and
$f_i \in \mathcal{F}(U_i)$, $i\in I$ with
$f_i |_{U_i \cap U_j} = f_j|_{U_i \cap U_j}$ for all $i,j \in I$.
In this case define $f : U \to Y$ by setting $f(u)$
equal to the value of $f_i(u)$ for any $i \in I$ such that
$u \in U_i$. This is well defined by assumption. Moreover,
$f : U \to Y$ is a map such that its restriction to $U_i$
agrees with the continuous map $U_i$. Hence clearly $f$ is
continuous!
\end{example}

\begin{remark}
\label{remark-sheaves-structure}
This remark intends to clarify the definition
of sheaves of certain types of structures,
but is likely very confusing for those reading
this material for the first time; it is a continuation
of Remark \ref{remark-presheaves-structure}.
Suppose that $\mathcal{C}$ is a category and
that $F : \mathcal{C} \to \textit{Sets}$ is
a faithfull functor. Then we have defined
in Remark \ref{remark-presheaves-structure}
the notion of a presheaf of objects of $\mathcal{C}$
(in terms of a presheaf of sets $\mathcal{F}$ and
object $A(U)$, etc).
When does Definition \ref{definition-sheaf} give
the ``correct notion'' of a sheaf? According to
our later definitions (see Sites, Section \ref{sites-section-sheaves}),
if $\mathcal{C}$ has all products, then this should imply that
for every open covering $U = \bigcup_{i \in I} U_i$, the
sequence
$$
\xymatrix{
A(U) \ar[r]
&
\prod\nolimits_{i\in I}
A(U_i)
\ar@<1ex>[r] \ar@<-1ex>[r]
&
\prod\nolimits_{(i_0, i_1) \in I\times I}
A(U_{i_0} \cap U_{i_1})
}
$$
is an equalizer diagram {\it in the category $\mathcal{C}$}.
But in the definition above we only require the
corresponding diagram of sets to be an equalizer diagram!
A small amount of thought shows the definition above {\it does work} if
the category $\mathcal{C}$ and
the functor $F : \mathcal{C} \to \textit{Sets}$
have the following properties:
\begin{enumerate}
\item $\mathcal{C}$ has products and equalizers,
\item the functor $F$ commutes with products,
\item the functor $F$ commutes with equalizers, and
\item the functor $F$ reflects isomorphisms.
\end{enumerate}
The last property means that given a morphism
$f : A \to A'$ in $\mathcal{C}$, then $f$ is
an isomorphism if (and only if) $F(f)$ is.
Below you will find an example where Definition \ref{definition-sheaf}
does not lead to the correct notion.
\end{remark}

\begin{example}
\label{example-sheaves-topological-spaces}
Sheaves of topological spaces should not be defined as
in Definition \ref{definition-sheaf}.
This example is confusing and should probably be skipped on
a first reading. Suppose $X = \mathbf{N}$ with the discrete
topology. Let $A_i$, for $i \in \mathbf{N}$ be a discrete
topological space. For any subset $U \subset \mathbf{N}$
define $\mathcal{F}(U) = \prod_{i\in U} A_i$ with the
discrete topology. Then this is a presheaf of topological
spaces whose underlying presheaf of sets is a sheaf.
However, if each $A_i$ has at least two elements, then
this is not a sheaf of topological spaces
according to Sites, Definition \ref{sites-definition-sheaf}.
The reader may check that putting the {\it product topology} on
each $\mathcal{F}(U) = \prod_{i\in U} A_i$ does lead to a sheaf
of topological spaces over $X$ (as in Sites,
Definition \ref{sites-definition-sheaf}).
\end{example}






\subsection{Stalks}
\label{subsection-stalks}

\noindent
Let $X$ be a topological space. Let $x \in X$ be a point.
Let $\mathcal{F}$ be a presheaf of sets on $X$.
The {\it stalk of $\mathcal{F}$ at $x$} is the set
$$
\mathcal{F}_x
=
\text{colim}_{x\in U} \mathcal{F}(U)
$$
where the colimit is over the set of opens $U \subset X$
containing $x$ (partially) ordered by inclusion, with
transition maps given by the restriction maps of $\mathcal{F}$.
See Categories, Subsection \ref{categories-subsection-posets-limits}
for notation and terminology. In other words
$$
\mathcal{F}_x
=
\{
(U,s)
\mid
x\in U, s\in \mathcal{F}(U)
\}/\sim
$$
with equivalence relation given by $(U,s) \sim (U', s')$
if and only if $s|_{U\cap U'} = s'|_{U\cap U'}$. By abuse of
notation we will often denote $(U, s)$
or even $s$ the corresponding element in $\mathcal{F}_x$.
Also we will say $s = s'$ in $\mathcal{F}_x$ for two local sections
of $\mathcal{F}$ defined in a neighbourhod of $x$ to denote that
they have the same image in $\mathcal{F}_x$.

\medskip\noindent
An obvious consequence of this definition is that
for any open $U \subset X$ there is a canonical map
$$
\mathcal{F}(U) 
\longrightarrow
\prod\nolimits_{u \in U} \mathcal{F}_u
$$
defined by $s \mapsto \prod_{u \in U} (U, s)$. Think about it!

\medskip\noindent
Another observation is that the construction of the stalk
$\mathcal{F}_x$ is functorial in the presheaf $\mathcal{F}$.
In other words, it gives a functor
$$
\textit{PSh}(X) \longrightarrow \textit{Sets},
\mathcal{F} \longmapsto \mathcal{F}_x.
$$
This functor is called the {\it stalk functor}.
Namely, if $\varphi : \mathcal{F} \to \mathcal{G}$ is 
a morphism of presheaves, then we define
$\varphi_x : \mathcal{F}_x \to \mathcal{G}_x$
by the rule $(U, s) \mapsto (U, \varphi(s))$.
To see that this works we have to check that
if $(U, s) = (U', s')$ in $\mathcal{F}_x$ then also
$(U, \varphi(s)) = (U', \varphi(s'))$ in $\mathcal{G}_x$.
This is clear since $\varphi$ is compatible with the
restriction mappings.

\begin{example}
\label{example-germs-functions}
Suppose $X = \mathbf{R}^n$ with the Euclidean topology.
Consider the presheaf of $\mathcal{C}^\infty$ functions
on $X$, usually denoted $\mathcal{C}^\infty$ as well.
In other words, $\mathcal{C}^\infty(U)$ is the set
of $\mathcal{C}^\infty$-functions $f : U \to \mathbf{R}$.
As in Example \ref{example-basic-continuous-maps}
it is easy to show that this is a sheaf. In fact it
is a sheaf of $\mathbf{R}$-vector spaces.

\medskip\noindent
Next, let $x \in X = \mathbf{R}^n$ be a point. How do
we think of an element in the stalk $\mathcal{C}^\infty_x$?
Such an element is given by a $\mathcal{C}^\infty$-function 
$f$ whose domain contains $x$. And a pair of such
functions $f$, $g$ determine
the same element of the stalk if they agree in a neighbourhood
of $x$. In other words, an element if $\mathcal{C}^\infty_x$
is the same thing as what is sometimes called
a {\it germ of a $\mathcal{C}^\infty$-function at $x$}.
\end{example}

\subsection{Sheafification}
\label{subsection-sheafification}

\noindent
In this subsection we explain how to get the sheafification
of a presheaf on a topological space. We will use stalks
to describe the sheafification in this case. This is different
from the general procedure described in Sites, Section
\ref{sites-section-sheafification}, and perhaps somewhat
easier to understand.

\medskip\noindent
The basic construction is the following. Let $\mathcal{F}$ be a presheaf
of sets $\mathcal{F}$ on a topological space $X$.
For every open $U \subset X$ we define
$$
\mathcal{F}^{\#}(U)
=
\{
(s_u) \in \prod\nolimits_{u \in U} \mathcal{F}_u
\text{ such that }(*)
\}
$$
where $(*)$ is the property:
\begin{list}{$(*)$}{}
\item For every $u \in U$, there exists an open neighbourhood
$u \in V \subset U$, and a section $\sigma \in \mathcal{F}(V)$
such that for all $v \in V$ we have $s_v = (V, \sigma)$
in $\mathcal{F}_v$.
\end{list}
Note that $(*)$ is a condition for each $u \in U$,
and that given $u \in U$ the truth of this condition
depends only on the values $s_v$ for $v$ in any neighbourhood
of $u$. Thus it is clear that,
if $V \subset U \subset X$ are open, the projection maps
$$
\prod\nolimits_{u \in U} \mathcal{F}_u
\longrightarrow
\prod\nolimits_{v \in V} \mathcal{F}_v
$$
maps elements of $\mathcal{F}^{\#}(U)$
into $\mathcal{F}^{\#}(V)$. In other words,
we get the structure of a presheaf of sets
on $\mathcal{F}^{\#}$.

\medskip\noindent
Furthermore, the map $\mathcal{F}(U) \to \prod_{u \in U} \mathcal{F}_u$
described in Subsection \ref{subsection-stalks} clearly has image
in $\mathcal{F}^{\#}(U)$. In addition, if $V \subset U \subset X$ are
open then we have the following commutative diagram
$$
\xymatrix{
\mathcal{F}(U) \ar[r] \ar[d] &
\mathcal{F}^{\#}(U) \ar[r] \ar[d] &
\prod_{u\in U} \mathcal{F}_u \ar[d]\cr
\mathcal{F}(V) \ar[r] &
\mathcal{F}^{\#}(V) \ar[r] &
\prod_{v\in V} \mathcal{F}_v
}
$$
where the vertical maps are induced from the
restriction mappings. Thus we see that
there is a canonical morphism of presheaves
$\mathcal{F} \to \mathcal{F}^{\#}$.

\medskip\noindent
Note also that the rule $U \mapsto \prod_{u\in U} \mathcal{F}_u$
is a presheaf, with obvious restriction mappings. And by construction
$\mathcal{F}^{\#}$ is a sub-presheaf of this. This will be
used in the proof of the lemma below.

\begin{lemma}
\label{lemma-sheafification-sheaf}
The presheaf $\mathcal{F}^{\#}$ is a sheaf.
\end{lemma}

\begin{proof}
It is probably better for the reader to find their own explanation
of this then to read the proof here. In fact the lemma is true
for the same reason as why the presheaf of continuous
function is a sheaf, see Example \ref{example-basic-continuous-maps}.

\medskip\noindent
Anyway, let $U = \bigcup U_i$ be an open covering.
Suppose that $s_i \in \mathcal{F}^{\#}(U_i)$
such that $s_i$ and $s_j$ agree over $U_i \cap U_j$. Write
$s_i = (s_{i,u})_{u\in U_i}$. The compatibility condition implies that
$s_{i, u} = s_{j, u}$ whenever $u \in U_i \cap U_j$. 
Hence there exists a unique element $s = (s_u)_{u\in U}$
in $\prod_{u\in U} \mathcal{F}_u$ with the property that
$s_u = s_{i, u}$ whenever $u \in U_i$ for some $i$. Of course this
element $s$ has the property that $s|_{U_i} = s_i$.
We have to check property $(*)$. Pick $u \in U$.
Then $u \in U_i$ for some $i$. Hence by $(*)$ for $s_i$,
there exists a $u \in V \subset U_i$ open and a $\sigma \in \mathcal{F}(V)$
such that $s_{i, v} = (V, \sigma)$ in $\mathcal{F}_v$ 
for all $v \in V$. Since $s_{i,v} = s_v$ we get $(*)$ for
$s$.
\end{proof}




\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
