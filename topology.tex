\input{preamble}

% OK, start here.
%
\begin{document}

\title{Topology}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Basic topology will be explained in this document.
A reference is \cite{Engelking}.

\section{Basic notions}
\label{section-topology-basic}

\noindent
The following notions are considered basic and will not be defined,
and or proved. This does not mean they are all necessarily easy or 
well known.

\begin{enumerate}
\item $X$ is a {\it topological space},
\label{space}
\item $x\in X$ is a {\it point},
\label{point}
\item $x\in X$ is a {\it closed point},
\label{closed-point}
\item $f : X_1 \to X_2$ is {\it continuous},
\label{continuous}
\item a {\it neighbourhood of $x \in X$} is any subset 
$E \subset X$ which contains an open subset that
contains $x$,
\label{neighbourhood}
\item $\mathcal{U} : U = \bigcup_{i \in I} U_i$ is an
{\it open covering of} $U$ (note: we allow any $U_i$ to be empty
and we even allow, in case $U$ is empty, the empty set for $I$),
\label{covering}
\item {\it $\{ E_i \}_{i \in I}$ is a fundamental system of neighbourhoods
of $x$ in $X$},
\label{fundamental-system}
\item the open covering $\mathcal{V}$ is a {\it refinement}
of the open covering $\mathcal{U}$,
\label{refinement}
\item a topological space $X$ is {\it Hausdorff} iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$,
\label{Hausdorff}
\item etc.
\end{enumerate}

\section{Bases}
\label{section-bases}

\begin{definition}
\label{definition-base}
Let $X$ be a topological space.
A collection of subsets $\mathcal{B}$ of $X$ is called
a {\it base for the topology on $X$} if the following
conditions hold: 
\begin{enumerate}
\item Every element $B \in \mathcal{B}$ is open in $X$.
\item For every open $U \subset X$ and every $x \in U$,
there exists an element $B \in \mathcal{B}$ such that
$x \in B \subset U$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-refine-covering-basis}
Let $X$ be a topological space.
Let $\mathcal{B}$ be a basis for the topology on $X$.
Let $\mathcal{U} : U = \bigcup_i U_i$ be an open covering of
$U \subset X$. There exists an open covering $U = \bigcup V_j$
which is a refinement of $\mathcal{U}$ such that each
$V_j$ is an element of the basis $\mathcal{B}$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


\section{Connected components}
\label{section-connected-components}

\begin{definition}
\label{definition-connected-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it connected} if whenever $X = T_1 \coprod T_2$
with $T_i \subset X$ open and closed, then either $T_1 = \emptyset$ or
$T_2 = \emptyset$.
\item We say $T \subset X$ is a {\it connected component} of $X$ if
$T$ is a maximal connected subset of $X$. 
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-connected-components}
Let $X$ be a topological space. If $T \subset X$ is connected,
then so is its closure. Each point of $X$ is contained
in a connected component. Connected components are always closed,
but not necessarily open.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the connected subset $T$.
Suppose $\overline{T} = T_1 \coprod T_2$ with $T_i \subset \overline{T}$
open and closed. Then $T = (T\cap T_1) \coprod (T \cap T_2)$. Hence 
$T$ equals one of the two, say $T = T_1 \cap T$. Thus clearly
$\overline{T} \subset T_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of connected subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ordering on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is 
connected. Namely, suppose that $T =  T_1 \coprod T_2$ is a disjoint
union of two open and closed subsets of $T$.
For each $\alpha \in A'$ we have either $T_\alpha \subset T_1$
or $T_\alpha \subset T_2$, by connectedness of $T_\alpha$.
Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset T_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset T_2$ for all $\alpha \in A'$. Hence $T = T_2$. 

\medskip\noindent
To get an example
where connected components are not open, just take 
an infinite product $\prod_{n \in \mathbf{N}} \{0,1\}$
with the product topology. This is a totally disconnected
space so connected components are singletons, which are
not open.
\end{proof}



\section{Irreducible components}
\label{section-irreducible-components}

\begin{definition}
\label{definition-irreducible-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it irreducible}, if $X$ is not empty, and whenever
$X = Z_1 \cup Z_2$ with $Z_i$ closed, we have $X = Z_1$ or $X = Z_2$.
\item We say $Z \subset X$ is an {\it irreducible component} of $X$
if $Z$ is a maximal irreducible subset of $X$.
\end{enumerate}
\end{definition}

\noindent
An irreducible space is obviously connected.

\begin{lemma}
\label{lemma-irreducible}
Let $X$ be a topological space. If $T \subset X$ is irreducible
so is its closure in $X$. Any irreducible component of $X$ is
closed. Every point of $X$ is contained in some irreducible component
of $X$.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the irreducible subset $T$.
If $\overline{T} = Z_1 \cup Z_2$ with $Z_i \subset \overline{T}$
closed, then $T = (T\cap Z_1) \cup (T \cap Z_2)$ and hence 
$T$ equals one of the two, say $T = Z_1 \cap T$. Thus clearly
$\overline{T} \subset Z_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of irreducible subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ording on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is 
irreducible. Namely, suppose that $T =  Z_1 \cup Z_2$ is a union
of two closed subsets of $T$. For each $\alpha \in A'$ we have
either $T_\alpha \subset Z_1$ or $T_\alpha \subset Z_2$, by irreducibility
of $T_\alpha$. Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset Z_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset Z_2$ for all $\alpha \in A'$. Hence $T = Z_2$. 
\end{proof}

\noindent
A singleton is irreducible. Thus if $x \in X$ is a point
then the closure $\overline{\{x\}}$ is an irreducible closed
subset of $X$. 

\begin{definition}
\label{definition-generic-point}
Let $X$ be a topological space.
\begin{enumerate}
\item Let $Z \subset X$ be an irreducible closed subset.
A {\it generic point} of $Z$ is a point $\xi \in Z$ such
that $Z = \overline{\{\xi\}}$.
\item The space $X$ is called {\it sober} if every
irreducible closed subset has a unique generic point.
\end{enumerate}
\end{definition}

\begin{example}
\label{example-Hausdorff}
Recall that a topological space $X$ is Hausdorff iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$.
In this case $X$ is irreducible if and only if $X$ is
a singleton. Similarly, any subset of $X$ is irreducible
if and only if it is a singleton. Hence a Hausdorff space is
sober.
\end{example}



\section{Noetherian topological spaces}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
A topological space is called {\it Noetherian}
if the descending chain condition holds for
closed subsets of $X$.
\end{definition}

\begin{lemma}
\label{lemma-Noetherian}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item Any subset of $X$ with the induced topology is Noetherian.
\item The space $X$ has finitely many irreducible components.
\item Each irreducible component of $X$ contains a nonempty open of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $T \subset X$ be a subset of $X$.
Let $T_1 \supset T_2 \supset \ldots$
be a descending chain of closed subsets of $T$.
Write $T_i =  T \cap Z_i$ with $Z_i \subset X$ closed.
Consider the descending chain of closed subsets
$Z_1 \supset Z_1\cap Z_2 \supset Z_1 \cap Z_2 \cap Z_3 \ldots$
This stabilizes by assumption and hence the original sequence
of $T_i$ stabilizes. Thus $T$ is Noetherian.

\medskip\noindent
Let $A$ be the set of closed subsets of $X$ which do not
have finitely many irreducible components. Assume that
$A$ is not empty to arrive at a contradiction. 
The set $A$ is partially ordered by inclusion: $\alpha \leq \alpha'
\Leftrightarrow Z_{\alpha} \subset Z_{\alpha'}$.
By the descending chain condition we may find a 
smallest element of $A$, say $Z$. As $Z$ is not a finite
union of irreducible components, it is not irreducible.
Hence we can write $Z = Z' \cup Z''$ and both are strictly smaller
closed subsets. By construction $Z' = \bigcup Z'_i$ and
$Z'' = \bigcup Z''_j$ are finite unions of their irreducible
components. Hence $Z = \bigcup Z'_i \cup \bigcup Z''_j$ is
a finite union of irreducible closed subsets.
After removing redundant members of this expression,
this will be the decomposition of $Z$ into its irreducible
components, a contradiction.

\medskip\noindent
Let $Z \subset X$ be an irreducible component of $X$.
Let $Z_1,\ldots,Z_n$ be the other irreducible components
of $X$. Consider $U = Z \setminus (Z_1\cup\ldots\cup Z_n)$.
This is not empty since otherwise the irreducible space
$Z$ would be contained in one of the other $Z_i$.
Because $X = Z \cup Z_1 \cup \ldots Z_n$ (see Lemma \ref{lemma-irreducible}),
also $U = X \setminus (Z_1\cup\ldots\cup Z_n)$
and hence open in $X$. Thus $Z$ contains a nonempty
open of $X$.
\end{proof}

\section{Krull dimension}
\label{section-krull-dimension}

\begin{definition}
\label{definition-Krull}
The {\it Krull dimension} $\dim(X)$ of a topological space $X$ is
the element of $\{\infty,0,1,2,3,\ldots\}$ defined by the formula:
$$
\sup
\{
n
\mid
\exists\ Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X,\ 
Z_i\text{ closed irreducible, }Z_i \not=Z_{i+1}
\}.
$$
Let $x \in X$.
The {\it Krull dimension of $X$ at $x$} is defined as the infinum
of $\dim(U)$ where $U$ runs over the open neighbourhoods of $x$
in $X$.
\end{definition}

\begin{example}
\label{example-Krull-Rn}
The Krull dimension of the usual Euclidean space
$\mathbf{R}^n$ is $0$.
\end{example}

\begin{example}
\label{example-krull-2set}
Let $X = \{s, \eta\}$ with open sets given
by $\{\emptyset, \{\eta\}, \{s, \eta\}\}$.
In this case a maximal chain of irreducible
closed subsets is $\{s\} \subset \{s,\eta\}$.
Hence $\dim(X) = 1$. It is easy to generalize
this example to get a $(n+1)$-element topological
space of Krull dimension $n$.
\end{example}

\begin{definition}
\label{definition-equidimensional}
Let $X$ be a topological space.
We say that $X$ is {\it equidimensional} if every irreducible
component of $X$ has the same dimension.
\end{definition}









\section{Quasi-compact maps and constructible sets}
\label{section-quasi-compact}

\noindent
The phrase ``compact'' will be reserved
for Hausdorff topological spaces. And many spaces occuring
in algebraic geometry are not Hausdorff.

\begin{definition}
\label{definition-quasi-compact}
\begin{enumerate}
\item We say that a topological space $X$ is {\it quasi-compact}
if every open covering $\mathcal{U}$ of $X$ has a finite
refinement.
\item We say that a continuous map $f : X \to Y$ is {\it quasi-compact}
if the inverse image $f^{-1}(V)$ of every quasi-compact open $V \subset Y$
is quasi-compact.
\item We say a subset $Z \subset X$ is {\it retrocompact}
if the inclusion map $Z \to X$ is quasi-compact.
\end{enumerate}
\end{definition}

\noindent
In many texts on topology a space is called {\it compact} if it
is quasi-compact and Hausdorff; and in other texts the Hausdorff
condition is omitted. To avoid confusion in algebraic geometry
we use the term quasi-compact. Note that the notion of quasi-compactness
of a map is very different from the notion of a ``proper map''
in topology, since there one requires the inverse image of any
(quasi-)compact subset of the target to be (quasi-)compact,
whereas in the definition above we only consider quasi-compact
{\it open} sets.

\begin{lemma}
\label{lemma-closed-in-quasi-compact}
A closed subset of a quasi-compact topological space
is quasi-compact.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
The following is really a reformulation of the
quasi-compact property.

\begin{lemma}
\label{lemma-intersection-closed-in-quasi-compact}
Let $X$ be a quasi-compact topological space.
If $Z_\alpha$ is a collection of closed subsets
such that the intersection of each finite subcollection
is nonempty, then $\bigcap Z_\alpha$ is nonempty.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-connected-component-intersection}
Let $X$ be a quasi-compact topological space.
Let $x \in X$. The connected component of $X$ containing
$x$ is the intersection of all open and closed subsets
of $X$ containing $x$.
\end{lemma}

\begin{proof}
Let $T$ be the connected component containing $x$.
Let $S = \bigcap_{\alpha \in A} Z_\alpha$ be the intersection of all
open and closed subsets $Z_\alpha$ of $X$ containing $x$.
Note that any finite intersection of $Z_\alpha$'s is a
$Z_\alpha$. Because $T$ is connected and $x \in T$ we have $T \subset S$.
It suffices to show that $S$ is connected. If not,
then there exists a disjoint union decomposition
$S = U \coprod V$ with $U$ and $V$ open and closed
in $S$. Write $U = S \cap Z_1$, $V = S \cap Z_2$
with $Z_1$, $Z_2$ closed in $X$. Then $Z_1 \cap Z_2 \cap S = \emptyset$.
Hence $\bigcap_\alpha Z_1 \cap Z_2 \cap Z_\alpha = \emptyset$.
Since $Z_1 \cap Z_2$ is quasi-compact,
see Lemma \ref{lemma-closed-in-quasi-compact}, we see 
from Lemma \ref{lemma-intersection-closed-in-quasi-compact} that
for some $\alpha \in A$ we have $Z_1 \cap Z_2 \cap Z_\alpha = \emptyset$.
Hence $Z_\alpha = Z_1 \cap Z_\alpha \coprod Z_1 \cap Z_\alpha$
is a decomposition into two closed pieces, hence $Z_1 \cap Z_\alpha$
and $Z_1 \cap Z_\alpha$ are open and closed in $X$.
Thus, if $x \in Z_1$ say, then we see that $S \subset Z_1 \cap Z_\alpha$
and we conclude that $V = \emptyset$.
\end{proof}


\begin{definition}
\label{definition-constructible}
A subset $E \subset X$ of the topological space $X$ is called
{\it constructible} if it is a finite union of subsets
of the form $U \cap V^c$ where $U,V \subset X$ are open and
retrocompact.
\end{definition}

\begin{lemma}
\label{lemma-constructible}
The collection of constructible sets is closed under
finite intersections, finite unions and complements.
\end{lemma}

\begin{proof}
Note that if $U_1$, $U_2$ are open and retrocompact in $X$
then so is $U_1 \cup U_2$ because the union of two quasi-compact
subsets of $X$ is quasi-compact. It is also true that 
$U_1 \cap U_2$ is retrocompact. Namely, suppose $U \subset X$
is quasi-compact open, then $U_2 \cap U$ is quasi-compact because
$U_2$ is retrocompact in $X$, and then we conclude
$U_1 \cap (U_2 \cap U)$ is quasi-compact because $U_1$ is
retrocompact in $X$. From this it is formal to show that
the complement of a constructible set is constructible,
that finite unions of constructibles are constructible, and
that finite intersections of constructibles are constructible.
\end{proof}

\begin{lemma}
\label{lemma-inverse-images-constructibles}
Let $f : X \to Y$ be a continuous map of topological spaces.
If the inverse image of every retrocompact open subset of $Y$
is retrocompact in $X$, then inverse images of constructible
sets are constructible.
\end{lemma}

\begin{proof}
This is true because $f^{-1}(U \cap V^c) = f^{-1}(U) \cap f^{-1}(V)^c$,
combined with the definition of constructible sets.
\end{proof}

\begin{lemma}
\label{lemma-open-immersion-constructible-inverse-image}
Let $U \subset X$ be open. For a constructible set
$E \subset X$ the intersection $E \cap U$ is constructible
in $U$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap U$ is retrocompact in $U$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset U$ be open and quasi-compact. Then $W$
is open and quasi-compact in $X$. Hence $V \cap W = V \cap U \cap W$
is quasi-compact as $V$ is retrocompact in $X$.
\end{proof}

\begin{lemma}
\label{lemma-generic-point-in-constructible}
Let $X$ be a topological space. Suppose that
$Z \subset X$ is irreducible. Let $E \subset X$
be a finite union of locally closed subsets (e.g.\ $E$
is constructible). The following are equivalent
\begin{enumerate}
\item The intersection $E \cap Z$ contains an open
dense subset of $Z$.
\item The intersection $E \cap Z$ is dense in $Z$.
\end{enumerate}
If $Z$ has a generic point $\xi$, then this is
also equivalent to
\begin{enumerate}
\item[(3)] We have $\xi \in E$.
\end{enumerate}
\end{lemma}

\begin{proof}
Write $E = \bigcup U_i \cap Z_i$ as the finite union of
intersections of open sets $U_i$ and closed sets $Z_i$.
Suppose that $E \cap Z$ is dense in $Z$. Note that
the closure of $E \cap Z$ is the union of the closures
of the intersections $U_i \cap Z_i \cap Z$. Hence we
see that $U_i \cap Z_i \cap Z$ is dense in $Z$ for some $i = i_0$.
As $Z$ is closed we have either $Z \cap Z_i = Z$ or
$Z \cap Z_i$ is not dense, hence we conclude $Z \subset Z_{i_0}$.
Then $U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. Because $Z$ is irreducible, it is open dense. 
The converse is obvious.

\medskip\noindent
Suppose that $\xi \in Z$ is a generic point. Of course if
(1) $\Leftrightarrow$ (2) holds, then $\xi \in E$. Conversely,
if $\xi \in E$, then $\xi \in U_i \cap Z_i$ for some $i = i_0$.
Clearly this implies $Z \subset Z_{i_0}$ and hence
$U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. We conclude as before.
\end{proof}

\begin{lemma}
\label{lemma-constructible-Noetherian-space}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item The space $X$ is quasi-compact.
\item Any subset of $X$ is retrocompact.
\item A constructible set in $X$ is a finite union
of locally closed subsets of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Suppose $X = \bigcup U_i$ is an open covering of $X$ indexed
by the set $I$ which does not have a refinement by a finite
open covering. Choose $i_1,i_2,\ldots $ elements of $I$ inductively
in the following way: If $X \not = U_{i_1} \cup \ldots \cup U_{i_n}$
then choose $i_{n+1}$ such that $U_{i_{n+1}}$ is not contained
in $U_{i_1} \cup \ldots \cup U_{i_n}$. Thus we see that
$X \supset (X \setminus U_{i_1}) \supset 
(X \setminus U_{i_1} \cup U_{i_2}) \supset \ldots$ is a strictly
decreasing infinite sequence of closed subsets. This contradicts
the fact that $X$ is Noetherian. This proves the first assertion.

\medskip\noindent
The second assertion is now clear since every subset of $X$ is
Noetherian by Lemma \ref{lemma-Noetherian}. And the third follows
from this immediately.
\end{proof}








\section{Characterizing proper maps}
\label{section-proper}

\noindent
The notation in the following definition may be slightly different
from what you are used to.

\begin{definition}
\label{definition-proper-map}
Let $f:X\to Y$ be a continuous map between topological spaces.
\begin{enumerate}
\item We say that the map $f$ is {\it closed}
iff the image of every closed subset is closed.
\item We say that the map $f$ is {\it proper\footnote{This is the
terminology used in \cite{Bourbaki}. Usually this is what
is called ``universally closed'' in the literature.}} iff
the map $Z\times X\to Z\times Y$ is closed for any topological space
$Z$.
\item We say that the map $f$ is {\it quasi-proper} iff
the inverse image $f^{-1}(V)$ of every quasi-compact $V \subset
Y$ is quasi-compact.
\item We say that $f$ is {\it universally closed} iff
the map $f': Z\times_YX\to Z$ is closed for any map $g: Z\to Y$.
\end{enumerate}
\end{definition}

\noindent
The following lemma is useful later.

\begin{lemma}
\label{lemma-characterize-quasi-compact}
A topological space $X$ is quasi-compact iff the
projection map $Z\times X\to Z$ is closed for
any topological space $Z$.
\end{lemma}

\begin{proof}
(Sketch, see also remark below.)
If $X$ is not quasi-compact, there exists a family of open subsets
$\{U_{\alpha}: \alpha\in I\}$ such that $\cup_{\alpha\in
I}U_\alpha=X$ but the union of any finite number of $U_\alpha$ is
never $X$. Let $Z$ be $\{I\textrm{ and all nonempty finite subsets
of }I\}$. The topology (open sets) of $Z$ is generated by
$\{\textrm{All subset of
}Z\setminus\{I\}\}\cup\{\emptyset\}\cup(\bigcup_{K\textrm{ is a
finite subset of }I}\{J\subset Z|K\subset J \})$.  Let a closed
subset of $Z\times X$ be $M=\{(x, \cap_{\alpha\in x}U^c_\alpha)\}$.
We see that the projection of $M$ is $Z-\{I\}$ which is not closed
but $M$ is closed.

\medskip\noindent
The other direction is obvious due to some version of the
tube lemma. FIXME: add the tube lemma.
\end{proof}

\begin{remark}
\label{remark-lemma-literature}
Lemma \ref{lemma-characterize-quasi-compact} is a combination of 
\cite[I, p. 75, Lemme 1]{Bourbaki} and
\cite[I, p. 76, Corrolaire 1]{Bourbaki}.
\end{remark}

\begin{theorem}
\label{theorem-characterize proper}
Let $f: X\to Y$ be a continuous map between
topological spaces. The following condition is equivalent.
\begin{enumerate}
\item The map $f$ is quasi-proper and closed.
\item The map $f$ is proper.
\item The map $f$ is universally closed.
\item The map $f$ is closed and $f^{-1}(y)$ is quasi-compact for any
$y\in Y$.
\end{enumerate}
\end{theorem}

\begin{proof}
(Sketch, see also the remark below.)
If the map $f$ satisfies (1), it automatically satisfies (4) because
any single point is quasi-compact.

\medskip\noindent
If the map $f$ satisfies (4), we claim it to be universally
closed due to the following reasons.  The image of $Z$ in the
projection $X\times_YZ\to Z$ is $\{z: g(z)\in f(X)\}$.  Because
$f(X)$ is closed, we have $\{z: g(z)\in f(X)\}$ as a closed subspace
in $Z$.  For a closed subset $P\subset X\times_YZ$, let $z\in Z$ be a
point outside the image of $P$ in the projection.  If $z$ is outside
the image of $X\times_YZ\to Z$, then it is outside $\{z: g(z)\in
f(X)\}$ which is closed.  If $z$ is in the image of $X\times_YZ\to
Z$ then $(f')^{-1}\{z\} = f^{-1}\{g(z)\}\times \{z\}$
is quasi-compact.  Because $P$ is a closed
subset of $X\times_YZ$, we have a closed $P'$ of $X\times Z$ such
that $P=P'\cap X\times_YZ$. Since $f^{-1}\{g(z)\}\times \{z\}$
is a subset of
$P^c = P'^c\cup (X\times_YZ)^c$ and we see that
$f^{-1}\{g(z)\}\times \{z\}$ is
outside $(X\times_YZ)^c$.  Hence $f^{-1}\{g(z)\}\times \{z\}$ is
contained in $P'^c$.
Applying the tube lemma (FIXME), we have $U\times V$ containing
$f^{-1}\{g(z)\}\times \{z\}$ where $U$ and $V$ are open sets in $X$ and $Z$
respectively and $U\times V$ has no intersection with $P'$. Hence
$z$ is contained in $V$ and $V$ has no intersection with the image
of $P$. As a result, the map $f$ is universally closed.

\medskip\noindent
If the map $f$ satisfies (3), we claim that it satisfies (4) due to
the following reasons.  For any $y\in Y$ and for any topological
space $Z$, we define $f:Z\to Y$ by sending all to $y$.  Then,
$Z\times_YX$ is $Z\times f^{-1}(y)$.  Because the projection
$Z\times f^{-1}(y)\to Z$ is always closed, $f^{-1}(y)$ is
quasi-compact according to the previous lemma.  We still need to
prove the map is closed.  Let $Z$ be $Y$ and the map from $Z$ to $Y$
be identity.  Hence $Z\times_YX$ is the graph of $f$ and $X\to
Z\times_YX$ is closed.  Because $Z\times_YX\to Y$ and $X\to
Z\times_YX$ are also closed, the composition $X\to Y$ is then
closed.  Consequently,  the map $f$ satisfies (4).

\medskip\noindent
If the map $f$ satisfies (4), we claim it to be proper.
Let $P$ be a closed subset of $X\times Z$ and let $(y,z)\in Y\times
Z$ be a point outside the image of $P$ in $Y\times Z$.  The preimage
of $(y,z)$ in $X\times Z$ is $f^{-1}(y)\times {z}$ which is
quasi-compact and outside $P$.  Due to the tube lemma (FIXME), we have
$U\times V\supset f^{-1}(y)\times {z}$ where $U$ and $V$ are open
sets in $X$ and $Z$ respectively and $U\times V$ has no intersection
with $P$. Using the assumption that the map $f$ is closed, we have
$(y,z)\in f(U^c)^c\times V$, the later set is an open subspace which
has no intersection with the image of $P$.

\medskip\noindent
If the map $f$ satisfies (2), we claim that it satisfies (1) for the
following reasons.  Firstly, that map must be closed (let $Z$ be one
point).  Secondly, for any quasi-compact subset $K\subset Y$, the
map $f^{-1}(K)\times Z\to K\times Z$ is closed due to that $X\times
Z\to Y\times Z$ is closed. (we need use this tautology
$f(f^{-1}(U)\cap V)=U\cap f(V)$.) Because $K$ is compact, $K\times
Z\to Z$ must be closed due to the previous lemma.  Hence the
composition of $f^{-1}(K)\times Z\to K\times Z$ and $K\times Z\to Z$
is always closed and therefore $f^{-1}(K)$ must be quasi-compact due
to the previous lemma.
\end{proof}

\begin{remark}
\label{remark-proof-literature}
The proof of this theorem is long. Here are some references
to the literature. In \cite[I, p. 75, Theorem 1]{Bourbaki} you can find:
(2) $\Leftrightarrow$ (4).
In \cite[I, p. 77, Proposition 6]{Bourbaki} you can find:
(2) $\Rightarrow$ (1).
Of course, trivially we have (1) $\Rightarrow$ (4).
Thus (1), (2) and (4) are equivalent.
Fan Zhou claimed and proved that (3) and (4) are equivalent.
FIXME: scrutinize his proof more closely and fix it up.
\end{remark}

















\section{Jacobson spaces}
\label{section-space-jacobson}

\begin{definition}
\label{definition-space-jacobson}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
We say that $X$ is {\it Jacobson} if every
closed subset $Z \subset X$ is the closure
of $Z \cap X_0$.
\end{definition}

\noindent
Let $X$ be a Jacobson space and let $X_0$ be the set
of closed points of $X$ with the induced topology.
Clearly, the definition implies that the morphism
$X_0 \to X$ induces a bijection between the closed
subsets of $X_0$ and the closed subsets of $X$.
Thus many properties of $X$ are inherted by $X_0$.
For example, the Krull dimensions of $X$ and $X_0$
are the same.

\begin{lemma}
\label{lemma-jacobson-check-irreducible-closed}
Let $X$ be a topological space. Let $X_0$ be the set
of closed points of $X$.
Suppose that for every irreducible closed subset $Z \subset X$
the intersection $X_0 \cap Z$ is dense in $Z$.
Then $X$ is Jacobson.
\end{lemma}

\begin{proof}
Let $Z \subset X$ be closed. According to Lemma \ref{lemma-irreducible}
we have $Z = \bigcup Z_i$ with $Z_i$ irreducible and closed.
Thus is $X_0 \cap Z_i$ is dense in each $Z_i$, then $X_0 \cap Z$
is dense in $Z$.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Then $X$ is Jacobson if and only if each $U_i$ is Jacobson.
Moreover, in this case $X_0 = \bigcup U_{i,0}$.
\end{lemma}

\begin{proof}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
Let $U_{i, 0}$ be the set of closed points of
$U_i$. Then $X_0 \cap U_i \subset U_{i, 0}$
but equality may not hold in general.

\medskip\noindent
First, assume that each $U_i$ is Jacobson.
We claim that in this case $X_0 \cap U_i = U_{i, 0}$.
Namely, suppose that $x \in U_{i,0}$, i.e., $x$ is closed in
$U_i$. Let $\overline{\{x\}}$ be the closure
in $X$. Consider $\overline{\{x\}} \cap U_j$.
If $x \not \in U_j$, then $\overline{\{x\}} \cap U_j = \emptyset$.
If $x \in U_j$, then $U_i \cap U_j \subset U_j$
is an open subset of $U_j$ containing $x$.
Let $T' = U_j \setminus U_i \cap U_j$ and
$T = \{x\} \coprod T'$. Then $T$, $T'$
are closed subsets of $U_j$ and $T$ contains
$x$. As $U_j$ is Jacobson we see that the closed points of 
$U_j$ are dense in $T$. Because $T = \{x\} \coprod T'$
this can only be the case if $x$ is closed in $U_j$.
Hence $\overline{\{x\}} \cap U_j = \{x\}$. We conlude
that $\overline{\{x\}} = \{ x \}$ as desired.

\medskip\noindent
Let $Z \subset X$ be a closed subset (still
assuming each $U_i$ is Jacobson).
Since now we know that $X_0 \cap Z  \cap U_i
= U_{i, 0} \cap Z$ are dense in $Z \cap U_i$
it follows immediately that $X_0 \cap Z$ is
dense in $Z$.

\medskip\noindent
Conversely, assume that $X$ is Jacobson.
Let $Z \subset U_i$ be closed. Then
$X_0 \cap \overline{Z}$ is dense in $\overline{Z}$.
Hence also $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. As $X_0 \cap U_i
\subset U_{i,0}$ we see that
$U_{i,0} \cap Z$ is dense in $Z$.
Thus $U_i$ is Jacobson as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-inherited}
Let $X$ be Jacobson. The following types of subsets $T \subset X$
are Jacobson:
\begin{enumerate}
\item Open subspaces.
\item Closed subspaces.
\item Locally closed subspaces.
\item Finite unions of locally closed subspaces.
\item Constructible sets.
\item Any subset $T \subset X$ which locally on $X$
is a finite union of locally closed subsets.
\end{enumerate}
In each of these cases closed points of $T$ are
closed in $X$.
\end{lemma}

\begin{proof}
Let $X_0$ be the set of closed points of $X$. For any subset
$T \subset X$ we let $(*)$ denote the property:
\begin{list}{$(*)$}{}
\item For every closed subset $Z \subset T$ the set $Z\cap X_0$
is dense in $Z$.
\end{list}
Note that always $X_0 \cap T \subset T_0$. Hence property $(*)$
implies that $T$ is Jacobson. In addition it clearly implies
that every closed point of $T$ is closed in $X$.

\medskip\noindent
Let $U \subset X$ be an open subset.
Suppose $Z \subset U$ is closed. Then $X_0 \cap \overline{Z}$ is
dense in $\overline{Z}$. Hence $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. Thus $(*)$ holds.

\medskip\noindent
Let $Z \subset X$ be a closed subset.
Since closed subsets of $Z$ are the same as closed subsets of
$X$ contained in $Z$ property $(*)$ is immediate.

\medskip\noindent
Let $T \subset X$ be locally closed. Write $T = U \cap Z$
for some open $U \cap X$ and some closed $Z \subset X$.
Note that closed subsets of $T$ are the same thing as
closed subsets of $U$ which happen to be contained in $Z$.
Hence $(*)$ holds for $T$ because we proved it for $U$ above.

\medskip\noindent
Suppose $T_i \subset X$, $i=1,\ldots,n$ are locally closed subsets. Let
$T = T_1 \cup \ldots \cup T_n$. Suppose $Z \subset T$ is closed.
Then $Z_i = Z\cap T_i$ is closed in $T_i$. By $(*)$ for $T_i$ we see that
$Z_i \cap X_0$ is dense in $Z_i$. Clearly this implies that
$X_0 \cap Z$ is dense in $Z$, and property $(*)$ holds for
$T$.

\medskip\noindent
The case of constructible subsets is subsumed in the case
of finite unions of locally closed subsets, see Definition
\ref{definition-constructible}.

\medskip\noindent
The condition of the last assertion means that there exists
an open covering $X = \bigcup U_i$ such that each $T \cap U_i$
is a finite union of locally closed subsets of $U_i$. We conclude
that $T$ is Jacobson by Lemma \ref{lemma-jacobson-local} and the
case of a finite union of locally closed subsets dealt with above.
It is formal to deduce $(*)$ for $T$ from $(*)$ for all the inclusions
$T \cap U_i \subset U_i$ and the assertions $X_0 = \bigcup U_{i,0}$
and $T_0 = \bigcup (T\cap U_i)_0$ from Lemma \ref{lemma-jacobson-local}.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-constructible}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{constructible subsets of } X\}
\leftrightarrow
\{\text{constructible subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subset of retrocompact open subsets, as well as complements
of these.
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-locally-closed}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{finite unions loc.\ closed subsets of } X\}
\leftrightarrow
\{\text{finite unions loc.\ closed subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subsets of locally closed, of open and of closed subsets. 
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}


















\section{Specialization}
\label{section-specialization}

\begin{definition}
\label{definition-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item If $x, x' \in X$ then we say {\it $x$ is a specialization of $x'$},
of {\it $x'$ is a generalization of $x$} if $x \in \overline{\{x'\}}$.
Notation: $x' \leadsto x$.
\item A subset $T \subset X$ is {\it stable under specialization}
if for all $x' \in T$ and every specialization $x' \leadsto x$ we have
$x \in T$.
\item A subset $T \subset X$ is {\it stable under generalization}
if for all $x \in T$ and every generalization $x'$ of $x$ we have
$x' \in T$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-open-closed-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item Any closed subset of $X$ is stable under specialization.
\item Any open subset of $X$ is stable under generalization.
\item A subset $T \subset X$ is stable under specialization
if and only if
the complement $T^c$ is stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-lift-specializations}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item We say that {\it specializations lift along $f$}
if given $y' \leadsto y$ in $Y$ and any $x'\in X$ with $f(x') = y'$
there exists a specialization $x' \leadsto x$ of $x'$ in $X$ such
that $f(x) = y$.
\item We say that {\it generalizations lift along $f$}
if given $y' \leadsto y$ in $Y$ and any $x\in X$ with $f(x) = y$
there exists a generalization $x' \leadsto x$ of $x$ in $X$ such
that $f(x') = y'$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-lift-specialization-composition}
Suppose $f : X \to Y$ and $g : Y \to Z$ are continuous maps
of topological spaces. If specializations lift along both $f$ and $g$ 
then specializations lift along $g \circ f$. Similarly for
``generalizations lift along''.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-lift-specializations-images}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If specializations lift along $f$, and if $T \subset X$
is stable under specialization, then $f(T) \subset Y$ is
stable under specialization.
\item If generalizations lift along $f$, and if $T \subset X$
is stable under generalization, then $f(T) \subset Y$ is
stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-open-map-specialization}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $f$ is closed then specializations lift along $f$.
\item If $f$ is open then generalizations lift along $f$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}





\section{Miscellany}
\label{section-miscellany}

\noindent
Recall that a neighbourhood of a point need not be open.

\begin{definition}
\label{definition-locally-quasi-compact}
A topological space $X$ is called
{\it locally quasi-compact} if every
point has a fundamental system of quasi-compact
neighbourhoods.
\end{definition}
























\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
