\input{preamble}

% OK, start here.
%
\begin{document}

\title{Topology}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Basic topology will be explained in this document.
A reference is \cite{Engelking}.

\section{Basic notions}
\label{section-topology-basic}

\noindent
The following notions are considered basic and will not be defined,
and or proved. This does not mean they are all necessarily easy or
well known.

\begin{enumerate}
\item $X$ is a {\it topological space},
\label{item-space}
\item $x\in X$ is a {\it point},
\label{item-point}
\item $x\in X$ is a {\it closed point},
\label{item-closed-point}
\item $f : X_1 \to X_2$ is {\it continuous},
\label{item-continuous}
\item a {\it neighbourhood of $x \in X$} is any subset
$E \subset X$ which contains an open subset that
contains $x$,
\label{item-neighbourhood}
\item $\mathcal{U} : U = \bigcup_{i \in I} U_i$ is an
{\it open covering of} $U$ (note: we allow any $U_i$ to be empty
and we even allow, in case $U$ is empty, the empty set for $I$),
\label{item-covering}
\item the open covering $\mathcal{V}$ is a {\it refinement}
of the open covering $\mathcal{U}$ (if
$\mathcal{V} : V = \bigcup_{j \in J} V_j$ and
$\mathcal{U} : U = \bigcup_{i \in I} U_i$
this means each $V_j$ is completely contained in one of the $U_i$),
\label{item-refinement}
\item {\it $\{ E_i \}_{i \in I}$ is a fundamental system of neighbourhoods
of $x$ in $X$},
\label{item-fundamental-system}
\item a topological space $X$ is {\it Hausdorff} iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$,
\label{item-Hausdorff}
\item the {\it product} of two topological spaces,
\item the {\it fibre product $X \times_Y Z$} of a pair of continuous maps
$f : X \to Y$ and $g : Z \to Y$,
\item etc.
\end{enumerate}

\section{Bases}
\label{section-bases}

\begin{definition}
\label{definition-base}
Let $X$ be a topological space.
A collection of subsets $\mathcal{B}$ of $X$ is called
a {\it base for the topology on $X$} if the following
conditions hold:
\begin{enumerate}
\item Every element $B \in \mathcal{B}$ is open in $X$.
\item For every open $U \subset X$ and every $x \in U$,
there exists an element $B \in \mathcal{B}$ such that
$x \in B \subset U$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-refine-covering-basis}
Let $X$ be a topological space.
Let $\mathcal{B}$ be a basis for the topology on $X$.
Let $\mathcal{U} : U = \bigcup_i U_i$ be an open covering of
$U \subset X$. There exists an open covering $U = \bigcup V_j$
which is a refinement of $\mathcal{U}$ such that each
$V_j$ is an element of the basis $\mathcal{B}$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


\section{Connected components}
\label{section-connected-components}

\begin{definition}
\label{definition-connected-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it connected} if whenever $X = T_1 \coprod T_2$
with $T_i \subset X$ open and closed, then either $T_1 = \emptyset$ or
$T_2 = \emptyset$.
\item We say $T \subset X$ is a {\it connected component} of $X$ if
$T$ is a maximal connected subset of $X$.
\end{enumerate}
\end{definition}

\noindent
The empty space is connected.

\begin{lemma}
\label{lemma-image-connected-space}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $E \subset X$ is a connected subset, then $f(E) \subset Y$
is connected as well.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-connected-components}
Let $X$ be a topological space. If $T \subset X$ is connected,
then so is its closure. Each point of $X$ is contained
in a connected component. Connected components are always closed,
but not necessarily open.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the connected subset $T$.
Suppose $\overline{T} = T_1 \coprod T_2$ with $T_i \subset \overline{T}$
open and closed. Then $T = (T\cap T_1) \coprod (T \cap T_2)$. Hence
$T$ equals one of the two, say $T = T_1 \cap T$. Thus clearly
$\overline{T} \subset T_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of connected subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ordering on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is
connected. Namely, suppose that $T =  T_1 \coprod T_2$ is a disjoint
union of two open and closed subsets of $T$.
For each $\alpha \in A'$ we have either $T_\alpha \subset T_1$
or $T_\alpha \subset T_2$, by connectedness of $T_\alpha$.
Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset T_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset T_2$ for all $\alpha \in A'$. Hence $T = T_2$.

\medskip\noindent
To get an example
where connected components are not open, just take
an infinite product $\prod_{n \in \mathbf{N}} \{0, 1\}$
with the product topology. This is a totally disconnected
space so connected components are singletons, which are
not open.
\end{proof}

\begin{lemma}
\label{lemma-connected-fibres-quotient-topology-connected-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
\begin{enumerate}
\item all fibres of $f$ are nonempty and connected, and
\item a set $T \subset Y$ is closed if and only if $f^{-1}(T)$ is closed.
\end{enumerate}
Then $f$ induces a bijection between the sets of connected
components of $X$ and $Y$.
\end{lemma}

\begin{proof}
Let $T \subset Y$ be a connected component.
Note that $T$ is closed, see Lemma \ref{lemma-connected-components}.
The lemma follows if we show that $p^{-1}(T)$ is connected
because any connected subset of $X$ maps into a connected component
of $Y$ by Lemma \ref{lemma-image-connected-space}.
Suppose that $p^{-1}(T) = Z_1 \coprod Z_2$
with $Z_1$, $Z_2$ closed. For any $t \in T$ we see that
$p^{-1}(\{t\}) = Z_1 \cap p^{-1}(\{t\}) \coprod Z_2 \cap p^{-1}(\{t\})$.
By (1) we see $p^{-1}(\{t\})$ is connected we conclude that
either $p^{-1}(\{t\}) \subset Z_1$ or $p^{-1}(\{t\}) \subset Z_2$.
In other words $T = T_1 \coprod T_2$ with $p^{-1}(T_i) = Z_i$.
By (2) we conclude that $T_i$ is closed in $Y$.
Hence either $T_1 = \emptyset$ or $T_2 = \emptyset$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-connected-fibres-connected-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
(a) $f$ is open,
(b) all fibres of $f$ are nonempty and connected.
Then $f$ induces a bijection between the sets of connected
components of $X$ and $Y$.
\end{lemma}

\begin{proof}
This is a special case of
Lemma \ref{lemma-connected-fibres-quotient-topology-connected-components}.
\end{proof}

\section{Irreducible components}
\label{section-irreducible-components}

\begin{definition}
\label{definition-irreducible-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it irreducible}, if $X$ is not empty, and whenever
$X = Z_1 \cup Z_2$ with $Z_i$ closed, we have $X = Z_1$ or $X = Z_2$.
\item We say $Z \subset X$ is an {\it irreducible component} of $X$
if $Z$ is a maximal irreducible subset of $X$.
\end{enumerate}
\end{definition}

\noindent
An irreducible space is obviously connected.

\begin{lemma}
\label{lemma-image-irreducible-space}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $E \subset X$ is an irreducible subset, then $f(E) \subset Y$
is irreducible as well.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-irreducible}
Let $X$ be a topological space. If $T \subset X$ is irreducible
so is its closure in $X$. Any irreducible component of $X$ is
closed. Every point of $X$ is contained in some irreducible component
of $X$.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the irreducible subset $T$.
If $\overline{T} = Z_1 \cup Z_2$ with $Z_i \subset \overline{T}$
closed, then $T = (T\cap Z_1) \cup (T \cap Z_2)$ and hence
$T$ equals one of the two, say $T = Z_1 \cap T$. Thus clearly
$\overline{T} \subset Z_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of irreducible subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ording on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is
irreducible. Namely, suppose that $T =  Z_1 \cup Z_2$ is a union
of two closed subsets of $T$. For each $\alpha \in A'$ we have
either $T_\alpha \subset Z_1$ or $T_\alpha \subset Z_2$, by irreducibility
of $T_\alpha$. Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset Z_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset Z_2$ for all $\alpha \in A'$. Hence $T = Z_2$.
\end{proof}

\noindent
A singleton is irreducible. Thus if $x \in X$ is a point
then the closure $\overline{\{x\}}$ is an irreducible closed
subset of $X$.

\begin{definition}
\label{definition-generic-point}
Let $X$ be a topological space.
\begin{enumerate}
\item Let $Z \subset X$ be an irreducible closed subset.
A {\it generic point} of $Z$ is a point $\xi \in Z$ such
that $Z = \overline{\{\xi\}}$.
\item The space $X$ is called {\it Kolmogorov}, if for every $x, x' \in X$,
$x \not = x'$ there exists a closed subset of $X$ which contains
exactly one of the two points.
\item The space $X$ is called {\it sober} if every
irreducible closed subset has a unique generic point.
\end{enumerate}
\end{definition}

\noindent
A space $X$ is Kolmogorov if for $x_1, x_2 \in X$ we have $x_1 = x_2$
if and only if $\overline{\{x_1\}} = \overline{\{x_2\}}$. Hence we see
that a sober topological space is Kolmogorov.

\begin{example}
\label{example-Hausdorff}
Recall that a topological space $X$ is Hausdorff iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$.
In this case $X$ is irreducible if and only if $X$ is
a singleton. Similarly, any subset of $X$ is irreducible
if and only if it is a singleton. Hence a Hausdorff space is
sober.
\end{example}

\begin{lemma}
\label{lemma-irreducible-on-top}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
(a) $Y$ is irreducible,
(b) $f$ is open, and
(c) there exists a dense collection of points $y \in Y$ such
that $f^{-1}(y)$ is irreducible.
Then $X$ is irreducible.
\end{lemma}

\begin{proof}
Suppose $Y = Z_1 \cup Z_2$ with $Z_i$ closed.
Consider the open sets $U_1 = Z_1 \setminus Z_2 = Y \setminus Z_2$ and
$U_2 = Z_2 \setminus Z_1 = Y \setminus Z_2$. To get a contradiction
assume that $U_1$ and $U_2$ are both nonempty. By (b) we see that $f(U_i)$
is open. By (a) we have $X$ irreducible and hence
$f(U_1) \cap f(U_2) \not = \emptyset$. By (c) there is a point $y$ which
corresponds to a point of this intersection such that the fibre
$X_y = f^{-1}(y)$ is irreducible. Then $X_y \cap U_1$ and
$X_y \cap U_2$ are nonempty disjoint open subsets of $X_y$ which is
a contradiction.
\end{proof}

\begin{lemma}
\label{lemma-irreducible-fibres-irreducible-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that (a) $f$ is open, and
(b) for every $y \in Y$ the fibre $f^{-1}(y)$ is irreducible.
Then $f$ induces a bijection between irreducible components.
\end{lemma}

\begin{proof}
We point out that assumption (b) implies that $f$ is surjective (see
Definition \ref{definition-irreducible-components}).
Let $T \subset Y$ be an irreducible component.
Note that $T$ is closed, see Lemma \ref{lemma-irreducible}.
The lemma follows if we show that $p^{-1}(T)$ is irreducible
because any irreducible subset of $X$ maps into an irreducible component
of $Y$ by Lemma \ref{lemma-image-irreducible-space}.
Note that $p^{-1}(T) \to T$ satisfies the assumptions
of Lemma \ref{lemma-irreducible-on-top}. Hence we win.
\end{proof}


\section{Noetherian topological spaces}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
A topological space is called {\it Noetherian}
if the descending chain condition holds for
closed subsets of $X$. A topological space is called
{\it locally Noetherian} if every point has a neighbourhood
which is Noetherian.
\end{definition}

\begin{lemma}
\label{lemma-Noetherian}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item Any subset of $X$ with the induced topology is Noetherian.
\item The space $X$ has finitely many irreducible components.
\item Each irreducible component of $X$ contains a nonempty open of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $T \subset X$ be a subset of $X$.
Let $T_1 \supset T_2 \supset \ldots$
be a descending chain of closed subsets of $T$.
Write $T_i =  T \cap Z_i$ with $Z_i \subset X$ closed.
Consider the descending chain of closed subsets
$Z_1 \supset Z_1\cap Z_2 \supset Z_1 \cap Z_2 \cap Z_3 \ldots$
This stabilizes by assumption and hence the original sequence
of $T_i$ stabilizes. Thus $T$ is Noetherian.

\medskip\noindent
Let $A$ be the set of closed subsets of $X$ which do not
have finitely many irreducible components. Assume that
$A$ is not empty to arrive at a contradiction.
The set $A$ is partially ordered by inclusion: $\alpha \leq \alpha'
\Leftrightarrow Z_{\alpha} \subset Z_{\alpha'}$.
By the descending chain condition we may find a
smallest element of $A$, say $Z$. As $Z$ is not a finite
union of irreducible components, it is not irreducible.
Hence we can write $Z = Z' \cup Z''$ and both are strictly smaller
closed subsets. By construction $Z' = \bigcup Z'_i$ and
$Z'' = \bigcup Z''_j$ are finite unions of their irreducible
components. Hence $Z = \bigcup Z'_i \cup \bigcup Z''_j$ is
a finite union of irreducible closed subsets.
After removing redundant members of this expression,
this will be the decomposition of $Z$ into its irreducible
components, a contradiction.

\medskip\noindent
Let $Z \subset X$ be an irreducible component of $X$.
Let $Z_1, \ldots, Z_n$ be the other irreducible components
of $X$. Consider $U = Z \setminus (Z_1\cup\ldots\cup Z_n)$.
This is not empty since otherwise the irreducible space
$Z$ would be contained in one of the other $Z_i$.
Because $X = Z \cup Z_1 \cup \ldots Z_n$ (see Lemma \ref{lemma-irreducible}),
also $U = X \setminus (Z_1\cup\ldots\cup Z_n)$
and hence open in $X$. Thus $Z$ contains a nonempty
open of $X$.
\end{proof}

\begin{lemma}
\label{lemma-finite-union-Noetherian}
Let $X$ be a topological space.
Let $X_i \subset X$, $i = 1, \ldots, n$ be a finite collection of subsets.
If each $X_i$ is Noetherian (with the induced topology), then
$X$ is Noetherian.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{example}
\label{example-locally-Noetherian-no-closed-point}
Any Noetherian topological space has a closed point (combine
Lemmas \ref{lemma-quasi-compact-closed-point} and
\ref{lemma-constructible-Noetherian-space}).
Let $X = \{1, 2, 3, \ldots \}$. Define a topology on $X$
with opens $\emptyset$, $\{1, 2, \ldots, n\}$, $n \geq 1$
and $X$. Thus $X$ is a locally Noetherian topological space,
without any closed points. This space cannot be the underlying
topological space of a locally Noetherian scheme, see
Properties, Lemma \ref{properties-lemma-locally-Noetherian-closed-point}.
\end{example}




\section{Krull dimension}
\label{section-krull-dimension}

\begin{definition}
\label{definition-Krull}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it chain of irreducible closed subsets} of $X$
is a sequence $Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$
with $Z_i$ closed irreducible and $Z_i \not= Z_{i + 1}$ for
$i = 0, \ldots, n - 1$.
\item The {\it length} of a chain
$Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$
of irreducible closed subsets of $X$ is the
integer $n$.
\item The {\it dimension} or more precisely the
{\it Krull dimension} $\dim(X)$ of $X$ is
the element of $\{\infty, 0, 1, 2, 3, \ldots\}$ defined by the formula:
$$
\dim(X) =
\sup \{\text{lengths of chains of irreducible closed subsets}\}
$$
\item Let $x \in X$.
The {\it Krull dimension of $X$ at $x$} is defined as
$$
\dim_x(X) = \min \{\dim(U), x\in U\subset X\text{ open}\}
$$
the minimum of $\dim(U)$ where $U$ runs over the open
neighbourhoods of $x$ in $X$.
\end{enumerate}
\end{definition}

\begin{example}
\label{example-Krull-Rn}
The Krull dimension of the usual Euclidean space
$\mathbf{R}^n$ is $0$.
\end{example}

\begin{example}
\label{example-krull-2set}
Let $X = \{s, \eta\}$ with open sets given
by $\{\emptyset, \{\eta\}, \{s, \eta\}\}$.
In this case a maximal chain of irreducible
closed subsets is $\{s\} \subset \{s, \eta\}$.
Hence $\dim(X) = 1$. It is easy to generalize
this example to get a $(n + 1)$-element topological
space of Krull dimension $n$.
\end{example}

\begin{definition}
\label{definition-equidimensional}
Let $X$ be a topological space.
We say that $X$ is {\it equidimensional} if every irreducible
component of $X$ has the same dimension.
\end{definition}





\section{Codimension and catenary spaces}
\label{section-catenary-spaces}

\begin{definition}
\label{definition-catenary}
Let $X$ be a topological space. We say $X$ is {\it catenary} if
for every pair of irreducible closed subsets $T \subset T'$
there exist a maximal chain of irreducible closed subsets
$$
T = T_0 \subset T_1 \subset \ldots \subset T_e = T'
$$
and every such chain has the same length.
\end{definition}

\begin{lemma}
\label{lemma-catenary}
Let $X$ be a topological space.
The following are equivalent:
\begin{enumerate}
\item $X$ is catenary,
\item $X$ has an open covering by catenary spaces.
\end{enumerate}
Moreover, in this case any locally closed subspace of $X$ is catenary.
\end{lemma}

\begin{proof}
Suppose that $X$ is catenary and that $U \subset X$ is an open
subset. The rule $T \mapsto \overline{T}$ defines a bijective
inclusion preserving map between the closed irreducible subsets
of $U$ and the closed irreducible subsets of $X$ which meet $U$.
Using this the lemma easily follows. Details omitted.
\end{proof}

\begin{definition}
\label{definition-codimension}
Let $X$ be a topological space.
Let $Y \subset X$ be an irreducible closed subset.
The {\it codimension} of $Y$ in $X$ is the supremum of
the lengths $e$ of chains
$$
Y = Y_0 \subset Y_1 \subset \ldots \subset Y_e \subset X
$$
of irreducible closed subsets in $X$ starting with $Y$.
We will denote this $\text{codim}(Y, X)$.
\end{definition}

\begin{lemma}
\label{lemma-codimension-at-generic-point}
Let $X$ be a topological space.
Let $Y \subset X$ be an irreducible closed subset.
Let $U \subset X$ be an open subset such that $Y \cap U$ is nonempty.
Then
$$
\text{codim}(Y, X) = \text{codim}(Y \cap U, U)
$$
\end{lemma}

\begin{proof}
Follows from the observation made in the proof of
Lemma \ref{lemma-catenary}.
\end{proof}

\begin{example}
\label{example-Noetherian-infinite-codimension}
Let $X = [0, 1]$ be the unit interval with the following
topology: The sets $[0, 1]$, $(1 - 1/n, 1]$ for $n \in \mathbf{N}$, and
$\emptyset$ are open. So the closed sets are
$\emptyset$, $\{0\}$, $[0, 1 - 1/n]$ for $n > 1$ and $[0, 1]$.
This is clearly a Noetherian topological space.
But the irreducible closed subset $Y = \{0\}$ has infinite
codimension $\text{codim}(Y, X) = \infty$.
To see this we just remark that all the closed sets
$[0, 1 - 1/n]$ are irreducible.
\end{example}

\begin{lemma}
\label{lemma-catenary-in-codimension}
Let $X$ be a topological space. The following are equivalent:
\begin{enumerate}
\item $X$ is catenary, and
\item for pair of irreducible closed subsets $Y \subset Y'$ we have
$\text{codim}(Y, Y') < \infty$ and for every triple
$Y \subset Y' \subset Y''$ of irreducible closed subsets we have
$$
\text{codim}(Y, Y'') = \text{codim}(Y, Y') + \text{codim}(Y', Y'').
$$
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}







\section{Quasi-compact maps and constructible sets}
\label{section-quasi-compact}

\noindent
The phrase ``compact'' will be reserved
for Hausdorff topological spaces. And many spaces occuring
in algebraic geometry are not Hausdorff.

\begin{definition}
\label{definition-quasi-compact}
Quasi-compactness.
\begin{enumerate}
\item We say that a topological space $X$ is {\it quasi-compact}
if every open covering $\mathcal{U}$ of $X$ has a finite
refinement.
\item We say that a continuous map $f : X \to Y$ is {\it quasi-compact}
if the inverse image $f^{-1}(V)$ of every quasi-compact open $V \subset Y$
is quasi-compact.
\item We say a subset $Z \subset X$ is {\it retrocompact}
if the inclusion map $Z \to X$ is quasi-compact.
\end{enumerate}
\end{definition}

\noindent
In many texts on topology a space is called {\it compact} if it
is quasi-compact and Hausdorff; and in other texts the Hausdorff
condition is omitted. To avoid confusion in algebraic geometry
we use the term quasi-compact. Note that the notion of quasi-compactness
of a map is very different from the notion of a ``proper map''
in topology, since there one requires the inverse image of any
(quasi-)compact subset of the target to be (quasi-)compact,
whereas in the definition above we only consider quasi-compact
{\it open} sets.

\begin{lemma}
\label{lemma-composition-quasi-compact}
A composition of quasi-compact maps is quasi-compact.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-in-quasi-compact}
A closed subset of a quasi-compact topological space
is quasi-compact.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
The following is really a reformulation of the
quasi-compact property.

\begin{lemma}
\label{lemma-intersection-closed-in-quasi-compact}
Let $X$ be a quasi-compact topological space.
If $Z_\alpha$ is a collection of closed subsets
such that the intersection of each finite subcollection
is nonempty, then $\bigcap Z_\alpha$ is nonempty.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-closed-point}
Let $X$ be a topological space. Assume that
\begin{enumerate}
\item $X$ is nonempty,
\item $X$ is quasi-compact, and
\item $X$ is Kolmogorov.
\end{enumerate}
Then $X$ has a closed point.
\end{lemma}

\begin{proof}
Consider the set
$$
\mathcal{T} =
\{Z \subset X \mid Z = \overline{\{x\}} \text{ for some }x \in X\}
$$
of all closures of singletons in $X$. It is nonempty since $X$ is
nonempty. Make $\mathcal{T}$ into a
partially ordered set using the relation of inclusion. 
Suppose $Z_\alpha$, $\alpha \in A$ is a totally ordered subset of $\mathcal{T}$.
By Lemma \ref{lemma-intersection-closed-in-quasi-compact} we see
thay $\bigcap_{\alpha \in A} Z_\alpha \not = \emptyset$. Hence there exists
some $x \in \bigcap_{\alpha \in A} Z_\alpha$ and we see that
$Z = \overline{\{x\}}\in \mathcal{T}$ is a lower bound for
the family. By Zorn's lemma there exists a minimal element
$Z \in \mathcal{T}$. As $X$ is Kolmogorov we conclude that
$Z = \{x\}$ for some $x$ and $x \in X$ is a closed point.
\end{proof}

\begin{lemma}
\label{lemma-connected-component-intersection}
Let $X$ be a topological space.
Let $x \in X$.
Assume
\begin{enumerate}
\item $X$ is quasi-compact,
\item $X$ has a basis for the topology consisting of quasi-compact opens, and
\item the intersection of two quasi-compact opens is quasi-compact.
\end{enumerate}
The connected component of $X$ containing
$x$ is the intersection of all open and closed subsets
of $X$ containing $x$.
\end{lemma}

\begin{proof}
Let $T$ be the connected component containing $x$.
Let $S = \bigcap_{\alpha \in A} Z_\alpha$ be the intersection of all
open and closed subsets $Z_\alpha$ of $X$ containing $x$.
Note that $S$ is closed in $X$.
Note that any finite intersection of $Z_\alpha$'s is a $Z_\alpha$.
Because $T$ is connected and $x \in T$ we have $T \subset S$.
It suffices to show that $S$ is connected.
If not, then there exists a disjoint union decomposition
$S = B \coprod C$ with $B$ and $C$ open and closed in $S$.
In particular, $B$ and $C$ are closed in $X$, and so quasi-compact by
Lemma \ref{lemma-closed-in-quasi-compact} and assumption (1).
By assumption (2) there exist quasi-compact opens
$U, V \subset X$ with $B = S \cap U$ and $C = S \cap V$ (details omitted).
Then $U \cap V \cap S = \emptyset$.
Hence $\bigcap_\alpha U \cap V \cap Z_\alpha = \emptyset$.
By assumption (3) the intersection $U \cap V$ is quasi-compact.
By Lemma \ref{lemma-intersection-closed-in-quasi-compact}
for some $\alpha \in A$ we have $U \cap V \cap Z_\alpha = \emptyset$.
Hence $Z_\alpha = U \cap Z_\alpha \coprod V \cap Z_\alpha$
is a decomposition into two open pieces,
hence $U \cap Z_\alpha$ and $V \cap Z_\alpha$ are open and closed in $X$.
Thus, if $x \in B$ say, then we see that $S \subset U \cap Z_\alpha$
and we conclude that $C = \emptyset$.
\end{proof}


\begin{definition}
\label{definition-constructible}
A subset $E \subset X$ of the topological space $X$ is called
{\it constructible} if it is a finite union of subsets
of the form $U \cap V^c$ where $U, V \subset X$ are open and
retrocompact.
\end{definition}

\begin{lemma}
\label{lemma-constructible}
The collection of constructible sets is closed under
finite intersections, finite unions and complements.
\end{lemma}

\begin{proof}
Note that if $U_1$, $U_2$ are open and retrocompact in $X$
then so is $U_1 \cup U_2$ because the union of two quasi-compact
subsets of $X$ is quasi-compact. It is also true that
$U_1 \cap U_2$ is retrocompact. Namely, suppose $U \subset X$
is quasi-compact open, then $U_2 \cap U$ is quasi-compact because
$U_2$ is retrocompact in $X$, and then we conclude
$U_1 \cap (U_2 \cap U)$ is quasi-compact because $U_1$ is
retrocompact in $X$. From this it is formal to show that
the complement of a constructible set is constructible,
that finite unions of constructibles are constructible, and
that finite intersections of constructibles are constructible.
\end{proof}

\begin{lemma}
\label{lemma-inverse-images-constructibles}
Let $f : X \to Y$ be a continuous map of topological spaces.
If the inverse image of every retrocompact open subset of $Y$
is retrocompact in $X$, then inverse images of constructible
sets are constructible.
\end{lemma}

\begin{proof}
This is true because $f^{-1}(U \cap V^c) = f^{-1}(U) \cap f^{-1}(V)^c$,
combined with the definition of constructible sets.
\end{proof}

\begin{lemma}
\label{lemma-open-immersion-constructible-inverse-image}
Let $U \subset X$ be open. For a constructible set
$E \subset X$ the intersection $E \cap U$ is constructible
in $U$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap U$ is retrocompact in $U$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset U$ be open and quasi-compact. Then $W$
is open and quasi-compact in $X$. Hence $V \cap W = V \cap U \cap W$
is quasi-compact as $V$ is retrocompact in $X$.
\end{proof}

\begin{lemma}
\label{lemma-generic-point-in-constructible}
Let $X$ be a topological space. Suppose that
$Z \subset X$ is irreducible. Let $E \subset X$
be a finite union of locally closed subsets (e.g.\ $E$
is constructible). The following are equivalent
\begin{enumerate}
\item The intersection $E \cap Z$ contains an open
dense subset of $Z$.
\item The intersection $E \cap Z$ is dense in $Z$.
\end{enumerate}
If $Z$ has a generic point $\xi$, then this is
also equivalent to
\begin{enumerate}
\item[(3)] We have $\xi \in E$.
\end{enumerate}
\end{lemma}

\begin{proof}
Write $E = \bigcup U_i \cap Z_i$ as the finite union of
intersections of open sets $U_i$ and closed sets $Z_i$.
Suppose that $E \cap Z$ is dense in $Z$. Note that
the closure of $E \cap Z$ is the union of the closures
of the intersections $U_i \cap Z_i \cap Z$. Hence we
see that $U_i \cap Z_i \cap Z$ is dense in $Z$ for some $i = i_0$.
As $Z$ is closed we have either $Z \cap Z_i = Z$ or
$Z \cap Z_i$ is not dense, hence we conclude $Z \subset Z_{i_0}$.
Then $U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. Because $Z$ is irreducible, it is open dense.
The converse is obvious.

\medskip\noindent
Suppose that $\xi \in Z$ is a generic point. Of course if
(1) $\Leftrightarrow$ (2) holds, then $\xi \in E$. Conversely,
if $\xi \in E$, then $\xi \in U_i \cap Z_i$ for some $i = i_0$.
Clearly this implies $Z \subset Z_{i_0}$ and hence
$U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. We conclude as before.
\end{proof}

\begin{lemma}
\label{lemma-constructible-Noetherian-space}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item The space $X$ is quasi-compact.
\item Any subset of $X$ is retrocompact.
\item A constructible set in $X$ is a finite union
of locally closed subsets of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Suppose $X = \bigcup U_i$ is an open covering of $X$ indexed
by the set $I$ which does not have a refinement by a finite
open covering. Choose $i_1, i_2, \ldots $ elements of $I$ inductively
in the following way: If $X \not = U_{i_1} \cup \ldots \cup U_{i_n}$
then choose $i_{n + 1}$ such that $U_{i_{n + 1}}$ is not contained
in $U_{i_1} \cup \ldots \cup U_{i_n}$. Thus we see that
$X \supset (X \setminus U_{i_1}) \supset
(X \setminus U_{i_1} \cup U_{i_2}) \supset \ldots$ is a strictly
decreasing infinite sequence of closed subsets. This contradicts
the fact that $X$ is Noetherian. This proves the first assertion.

\medskip\noindent
The second assertion is now clear since every subset of $X$ is
Noetherian by Lemma \ref{lemma-Noetherian}. And the third follows
from this immediately.
\end{proof}







\section{Characterizing proper maps}
\label{section-proper}

\noindent
We include a section discussing the notion of a proper map in usual
topology. It turns out that in topology, the notion of being proper
is the same as the notion of being universally closed, in the sense
that any base change is a closed morphism (not just taking products
with spaces). The reason for doing this is that in algebraic geometry
we use this notion of universal closedness as the basis for our
definition of properness.

\begin{lemma}
\label{lemma-tube}
(Tube lemma.)
Let $X$ and $Y$ be topological spaces.
Let $K \subset X$ and $L \subset Y$ be quasi-compact subsets.
Let $K \times L \subset W \subset X \times Y$ with $W$
open in $X \times Y$. Then there exists opens $A \subset U \subset X$
and $B \subset V \subset Y$ such that $U \times V \subset W$.
\end{lemma}

\begin{proof}
For every $a \in A$ and $b \in B$ there exist opens
$U_{(a, b)}$ of $X$ and $V_{(a, b)}$ of $Y$ such that
$(a, b) \in U_{(a, b)} \times V_{(a, b)} \subset W$.
Fix $b$ and we see there exist a finite number $a_1, \ldots, a_n$
such that $A \subset U_{(a_1, b)} \cup \ldots \cup U_{(a_n, b)}$.
Hence $A \times \{b\} \subset
(U_{(a_1, b)} \cup \ldots \cup U_{(a_n, b)}) \times
(V_{(a_1, b)} \cup \ldots \cup V_{(a_n, b)}) \subset W$.
Thus for every $b \in B$ there exists opens $U_b \subset X$ and
$V_b \subset Y$ such that $A \times \{b\} \subset U_b \times V_b \subset W$.
As above there exist a finite number $b_1, \ldots, b_m$ such
that $B \subset V_{b_1} \cup \ldots \cup V_{b_m}$.
Then we win because
$A \times B \subset
(U_{b_1} \cap \ldots \cap U_{b_m}) \times
(V_{b_1} \cup \ldots \cup V_{b_m})$.
\end{proof}

\noindent
The notation in the following definition may be slightly different
from what you are used to.

\begin{definition}
\label{definition-proper-map}
Let $f : X\to Y$ be a continuous map between topological spaces.
\begin{enumerate}
\item We say that the map $f$ is {\it closed}
iff the image of every closed subset is closed.
\item We say that the map $f$ is {\it proper}\footnote{This is the
terminology used in \cite{Bourbaki}. Usually this is what
is called ``universally closed'' in the literature. Thus our notion
of proper does not involve any separation conditions.} iff
the map $Z\times X\to Z\times Y$ is closed for any topological space
$Z$.
\item We say that the map $f$ is {\it quasi-proper} iff
the inverse image $f^{-1}(V)$ of every quasi-compact $V \subset
Y$ is quasi-compact.
\item We say that $f$ is {\it universally closed} iff
the map $f': Z \times_Y X \to Z$ is closed for any map $g: Z \to Y$.
\end{enumerate}
\end{definition}

\noindent
The following lemma is useful later.

\begin{lemma}
\label{lemma-characterize-quasi-compact}
A topological space $X$ is quasi-compact iff the
projection map $Z \times X \to Z$ is closed for
any topological space $Z$.
\end{lemma}

\begin{proof}
(See also remark below.)
If $X$ is not quasi-compact, there exists an open covering
$X = \bigcup_{i \in I} U_i$ such that no finite
number of $U_i$ cover $X$.
Let $Z$ be the subset of the power set $\mathcal{P}(I)$ of $I$
consisting of $I$ and all nonempty finite subsets of $I$.
Define a topology on $Z$ with as a basis for the topology
the following sets:
\begin{enumerate}
\item All subsets of $Z\setminus\{I\}$.
\item The empty set.
\item For every finite subset $K$ of $I$ the set
$U_K := \{J\subset I \mid J \in Z, \ K\subset J \})$.
\end{enumerate}
It is left to the reader to verify this is the basis for a topology.
Consider the subset of $Z\times X$ defined by the formula
$$
M = \{(J, x) \mid J \in Z, \ x \in \bigcap\nolimits_{i \in J} U_i^c)\}
$$
If $(J, x) \not \in M$, then $x \in U_i$ for some $i \in J$.
Hence $U_{\{i\}} \times U_i \subset Z \times X$ is an open
subset containing $(J, x)$ and not intersecting $M$. Hence
$M$ is closed. The projection of $M$ to $Z$ is $Z-\{I\}$
which is not closed. Hence $Z \times X \to Z$ is not closed.

\medskip\noindent
Assume $X$ is quasi-compact. Let $Z$ be a topological space.
Let $M \subset  Z \times X$ be closed. Let $z \in Z$ be a point
which is not in $\text{pr}_1(M)$. By the Tube Lemma \ref{lemma-tube}
there exists an open $U \subset Z$ such that $U \times X$ is
contained in the complement of $M$. Hence $\text{pr}_1(M)$ is closed.
\end{proof}

\begin{remark}
\label{remark-lemma-literature}
Lemma \ref{lemma-characterize-quasi-compact} is a combination of
\cite[I, p. 75, Lemme 1]{Bourbaki} and
\cite[I, p. 76, Corrolaire 1]{Bourbaki}.
\end{remark}

\begin{theorem}
\label{theorem-characterize-proper}
Let $f: X\to Y$ be a continuous map between
topological spaces. The following condition is equivalent.
\begin{enumerate}
\item The map $f$ is quasi-proper and closed.
\item The map $f$ is proper.
\item The map $f$ is universally closed.
\item The map $f$ is closed and $f^{-1}(y)$ is quasi-compact for any
$y\in Y$.
\end{enumerate}
\end{theorem}

\begin{proof}
(See also the remark below.)
If the map $f$ satisfies (1), it automatically satisfies (4) because
any single point is quasi-compact.

\medskip\noindent
Assume map $f$ satisfies (4).
We  will prove it is universally closed, i.e., (3) holds.
Let $g : Z \to Y$ be a continuous map of topological spaces
and consider the diagram
$$
\xymatrix{
Z \times_Y X \ar[r]_{g'} \ar[d]_{f'} & X \ar[d]^f \\
Z \ar[r]^g & Y
}
$$
During the proof we will use that $Z \times_Y X \to Z \times X$
is a homeomorphism onto its image, i.e., that we may identify
$Z \times_Y X$ with the corresponding subset of $Z \times X$ with
the induced topology.
The image of $f' : X \times_Y Z \to Z$ is
$\text{Im}(f') = \{z : g(z) \in f(X)\}$.
Because $f(X)$ is closed, we see that
$\text{Im}(f')$ is a closed subspace of $Z$.
Consider a closed subset $P \subset X \times_Y Z$.
Let $z \in Z$, $z \not \in f'(P)$.
If $z \not \in \text{Im}(f')$, then $Z \setminus \text{Im}(f')$
is an open neighbourhood which avoids $f'(P)$.
If $z$ is in $\text{Im}(f')$
then $(f')^{-1}\{z\} = \{z\} \times f^{-1}\{g(z)\}$
and $f^{-1}\{g(z)\}$
is quasi-compact by assumption. Because $P$ is a closed
subset of $Z \times_Y X$, we have a closed $P'$ of $Z\times X$ such
that $P = P' \cap Z \times_Y X$.
Since $(f')^{-1}\{z\}$ is a subset of $P^c = P'^c \cup (Z \times_Y X)^c$,
we see that $(f')^{-1}\{z\}$ is disjoint from $(Z \times_Y X)^c$.
Hence $(f')^{-1}\{z\}$ is contained in $P'^c$.
We may apply the Tube Lemma \ref{lemma-tube} to
$(f')^{-1}\{z\} = \{z\} \times f^{-1}\{g(z)\}
\subset (P')^c \subset Z \times X$.
This gives $U\times V$ containing
$(f')^{-1}\{z\}$ where $U$ and $V$ are open sets in $X$ and $Z$
respectively and $U\times V$ has empty intersection with $P'$. Hence
$z$ is contained in $V$ and $V$ has empty intersection with the image
of $P$. As a result, the map $f$ is universally closed.

\medskip\noindent
The implication (3) $\Rightarrow$ (2) is trivial.
Namely, given any topological space $Z$ consider the projection
morphism $g : Z \times Y \to Y$. Then it is easy to see
that $f'$ is the map $Z \times X \to Z \times Y$, in other
words that $(Z \times Y) \times_Y X = Z \times X$. (This identification
is a purely categorical property having nothing to do with
topological spaces per se.)

\medskip\noindent
Assume $f$ satisfies (2). We will prove it satisfies (1).
Note that $f$ is closed as $f$ can be identified with the map
$\{pt\} \times X \to \{pt\} \times Y$ which is assumed closed.
Choose any quasi-compact subset $K \subset Y$.
Let $Z$ be any topological space.
Because $Z\times X \to Z\times Y$ is closed
we see the map $Z \times f^{-1}(K) \to Z \times K$
is closed (if $T$ is closed in $Z \times f^{-1}(K)$, write
$T = Z \times f^{-1}(K) \cap T'$ for some closed
$T' \subset Z \times X$). Because $K$ is quasi-compact,
$K\times Z\to Z$ is closed by Lemma \ref{lemma-characterize-quasi-compact}.
Hence the composition $Z \times f^{-1}(K)\to Z \times K \to Z$
is closed and therefore $f^{-1}(K)$ must be quasi-compact
by Lemma \ref{lemma-characterize-quasi-compact} again.
\end{proof}

\begin{remark}
\label{remark-proof-literature}
Here are some references to the literature.
In \cite[I, p. 75, Theorem 1]{Bourbaki} you can find:
(2) $\Leftrightarrow$ (4).
In \cite[I, p. 77, Proposition 6]{Bourbaki} you can find:
(2) $\Rightarrow$ (1).
Of course, trivially we have (1) $\Rightarrow$ (4).
Thus (1), (2) and (4) are equivalent.
Fan Zhou claimed and proved that (3) and (4) are equivalent;
let me know if you find a reference in the literature.
\end{remark}

















\section{Jacobson spaces}
\label{section-space-jacobson}

\begin{definition}
\label{definition-space-jacobson}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
We say that $X$ is {\it Jacobson} if every
closed subset $Z \subset X$ is the closure
of $Z \cap X_0$.
\end{definition}

\noindent
Let $X$ be a Jacobson space and let $X_0$ be the set
of closed points of $X$ with the induced topology.
Clearly, the definition implies that the morphism
$X_0 \to X$ induces a bijection between the closed
subsets of $X_0$ and the closed subsets of $X$.
Thus many properties of $X$ are inherted by $X_0$.
For example, the Krull dimensions of $X$ and $X_0$
are the same.

\begin{lemma}
\label{lemma-jacobson-check-irreducible-closed}
Let $X$ be a topological space. Let $X_0$ be the set
of closed points of $X$.
Suppose that for every irreducible closed subset $Z \subset X$
the intersection $X_0 \cap Z$ is dense in $Z$.
Then $X$ is Jacobson.
\end{lemma}

\begin{proof}
Let $Z \subset X$ be closed. According to Lemma \ref{lemma-irreducible}
we have $Z = \bigcup Z_i$ with $Z_i$ irreducible and closed.
Thus is $X_0 \cap Z_i$ is dense in each $Z_i$, then $X_0 \cap Z$
is dense in $Z$.
\end{proof}

\begin{lemma}
\label{lemma-non-jacobson-Noetherian-characterize}
Let $X$ be a sober, Noetherian topological space.
If $X$ is not Jacobson, then there exists a non-closed point
$\xi \in X$ such that $\{\xi\}$ is locally closed.
\end{lemma}

\begin{proof}
Assume $X$ is sober, Noetherian and not Jacobson.
By Lemma \ref{lemma-jacobson-check-irreducible-closed} there exists
an irreducible closed subset $Z \subset X$ which is not the closure
of its closed points. Since $X$ is Noetherian we may assume $Z$ is
minimal with this property. Let $\xi \in Z$ be the unique generic point
(here we use $X$ is sober). Note that the closed points are dense in
$\overline{\{z\}}$ for any $z \in Z$, $z \not = \xi$ by minimality
of $Z$. Hence the closure of the set of closed points of $Z$ is
a closed subset containing all $z \in Z$, $z \not = \xi$. Hence
$\{\xi\}$ is locally closed as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Then $X$ is Jacobson if and only if each $U_i$ is Jacobson.
Moreover, in this case $X_0 = \bigcup U_{i, 0}$.
\end{lemma}

\begin{proof}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
Let $U_{i, 0}$ be the set of closed points of
$U_i$. Then $X_0 \cap U_i \subset U_{i, 0}$
but equality may not hold in general.

\medskip\noindent
First, assume that each $U_i$ is Jacobson.
We claim that in this case $X_0 \cap U_i = U_{i, 0}$.
Namely, suppose that $x \in U_{i, 0}$, i.e., $x$ is closed in
$U_i$. Let $\overline{\{x\}}$ be the closure
in $X$. Consider $\overline{\{x\}} \cap U_j$.
If $x \not \in U_j$, then $\overline{\{x\}} \cap U_j = \emptyset$.
If $x \in U_j$, then $U_i \cap U_j \subset U_j$
is an open subset of $U_j$ containing $x$.
Let $T' = U_j \setminus U_i \cap U_j$ and
$T = \{x\} \coprod T'$. Then $T$, $T'$
are closed subsets of $U_j$ and $T$ contains
$x$. As $U_j$ is Jacobson we see that the closed points of
$U_j$ are dense in $T$. Because $T = \{x\} \coprod T'$
this can only be the case if $x$ is closed in $U_j$.
Hence $\overline{\{x\}} \cap U_j = \{x\}$. We conlude
that $\overline{\{x\}} = \{ x \}$ as desired.

\medskip\noindent
Let $Z \subset X$ be a closed subset (still
assuming each $U_i$ is Jacobson).
Since now we know that $X_0 \cap Z  \cap U_i
= U_{i, 0} \cap Z$ are dense in $Z \cap U_i$
it follows immediately that $X_0 \cap Z$ is
dense in $Z$.

\medskip\noindent
Conversely, assume that $X$ is Jacobson.
Let $Z \subset U_i$ be closed. Then
$X_0 \cap \overline{Z}$ is dense in $\overline{Z}$.
Hence also $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. As $X_0 \cap U_i
\subset U_{i, 0}$ we see that
$U_{i, 0} \cap Z$ is dense in $Z$.
Thus $U_i$ is Jacobson as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-inherited}
Let $X$ be Jacobson. The following types of subsets $T \subset X$
are Jacobson:
\begin{enumerate}
\item Open subspaces.
\item Closed subspaces.
\item Locally closed subspaces.
\item Finite unions of locally closed subspaces.
\item Constructible sets.
\item Any subset $T \subset X$ which locally on $X$
is a finite union of locally closed subsets.
\end{enumerate}
In each of these cases closed points of $T$ are
closed in $X$.
\end{lemma}

\begin{proof}
Let $X_0$ be the set of closed points of $X$. For any subset
$T \subset X$ we let $(*)$ denote the property:
\begin{list}{$(*)$}{}
\item For every closed subset $Z \subset T$ the set $Z\cap X_0$
is dense in $Z$.
\end{list}
Note that always $X_0 \cap T \subset T_0$. Hence property $(*)$
implies that $T$ is Jacobson. In addition it clearly implies
that every closed point of $T$ is closed in $X$.

\medskip\noindent
Let $U \subset X$ be an open subset.
Suppose $Z \subset U$ is closed. Then $X_0 \cap \overline{Z}$ is
dense in $\overline{Z}$. Hence $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. Thus $(*)$ holds.

\medskip\noindent
Let $Z \subset X$ be a closed subset.
Since closed subsets of $Z$ are the same as closed subsets of
$X$ contained in $Z$ property $(*)$ is immediate.

\medskip\noindent
Let $T \subset X$ be locally closed. Write $T = U \cap Z$
for some open $U \cap X$ and some closed $Z \subset X$.
Note that closed subsets of $T$ are the same thing as
closed subsets of $U$ which happen to be contained in $Z$.
Hence $(*)$ holds for $T$ because we proved it for $U$ above.

\medskip\noindent
Suppose $T_i \subset X$, $i = 1, \ldots, n$ are locally closed subsets. Let
$T = T_1 \cup \ldots \cup T_n$. Suppose $Z \subset T$ is closed.
Then $Z_i = Z\cap T_i$ is closed in $T_i$. By $(*)$ for $T_i$ we see that
$Z_i \cap X_0$ is dense in $Z_i$. Clearly this implies that
$X_0 \cap Z$ is dense in $Z$, and property $(*)$ holds for
$T$.

\medskip\noindent
The case of constructible subsets is subsumed in the case
of finite unions of locally closed subsets, see Definition
\ref{definition-constructible}.

\medskip\noindent
The condition of the last assertion means that there exists
an open covering $X = \bigcup U_i$ such that each $T \cap U_i$
is a finite union of locally closed subsets of $U_i$. We conclude
that $T$ is Jacobson by Lemma \ref{lemma-jacobson-local} and the
case of a finite union of locally closed subsets dealt with above.
It is formal to deduce $(*)$ for $T$ from $(*)$ for all the inclusions
$T \cap U_i \subset U_i$ and the assertions $X_0 = \bigcup U_{i, 0}$
and $T_0 = \bigcup (T\cap U_i)_0$ from Lemma \ref{lemma-jacobson-local}.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-constructible}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{constructible subsets of } X\}
\leftrightarrow
\{\text{constructible subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subset of retrocompact open subsets, as well as complements
of these.
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-locally-closed}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{finite unions loc.\ closed subsets of } X\}
\leftrightarrow
\{\text{finite unions loc.\ closed subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subsets of locally closed, of open and of closed subsets.
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}


















\section{Specialization}
\label{section-specialization}

\begin{definition}
\label{definition-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item If $x, x' \in X$ then we say $x$ is a {\it specialization} of $x'$,
of $x'$ is a {\it generalization} of $x$ if $x \in \overline{\{x'\}}$.
Notation: $x' \leadsto x$.
\item A subset $T \subset X$ is {\it stable under specialization}
if for all $x' \in T$ and every specialization $x' \leadsto x$ we have
$x \in T$.
\item A subset $T \subset X$ is {\it stable under generalization}
if for all $x \in T$ and every generalization $x'$ of $x$ we have
$x' \in T$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-open-closed-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item Any closed subset of $X$ is stable under specialization.
\item Any open subset of $X$ is stable under generalization.
\item A subset $T \subset X$ is stable under specialization
if and only if
the complement $T^c$ is stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-lift-specializations}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item We say that {\it specializations lift along $f$}
if given $y' \leadsto y$ in $Y$ and any $x'\in X$ with $f(x') = y'$
there exists a specialization $x' \leadsto x$ of $x'$ in $X$ such
that $f(x) = y$.
\item We say that {\it generalizations lift along $f$}
if given $y' \leadsto y$ in $Y$ and any $x\in X$ with $f(x) = y$
there exists a generalization $x' \leadsto x$ of $x$ in $X$ such
that $f(x') = y'$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-lift-specialization-composition}
Suppose $f : X \to Y$ and $g : Y \to Z$ are continuous maps
of topological spaces. If specializations lift along both $f$ and $g$
then specializations lift along $g \circ f$. Similarly for
``generalizations lift along''.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-lift-specializations-images}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If specializations lift along $f$, and if $T \subset X$
is stable under specialization, then $f(T) \subset Y$ is
stable under specialization.
\item If generalizations lift along $f$, and if $T \subset X$
is stable under generalization, then $f(T) \subset Y$ is
stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-open-map-specialization}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $f$ is closed then specializations lift along $f$.
\item If $f$ is open, $X$ is a Noetherian topological space,
each irreducible closed subset of $X$ has a generic point,
and $Y$ is Kolmogorov then generalizations lift along $f$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume $f$ is closed. Let $y' \leadsto y$ in $Y$ and any $x'\in X$ with
$f(x') = y'$ be given. Consider the closed subset $T = \overline{\{y'\}}$
of $X$. Then $f(T) \subset Y$ is a closed subset, and $y' \in f(T)$.
Hence also $y \in f(T)$. Hence $y = f(x)$ with $x \in T$, i.e.,
$x' \leadsto x$.

\medskip\noindent
Assume $f$ is open. Let $y' \leadsto y$ in $Y$ and any $x \in X$ with
$f(x) = y$ be given. Consider $T = f^{-1}(\{y'\}) \subset X$.
Take an open neighbourhood $x \in U \subset X$ of $x$.
Then $f(U) \subset Y$ is open and $y \in f(U)$. Hence also $y' \in f(U)$.
In other words, $T \cap U \not = \emptyset$. This proves that
$x \in \overline{T}$. Since $Y$ is Noetherian, $T$ is Noetherian
(Lemma \ref{lemma-Noetherian}).
Hence it has a decomposition $T = T_1 \cup \ldots \cup T_n$ into irreducible
components. Then correspondingly
$\overline{T} = \overline{T_1} \cup \ldots \cup \overline{T_n}$.
By the above $x \in \overline{T_i}$ for some $i$. By assumption
there exists a generic point $x' \in \overline{T_i}$, and
we see that $x' \leadsto x$.
Then $f(x') \in \overline{\{y'\}}$. If $f(x') \not = y'$, then
$f(\overline{T_i}) = \overline{\{f(x')\}} \subset \overline{\{y'\}}$
is a strict inclusion (here we use that $Y$ is Kolmogorov)
which contradicts the definition of $T_i$.
\end{proof}

\begin{lemma}
\label{lemma-dimension-specializations-lift}
Let $f : X \to Y$ be a morphism of topological spaces.
Suppose that $Y$ is a sober topological space, and $f$ is surjective.
If either specializations or generalizations lift along $f$, then
$\dim(X) \geq \dim(Y)$.
\end{lemma}

\begin{proof}
Assume specializations lift along $f$.
Let $Z_0 \subset Z_1 \subset \ldots Z_e \subset Y$ be a chain
of irreducible closed subsets of $X$. Let $\xi_e \in X$ be a point
mapping to the generic point of $Z_e$. By assumption there
exists a specialization
$\xi_e \leadsto \xi_{e - 1}$ in $X$ such that $\xi_{e - 1}$ maps to
the generic point of $Z_{e - 1}$. Continuing in this manner we find
a sequence of specializations
$$
\xi_e \leadsto \xi_{e - 1} \leadsto \ldots \leadsto \xi_0
$$
with $\xi_i$ mapping to the generic point of $Z_i$.
This clearly implies the sequence of irreducible closed
subsets
$$
\overline{\{\xi_0\}} \subset
\overline{\{\xi_1\}} \subset \ldots
\overline{\{\xi_e\}}
$$
is a chain of length $e$ in $X$.
The case when generalizations lift along $f$ is similar.
\end{proof}







\section{Dimension functions}
\label{section-dimension-function}

\noindent
It scarcely makes sense to consider dimension functions unless the space
considered is sober (Definition \ref{definition-generic-point}). Thus the
definition below can be improved by considering the sober topological space
associated to $X$. Since the underlying topological space of a scheme
is sober we do not bother with this improvement.

\begin{definition}
\label{definition-dimension-function}
Let $X$ be a topological space.
\begin{enumerate}
\item  Let $x, y \in X$, $x \not = y$. Suppose $x \leadsto y$, that
is $y$ is a specialization of $x$.
We say $y$ is an {\it immediate specialization}
of $x$ if there is no
$z \in X \setminus \{x, y\}$ with $x \leadsto z$ and $z \leadsto y$.
\item A map $\delta : X \to \mathbf{Z}$ is called a
{\it dimension function}\footnote{This is likely nonstandard
notation. This notion is usually introduced only for (locally) Noetherian
schemes, in which case condition (a) is implied by (b).} if
\begin{enumerate}
\item whenever $x \leadsto y$ and $x \not = y$
we have $\delta(x) > \delta(y)$, and
\item for every immediate specialization $x \leadsto y$ in $X$
we have $\delta(x) = \delta(y) + 1$.
\end{enumerate}
\end{enumerate}
\end{definition}

\noindent
It is clear that if $\delta$ is a dimension function, then so is
$\delta + t$ for any $t \in \mathbf{Z}$. Here is a fun lemma.

\begin{lemma}
\label{lemma-dimension-function-catenary}
Let $X$ be a topological space. If $X$ is sober and has a dimension
function, then $X$ is catenary. Moreover, for any $x \leadsto y$
we have
$$
\delta(x) - \delta(y) =
\text{codim}\left(\overline{\{y\}},\ \overline{\{x\}}\right).
$$
\end{lemma}

\begin{proof}
Suppose $Y \subset Y' \subset X$ are irreducible closed subsets.
Let $\xi \in Y$, $\xi' \in Y'$ be their generic points.
Then we see immediately from the definitions that
$\text{codim}(Y, Y') \leq \delta(\xi) - \delta(\xi') < \infty$.
In fact the first inequality is an equality. Namely, suppose
$$
Y = Y_0 \subset Y_1 \subset \ldots \subset Y_e = Y'
$$
is any maximal chain of irreducible closed subsets. Let
$\xi_i \in Y_i$ denote the generic point. Then we see that
$\xi_i \leadsto \xi_{i + 1}$ is an immediate specialization.
Hence we see that $e = \delta(\xi) - \delta(\xi')$ as desired.
This also proves the last statement of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-dimension-function-unique}
Let $X$ be a topological space.
Let $\delta$, $\delta'$ be two dimension functions on $X$.
If $X$ is locally Noetherian and sober then $\delta - \delta'$ is
locally constant on $X$.
\end{lemma}

\begin{proof}
Let $x \in X$ be a point. We will show that $\delta - \delta'$ is
constant in a neighbourhood of $x$.
We may replace $X$ by an open neighbourhood
of $x$ in $X$ which is Noetherian. Hence we may assume $X$ is
Noetherian and sober.
Let $Z_1, \ldots, Z_r$ be the irreducible
components of $X$ passing through $x$. (There are finitely many as
$X$ is Noetherian, see Lemma \ref{lemma-Noetherian}.)
Let $\xi_i \in Z_i$ be the generic point.
Note $Z_1 \cup \ldots \cup Z_r$ is a neighbourhood of $x$ in $X$
(not necessarily closed). We claim that $\delta - \delta'$ is
constant on $Z_1 \cup \ldots \cup Z_r$. Namely, if $y \in Z_i$,
then
$$
\delta(x) - \delta(y) = \delta(x) - \delta(\xi_i) + \delta(\xi_i) - \delta(y)
= - \text{codim}(\overline{\{x\}}, Z_i) 
+ \text{codim}(\overline{\{y\}}, Z_i)
$$
by Lemma \ref{lemma-dimension-function-catenary}.
Similarly for $\delta'$. Whence the result.
\end{proof}

\begin{lemma}
\label{lemma-locally-dimension-function}
Let $X$ be locally Noetherian, sober and catenary.
Then any point has an open neighbourhood
$U \subset X$ which has a dimension function.
\end{lemma}

\begin{proof}
We will use repeatedly
that an open subspace of a catenary space is catenary, see
Lemma \ref{lemma-catenary} and that a Noetherian topological space
has finitely many irreducible components, see Lemma \ref{lemma-Noetherian}.
In the proof of Lemma \ref{lemma-dimension-function-unique} we saw how to
construct such a function. Namely, we first replace $X$ by a Noetherian
open neighbourhood of $x$. Next, we let $Z_1, \ldots, Z_r \subset X$
be the irreducible components of $X$. Let
$$
Z_i \cap Z_j = \bigcup Z_{ijk}
$$
be the decomposition into irreducible components. We replace
$X$ by
$$
X \setminus \left(
\bigcup\nolimits_{x \not \in Z_i} Z_i
\cup
\bigcup\nolimits_{x \not \in Z_{ijk}} Z_{ijk}
\right)
$$
so that we may assume $x \in Z_i$ for all $i$ and
$x \in Z_{ijk}$ for all $i, j, k$. For $y \in X$ choose any
$i$ such that $y \in Z_i$ and set
$$
\delta(y) = - \text{codim}(\overline{\{x\}}, Z_i) 
+ \text{codim}(\overline{\{y\}}, Z_i).
$$
We claim this is a dimension function. First we show that it
is well defined, i.e., independent of the choice of $i$.
Namely, suppose that $y \in Z_{ijk}$ for some $i, j, k$.
Then we have (using Lemma \ref{lemma-catenary-in-codimension})
\begin{align*}
\delta(y) & =
- \text{codim}(\overline{\{x\}}, Z_i) 
+ \text{codim}(\overline{\{y\}}, Z_i) \\
& =
- \text{codim}(\overline{\{x\}}, Z_{ijk})
- \text{codim}(Z_{ijk}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_{ijk})
+ \text{codim}(Z_{ijk}, Z_i) \\
& =
- \text{codim}(\overline{\{x\}}, Z_{ijk})
+ \text{codim}(\overline{\{y\}}, Z_{ijk})
\end{align*}
which is symmetric in $i$ and $j$.
We omit the proof that it is a dimension function.
\end{proof}

\begin{remark}
\label{remark-obstruction-to-dimension-function}
Combining Lemmas \ref{lemma-dimension-function-unique} and
\ref{lemma-locally-dimension-function} we see that on a catenary,
locally Noetherian, sober topological space the obstruction to
having a dimension function is an element of
$H^1(X, \mathbf{Z})$.
\end{remark}



\section{Nowhere dense sets}
\label{section-nowhere-dense}

\begin{definition}
\label{definition-nowhere-dense}
Let $X$ be a topological space.
\begin{enumerate}
\item Given a subset $T \subset X$ the {\it interior} of $T$ is the
largest open subset of $X$ contained in $T$.
\item A subset $T \subset X$ is called {\it nowhere dense} if the closure of
$T$ has empty interior.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-nowhere-dense}
Let $X$ be a topological space. The union of a finite number of nowhere
dense sets is a nowhere dense set.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-image-nowhere-dense-open}
Let $X$ be a topological space.
Let $U \subset X$ be an open.
Let $T \subset U$ be a subset.
If $T$ is nowhere dense in $U$, then $T$ is nowhere dense in $X$.
\end{lemma}

\begin{proof}
Assume $T$ is nowhere dense in $U$.
Suppose that $x \in X$ is an interior point of the closure
$\overline{T}$ of $T$ in $X$. Say $x \in V \subset \overline{T}$
with $V \subset X$ open in $X$. Note that $\overline{T} \cap U$ is
the closure of $T$ in $U$. Hence the interior of $\overline{T} \cap U$
being empty implies $V \cap U = \emptyset$. Thus $x$ cannot be in the
closure of $U$, a fortiori cannot be in the closure of $T$, a contradiction.
\end{proof}

\begin{lemma}
\label{lemma-nowhere-dense-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Let $T \subset X$ be a subset.
If $T \cap U_i$ is nowhere dense in $U_i$ for all $i$,
then $T$ is nowhere dense in $X$.
\end{lemma}

\begin{proof}
Omitted. (Hint: closure commutes with intersecting with opens.)
\end{proof}

\begin{lemma}
\label{lemma-closed-image-nowhere-dense}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $T \subset X$ be a subset.
If $f$ identifies $X$ with a closed subset of $Y$
and $T$ is nowhere dense in $X$, then also $f(T)$ is nowhere dense in $Y$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-open-inverse-image-closed-nowhere-dense}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $T \subset Y$ be a subset.
If $f$ is open and $T$ is a closed nowhere dense subset of $Y$,
then also $f^{-1}(T)$ is a closed nowhere dense subset of $X$.
If $f$ is surjective and open, then
$T$ is closed nowhere dense if and only
if $f^{-1}(T)$ is closed nowhere dense.
\end{lemma}

\begin{proof}
Omitted. (Hint: In the first case the interior of $f^{-1}(T)$
maps into the interior of $T$, and in the second case the interior of
$f^{-1}(T)$ maps onto the interior of $T$.)
\end{proof}




\section{Miscellany}
\label{section-miscellany}

\noindent
Recall that a neighbourhood of a point need not be open.

\begin{definition}
\label{definition-locally-quasi-compact}
A topological space $X$ is called
{\it locally quasi-compact} if every
point has a fundamental system of quasi-compact
neighbourhoods.
\end{definition}

\noindent
The following lemma applies to the underlying topological space
associated to a quasi-separated scheme.

\begin{lemma}
\label{lemma-topology-quasi-separated-scheme}
Let $X$ be a topological space which
\begin{enumerate}
\item has a basis of the topology consisting of quasi-compact opens, and
\item has the property that the intersection of any two quasi-compact
opens is quasi-compact.
\end{enumerate}
Then
\begin{enumerate}
\item any quasi-compact open $U \subset X$
has a cofinal system of open coverings
$\mathcal{U} : U = \bigcup_{j\in J} U_j$ with $J$ finite and
all $U_j \cap U_{j'}$ quasi-compact for all $j, j' \in J$
\item add more here.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-open-morphism-quotient-topology}
Let $f : X \to Y$ be surjective, open, continuous map of topological spaces.
Let $T \subset Y$ be a subset. Then
\begin{enumerate}
\item $f^{-1}(\overline{T}) = \overline{f^{-1}(T)}$,
\item $T \subset Y$ is closed if and only $f^{-1}(T)$ is closed, and
\item $T \subset Y$ is open if and only $f^{-1}(T)$ is open,
\item $T \subset Y$ is locally closed if and only $f^{-1}(T)$ is locally closed.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that $\overline{f^{-1}(T)} \subset f^{-1}(\overline{T})$.
If $x \in X$, and $x \not \in \overline{f^{-1}(T)}$, then there
exists an open neighbourhood $x \in U \subset X$ with
$U \cap f^{-1}(T) = \emptyset$. Since $f$ is open we see that
$f(U)$ is an open neighbourhood of $f(x)$ not meeting $T$.
Hence $x \not \in f^{-1}(\overline{T})$. This proves (1).
Part (2) is an easy consequences of this.
Part (3) is obvious from the fact that $f$ is open.
For (4), if $f^{-1}(T)$
is locally closed, then
$f^{-1}(T) \subset \overline{f^{-1}(T)} = f^{-1}(\overline{T})$
is open, and hence by (3) applied to the map
$f^{-1}(\overline{T}) \to \overline{T}$ we see that
$T$ is open in $\overline{T}$, i.e., $T$ is locally closed.
\end{proof}


















\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
