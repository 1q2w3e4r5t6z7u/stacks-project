\input{preamble}

% OK, start here.
%
\begin{document}

\title{Topology}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Basic topology will be explained in this document.
A reference is \cite{Engelking}.

\section{Basic notions}
\label{section-topology-basic}

\noindent
The following notions are considered basic and will not be defined,
and or proved. This does not mean they are all necessarily easy or
well known.

\begin{enumerate}
\item
\label{item-space}
$X$ is a {\it topological space},
\item
\label{item-point}
$x\in X$ is a {\it point},
\item
\label{item-closed-point}
$x\in X$ is a {\it closed point},
\item
\label{item-dense}
$E \subset X$ is a {\it dense} set,
\item
\label{item-continuous}
$f : X_1 \to X_2$ is {\it continuous},
\item a continuous map of spaces $f : X \to Y$ is
{\it open} if $f(U)$ is open in $Y$ for $U \subset X$ open,
\item a continuous map of spaces $f : X \to Y$ is
{\it closed} if $f(Z)$ is closed in $Y$ for $Z \subset X$ closed,
\item
\label{item-neighbourhood}
a {\it neighbourhood of $x \in X$} is any subset
$E \subset X$ which contains an open subset that
contains $x$,
\item
\label{item-covering}
$\mathcal{U} : U = \bigcup_{i \in I} U_i$ is an
{\it open covering of} $U$ (note: we allow any $U_i$ to be empty
and we even allow, in case $U$ is empty, the empty set for $I$),
\item
\label{item-refinement}
the open covering $\mathcal{V}$ is a {\it refinement}
of the open covering $\mathcal{U}$ (if
$\mathcal{V} : V = \bigcup_{j \in J} V_j$ and
$\mathcal{U} : U = \bigcup_{i \in I} U_i$
this means each $V_j$ is completely contained in one of the $U_i$),
\item
\label{item-fundamental-system}
{\it $\{ E_i \}_{i \in I}$ is a fundamental system of neighbourhoods
of $x$ in $X$},
\item
\label{item-Hausdorff}
a topological space $X$ is called {\it Hausdorff} or {\it separated}
if and only if for every distinct pair of points $x, y \in X$ there exist
disjoint opens $U, V \subset X$ such that $x \in U$, $y \in V$,
\item the {\it product} of two topological spaces,
\label{item-product}
\item
\label{item-fibre-product}
the {\it fibre product $X \times_Y Z$} of a pair of continuous maps
$f : X \to Y$ and $g : Z \to Y$,
\item etc.
\end{enumerate}



\section{Hausdorff spaces}
\label{section-Hausdorff}

\noindent
The category of topological spaces has finite products.

\begin{lemma}
\label{lemma-Hausdorff}
Let $X$ be a topological space. The following are equivalent
\begin{enumerate}
\item $X$ is Hausdorff,
\item the diagonal $\Delta(X) \subset X \times X$ is closed.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-graph-closed}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $Y$ is Hausdorff, then the grap of $f$ is closed in $X \times Y$.
\end{lemma}

\begin{proof}
The graph is the inverse image of the diagonal under the map
$X \times Y \to Y \times Y$. Thus the lemma follows from
Lemma \ref{lemma-Hausdorff}.
\end{proof}

\begin{lemma}
\label{lemma-section-closed}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $s : Y \to X$ be a continuous map such that $f \circ s = \text{id}_Y$.
If $X$ is Hausdorff, then $s(Y)$ is closed.
\end{lemma}

\begin{proof}
This follows from Lemma \ref{lemma-Hausdorff} as
$s(Y) = \{x \in X \mid x = s(f(x))\}$.
\end{proof}

\begin{lemma}
\label{lemma-fibre-product-closed}
Let $X \to Z$ and $Y \to Z$ be continuous maps of topological spaces.
If $Z$ is Hausdorff, then  $X \times_Z Y$ is closed in $X \times Y$.
\end{lemma}

\begin{proof}
This follows from Lemma \ref{lemma-Hausdorff} as
$X \times_Z Y$ is the inverse image of $\Delta(Z)$
under $X \times Y \to Z \times Z$.
\end{proof}






\section{Bases}
\label{section-bases}

\noindent
Basic material on bases for topological spaces.

\begin{definition}
\label{definition-base}
Let $X$ be a topological space. A collection of subsets $\mathcal{B}$ of $X$
is called a {\it base for the topology on $X$} or a {\it basis for the
topology on $X$} if the following conditions hold:
\begin{enumerate}
\item Every element $B \in \mathcal{B}$ is open in $X$.
\item For every open $U \subset X$ and every $x \in U$,
there exists an element $B \in \mathcal{B}$ such that
$x \in B \subset U$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-refine-covering-basis}
Let $X$ be a topological space.
Let $\mathcal{B}$ be a basis for the topology on $X$.
Let $\mathcal{U} : U = \bigcup_i U_i$ be an open covering of
$U \subset X$. There exists an open covering $U = \bigcup V_j$
which is a refinement of $\mathcal{U}$ such that each
$V_j$ is an element of the basis $\mathcal{B}$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-subbase}
Let $X$ be a topological space. A collection of subsets $\mathcal{B}$ of $X$
is called a {\it subbase for the topology on $X$} or a {\it subbasis for the
topology on $X$} if the finite intersections of
elements of $\mathcal{B}$ forms a basis for the topology on $X$.
\end{definition}

\noindent
In particular every element of $\mathcal{B}$ is open.

\begin{lemma}
\label{lemma-subbase}
Let $X$ be a set. Given any collection $\mathcal{B}$ of subsets of $X$
there is a unique topology on $X$ such that $\mathcal{B}$ is a subbase
for this topology.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}





\section{Submersive maps}
\label{section-submersive}

\noindent
Here is the definition.

\begin{definition}
\label{definition-submersive}
Let $f : X \to Y$ be a continuous map of topological spaces.
We say $f$ is {\it submersive}\footnote{This is very different from
the notion of a submersion between differential manifolds!}
if $f$ is surjective and for any $T \subset Y$ we have $T$ is
open or closed if and only if $f^{-1}(T)$ is so.
\end{definition}

\noindent
We also express this by saying $Y$ has the
{\it quotient topology} relative to the map $X \to Y$.

\begin{lemma}
\label{lemma-quotient}
Let $X$ be a topological space. Let $Y$ be a set and let $f : X \to Y$
be a surjective map of sets. There is a unique topology on $Y$ such
that $f$ is continuous and submersive.
\end{lemma}

\begin{proof}
The collection of subsets $V \subset Y$ such that $f^{-1}V$
is open in $X$ defines a topology on $Y$.
\end{proof}

\begin{lemma}
\label{lemma-open-morphism-quotient-topology}
Let $f : X \to Y$ be surjective, open, continuous map of topological spaces.
Let $T \subset Y$ be a subset. Then
\begin{enumerate}
\item $f^{-1}(\overline{T}) = \overline{f^{-1}(T)}$,
\item $T \subset Y$ is closed if and only $f^{-1}(T)$ is closed,
\item $T \subset Y$ is open if and only $f^{-1}(T)$ is open, and
\item $T \subset Y$ is locally closed if and only $f^{-1}(T)$ is locally closed.
\end{enumerate}
In particular we see that $f$ is submersive.
\end{lemma}

\begin{proof}
It is clear that $\overline{f^{-1}(T)} \subset f^{-1}(\overline{T})$.
If $x \in X$, and $x \not \in \overline{f^{-1}(T)}$, then there
exists an open neighbourhood $x \in U \subset X$ with
$U \cap f^{-1}(T) = \emptyset$. Since $f$ is open we see that
$f(U)$ is an open neighbourhood of $f(x)$ not meeting $T$.
Hence $x \not \in f^{-1}(\overline{T})$. This proves (1).
Part (2) is an easy consequences of this.
Part (3) is obvious from the fact that $f$ is open.
For (4), if $f^{-1}(T)$
is locally closed, then
$f^{-1}(T) \subset \overline{f^{-1}(T)} = f^{-1}(\overline{T})$
is open, and hence by (3) applied to the map
$f^{-1}(\overline{T}) \to \overline{T}$ we see that
$T$ is open in $\overline{T}$, i.e., $T$ is locally closed.
\end{proof}









\section{Connected components}
\label{section-connected-components}

\begin{definition}
\label{definition-connected-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it connected} if $X$ is not empty and whenever
$X = T_1 \coprod T_2$ with $T_i \subset X$ open and closed, then either
$T_1 = \emptyset$ or $T_2 = \emptyset$.
\item We say $T \subset X$ is a {\it connected component} of $X$ if
$T$ is a maximal connected subset of $X$.
\end{enumerate}
\end{definition}

\noindent
The empty space is not connected.

\begin{lemma}
\label{lemma-image-connected-space}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $E \subset X$ is a connected subset, then $f(E) \subset Y$
is connected as well.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-connected-components}
Let $X$ be a topological space. If $T \subset X$ is connected,
then so is its closure. Each point of $X$ is contained
in a connected component. Connected components are always closed,
but not necessarily open.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the connected subset $T$.
Suppose $\overline{T} = T_1 \coprod T_2$ with $T_i \subset \overline{T}$
open and closed. Then $T = (T\cap T_1) \coprod (T \cap T_2)$. Hence
$T$ equals one of the two, say $T = T_1 \cap T$. Thus clearly
$\overline{T} \subset T_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of connected subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ordering on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is
connected. Namely, suppose that $T =  T_1 \coprod T_2$ is a disjoint
union of two open and closed subsets of $T$.
For each $\alpha \in A'$ we have either $T_\alpha \subset T_1$
or $T_\alpha \subset T_2$, by connectedness of $T_\alpha$.
Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset T_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset T_2$ for all $\alpha \in A'$. Hence $T = T_2$.

\medskip\noindent
To get an example
where connected components are not open, just take
an infinite product $\prod_{n \in \mathbf{N}} \{0, 1\}$
with the product topology. This is a totally disconnected
space so connected components are singletons, which are
not open.
\end{proof}

\begin{lemma}
\label{lemma-connected-fibres-quotient-topology-connected-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
\begin{enumerate}
\item all fibres of $f$ are connected, and
\item a set $T \subset Y$ is closed if and only if $f^{-1}(T)$ is closed.
\end{enumerate}
Then $f$ induces a bijection between the sets of connected
components of $X$ and $Y$.
\end{lemma}

\begin{proof}
Let $T \subset Y$ be a connected component.
Note that $T$ is closed, see Lemma \ref{lemma-connected-components}.
The lemma follows if we show that $p^{-1}(T)$ is connected
because any connected subset of $X$ maps into a connected component
of $Y$ by Lemma \ref{lemma-image-connected-space}.
Suppose that $p^{-1}(T) = Z_1 \coprod Z_2$
with $Z_1$, $Z_2$ closed. For any $t \in T$ we see that
$p^{-1}(\{t\}) = Z_1 \cap p^{-1}(\{t\}) \coprod Z_2 \cap p^{-1}(\{t\})$.
By (1) we see $p^{-1}(\{t\})$ is connected we conclude that
either $p^{-1}(\{t\}) \subset Z_1$ or $p^{-1}(\{t\}) \subset Z_2$.
In other words $T = T_1 \coprod T_2$ with $p^{-1}(T_i) = Z_i$.
By (2) we conclude that $T_i$ is closed in $Y$.
Hence either $T_1 = \emptyset$ or $T_2 = \emptyset$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-connected-fibres-connected-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
(a) $f$ is open,
(b) all fibres of $f$ are connected.
Then $f$ induces a bijection between the sets of connected
components of $X$ and $Y$.
\end{lemma}

\begin{proof}
This is a special case of
Lemma \ref{lemma-connected-fibres-quotient-topology-connected-components}.
\end{proof}

\begin{lemma}
\label{lemma-finite-fibre-connected-components}
Let $f : X \to Y$ be a continuous map of nonempty topological spaces. Assume
that
(a) $Y$ is connected,
(b) $f$ is open and closed, and
(c) there is a point $y\in Y$ such that the fiber $f^{-1}(y)$ is a finite set.
Then $X$ has at most $|f^{-1}(y)|$ connected components. Hence any connected 
component $T$ of $X$ is open and closed, and $p(T)$ is a nonempty open and 
closed subset of $Y$, which is therefore equal to $Y$.
\end{lemma}

\begin{proof}
If the topological space $X$ has at least $N$ connected components for some
$N\in \mathbb{N}$, we find by induction a decomposition
$X=X_1\amalg\dots\amalg X_N$ of $X$ as a disjoint union of $N$ nonempty open
and closed subsets $X_1,\dots,X_N$ of $X$. As $f$ is open and closed, each
$f(X_i)$ is a nonempty open and closed subset of $Y$ and is hence equal to
$Y$. In particular  the intersection $X_i\cap p^{-1}(y)$ is nonempty for each
$1\leq i\leq N$. Hence $p^{-1}(y)$ has at least $N$ elements.
\end{proof}

\begin{definition}
\label{definition-totally-disconnected}
A topological space is {\it totally disconnected} if the connected components
are all singletons.
\end{definition}

\noindent
A discrete space is totally disconnected.
A totally disconnected space need not be discrete, for example
$\mathbf{Q} \subset \mathbf{R}$ is totally disconnected but not discrete.

\begin{lemma}
\label{lemma-space-connected-components}
Let $X$ be a topological space. Let $\pi_0(X)$ be the set of connected
components of $X$. Let $X \to \pi_0(X)$ be the map which sends
$x \in X$ to the connected component of $X$ passing through $x$.
Endow $\pi_0(X)$ with the quotient topology. Then $\pi_0(X)$ is a
totally disconnected space and any continuous map $X \to Y$
from $X$ to a totally disconnected space $Y$ factors through $\pi_0(X)$.
\end{lemma}

\begin{proof}
By Lemma
\ref{lemma-connected-fibres-quotient-topology-connected-components}
the connected components of $\pi_0(X)$ are the singletons.
We omit the proof of the second statement.
\end{proof}

\begin{definition}
\label{definition-locally-connected}
A topological space $X$ is called {\it locally connected} if
every point $x \in X$ has a fundamental system of connected neighbourhoods.
\end{definition}

\begin{lemma}
\label{lemma-locally-connected}
Let $X$ be a topological space. If $X$ is locally connected, then
\begin{enumerate}
\item any open subset of $X$ is locally connected, and
\item the connected components of $X$ are open.
\end{enumerate}
So also the connected components of open subsets of $X$ are open.
In particular, every point has a fundamental system of open connected
neighbourhoods.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}




\section{Irreducible components}
\label{section-irreducible-components}

\begin{definition}
\label{definition-irreducible-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it irreducible}, if $X$ is not empty, and whenever
$X = Z_1 \cup Z_2$ with $Z_i$ closed, we have $X = Z_1$ or $X = Z_2$.
\item We say $Z \subset X$ is an {\it irreducible component} of $X$
if $Z$ is a maximal irreducible subset of $X$.
\end{enumerate}
\end{definition}

\noindent
An irreducible space is obviously connected.

\begin{lemma}
\label{lemma-image-irreducible-space}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $E \subset X$ is an irreducible subset, then $f(E) \subset Y$
is irreducible as well.
\end{lemma}

\begin{proof}
Suppose $f(E)$ is the union of $Z_1 \cap f(E)$ and $Z_2 \cap f(E)$, for two
distinct closed subsets $Z_1$ and $Z_2$ of $Y$; this is equal to the
intersection $(Z_1 \cup Z_2) \cap f(E)$, so $f(E)$ is then contained in the
union $Z_1 \cup Z_2$.  For the irreducibility of $f(E)$ it suffices to show
that it is contained in either $Z_1$ or $Z_2$. The relation
$f(E) \subseteq Z_1 \cup Z_2$ shows that
$f^{-1}(f(E)) \subseteq f^{-1}(Z_1 \cup Z_2)$; as the right-hand side is
clearly equal to $f^{-1}(Z_1) \cup f^{-1}(Z_2)$ and since
$E \subseteq f^{-1}(f(E))$, it follows that
$E \subseteq f^{-1}(Z_1) \cup f^{-1}(Z_2)$, from which one concludes by the
irreducibility of $E$ that $E \subseteq f^{-1}(Z_1)$ or
$E \subseteq f^{-1}(Z_2)$.  Hence one sees that either
$f(E) \subseteq f(f^{-1}(Z_1)) \subseteq Z_1$ or $f(E) \subseteq Z_2$.
\end{proof}

\begin{lemma}
\label{lemma-irreducible}
Let $X$ be a topological space. If $T \subset X$ is irreducible
so is its closure in $X$. Any irreducible component of $X$ is
closed. Every point of $X$ is contained in some irreducible component
of $X$.
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the irreducible subset $T$.
If $\overline{T} = Z_1 \cup Z_2$ with $Z_i \subset \overline{T}$
closed, then $T = (T\cap Z_1) \cup (T \cap Z_2)$ and hence
$T$ equals one of the two, say $T = Z_1 \cap T$. Thus clearly
$\overline{T} \subset Z_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of irreducible subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ording on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is
irreducible. Namely, suppose that $T =  Z_1 \cup Z_2$ is a union
of two closed subsets of $T$. For each $\alpha \in A'$ we have
either $T_\alpha \subset Z_1$ or $T_\alpha \subset Z_2$, by irreducibility
of $T_\alpha$. Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset Z_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset Z_2$ for all $\alpha \in A'$. Hence $T = Z_2$.
\end{proof}

\noindent
A singleton is irreducible. Thus if $x \in X$ is a point
then the closure $\overline{\{x\}}$ is an irreducible closed
subset of $X$.

\begin{definition}
\label{definition-generic-point}
Let $X$ be a topological space.
\begin{enumerate}
\item Let $Z \subset X$ be an irreducible closed subset.
A {\it generic point} of $Z$ is a point $\xi \in Z$ such
that $Z = \overline{\{\xi\}}$.
\item The space $X$ is called {\it Kolmogorov}, if for every $x, x' \in X$,
$x \not = x'$ there exists a closed subset of $X$ which contains
exactly one of the two points.
\item The space $X$ is called {\it sober} if every
irreducible closed subset has a unique generic point.
\end{enumerate}
\end{definition}

\noindent
A space $X$ is Kolmogorov if for $x_1, x_2 \in X$ we have $x_1 = x_2$
if and only if $\overline{\{x_1\}} = \overline{\{x_2\}}$. Hence we see
that a sober topological space is Kolmogorov.

\begin{lemma}
\label{lemma-sober-local}
Let $X$ be a topological space. If $X$ has an open covering
$X = \bigcup X_i$ with $X_i$ sober (resp.\ Kolmogorov), then
$X$ is sober (resp.\ Kolmogorov).
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{example}
\label{example-Hausdorff}
Recall that a topological space $X$ is Hausdorff iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$.
In this case $X$ is irreducible if and only if $X$ is
a singleton. Similarly, any subset of $X$ is irreducible
if and only if it is a singleton. Hence a Hausdorff space is
sober.
\end{example}

\begin{lemma}
\label{lemma-irreducible-on-top}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
(a) $Y$ is irreducible,
(b) $f$ is open, and
(c) there exists a dense collection of points $y \in Y$ such
that $f^{-1}(y)$ is irreducible.
Then $X$ is irreducible.
\end{lemma}

\begin{proof}
Suppose $Y = Z_1 \cup Z_2$ with $Z_i$ closed.
Consider the open sets $U_1 = Z_1 \setminus Z_2 = Y \setminus Z_2$ and
$U_2 = Z_2 \setminus Z_1 = Y \setminus Z_2$. To get a contradiction
assume that $U_1$ and $U_2$ are both nonempty. By (b) we see that $f(U_i)$
is open. By (a) we have $X$ irreducible and hence
$f(U_1) \cap f(U_2) \not = \emptyset$. By (c) there is a point $y$ which
corresponds to a point of this intersection such that the fibre
$X_y = f^{-1}(y)$ is irreducible. Then $X_y \cap U_1$ and
$X_y \cap U_2$ are nonempty disjoint open subsets of $X_y$ which is
a contradiction.
\end{proof}

\begin{lemma}
\label{lemma-irreducible-fibres-irreducible-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that (a) $f$ is open, and
(b) for every $y \in Y$ the fibre $f^{-1}(y)$ is irreducible.
Then $f$ induces a bijection between irreducible components.
\end{lemma}

\begin{proof}
We point out that assumption (b) implies that $f$ is surjective (see
Definition \ref{definition-irreducible-components}).
Let $T \subset Y$ be an irreducible component.
Note that $T$ is closed, see Lemma \ref{lemma-irreducible}.
The lemma follows if we show that $p^{-1}(T)$ is irreducible
because any irreducible subset of $X$ maps into an irreducible component
of $Y$ by Lemma \ref{lemma-image-irreducible-space}.
Note that $p^{-1}(T) \to T$ satisfies the assumptions
of Lemma \ref{lemma-irreducible-on-top}. Hence we win.
\end{proof}


\section{Noetherian topological spaces}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
A topological space is called {\it Noetherian}
if the descending chain condition holds for
closed subsets of $X$. A topological space is called
{\it locally Noetherian} if every point has a neighbourhood
which is Noetherian.
\end{definition}

\begin{lemma}
\label{lemma-Noetherian}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item Any subset of $X$ with the induced topology is Noetherian.
\item The space $X$ has finitely many irreducible components.
\item Each irreducible component of $X$ contains a nonempty open of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $T \subset X$ be a subset of $X$.
Let $T_1 \supset T_2 \supset \ldots$
be a descending chain of closed subsets of $T$.
Write $T_i =  T \cap Z_i$ with $Z_i \subset X$ closed.
Consider the descending chain of closed subsets
$Z_1 \supset Z_1\cap Z_2 \supset Z_1 \cap Z_2 \cap Z_3 \ldots$
This stabilizes by assumption and hence the original sequence
of $T_i$ stabilizes. Thus $T$ is Noetherian.

\medskip\noindent
Let $A$ be the set of closed subsets of $X$ which do not
have finitely many irreducible components. Assume that
$A$ is not empty to arrive at a contradiction.
The set $A$ is partially ordered by inclusion: $\alpha \leq \alpha'
\Leftrightarrow Z_{\alpha} \subset Z_{\alpha'}$.
By the descending chain condition we may find a
smallest element of $A$, say $Z$. As $Z$ is not a finite
union of irreducible components, it is not irreducible.
Hence we can write $Z = Z' \cup Z''$ and both are strictly smaller
closed subsets. By construction $Z' = \bigcup Z'_i$ and
$Z'' = \bigcup Z''_j$ are finite unions of their irreducible
components. Hence $Z = \bigcup Z'_i \cup \bigcup Z''_j$ is
a finite union of irreducible closed subsets.
After removing redundant members of this expression,
this will be the decomposition of $Z$ into its irreducible
components, a contradiction.

\medskip\noindent
Let $Z \subset X$ be an irreducible component of $X$.
Let $Z_1, \ldots, Z_n$ be the other irreducible components
of $X$. Consider $U = Z \setminus (Z_1\cup\ldots\cup Z_n)$.
This is not empty since otherwise the irreducible space
$Z$ would be contained in one of the other $Z_i$.
Because $X = Z \cup Z_1 \cup \ldots Z_n$ (see Lemma \ref{lemma-irreducible}),
also $U = X \setminus (Z_1\cup\ldots\cup Z_n)$
and hence open in $X$. Thus $Z$ contains a nonempty
open of $X$.
\end{proof}

\begin{lemma}
\label{lemma-image-Noetherian}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $X$ is Noetherian, then $f(X)$ is Noetherian.
\item If $X$ is locally Noetherian and $f$ open, then $f(X)$ is
locally Noetherian.
\end{enumerate}
\end{lemma}

\begin{proof}
In case (1), suppose that $Z_1 \supset Z_2 \supset Z_2 \supset \ldots$
is a descending chain of closed subsets of $f(X)$ (as usual with the induced
topology as a subset of $Y$). Then
$f^{-1}(Z_1) \supset f^{-1}(Z_2) \supset f^{-1}(Z_3) \supset \ldots$ is
a descending chain of closed subsets of $X$. Hence this chain stabilizes.
Since $f(f^{-1}(Z_i)) = Z_i$ we conclude that
$Z_1 \supset Z_2 \supset Z_2 \supset \ldots$
stabilizes also. In case (2), let $y \in f(X)$. Choose $x \in X$ with
$f(x) = y$. By assumption there exists a neighbourhood $E \subset X$ of
$x$ which is Noetherian. Then $f(E) \subset f(X)$ is a neighbourhood
which is Noetherian by part (1).
\end{proof}

\begin{lemma}
\label{lemma-finite-union-Noetherian}
Let $X$ be a topological space.
Let $X_i \subset X$, $i = 1, \ldots, n$ be a finite collection of subsets.
If each $X_i$ is Noetherian (with the induced topology), then
$\bigcup_{i = 1, \ldots, n}  X_i$ is Noetherian (with the induced topology).
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{example}
\label{example-locally-Noetherian-no-closed-point}
Any Noetherian topological space has a closed point (combine
Lemmas \ref{lemma-quasi-compact-closed-point} and
\ref{lemma-Noetherian-quasi-compact}).
Let $X = \{1, 2, 3, \ldots \}$. Define a topology on $X$
with opens $\emptyset$, $\{1, 2, \ldots, n\}$, $n \geq 1$
and $X$. Thus $X$ is a locally Noetherian topological space,
without any closed points. This space cannot be the underlying
topological space of a locally Noetherian scheme, see
Properties, Lemma \ref{properties-lemma-locally-Noetherian-closed-point}.
\end{example}

\begin{lemma}
\label{lemma-locally-Noetherian-locally-connected}
Let $X$ be a locally Noetherian topological space.
Then $X$ is locally connected.
\end{lemma}

\begin{proof}
Let $x \in X$. Let $E$ be a neighbourhood of $x$.
We have to find a connected neighbourhood of $x$ contained
in $E$. By assumption there exists a neighbourhood $E'$ of $x$
which is Noetherian. Then $E \cap E'$ is Noetherian, see
Lemma \ref{lemma-Noetherian}.
Let $E \cap E' = Y_1 \cup \ldots \cup Y_n$ be the decomposition
into irreducible components, see
Lemma \ref{lemma-Noetherian}.
Let $E'' = \bigcup_{x \in Y_i} Y_i$. This is a connected
subset of $E \cap E'$ containing $x$. It contains the open
$E \cap E' \setminus (\bigcup_{x \not \in Y_i} Y_i)$ of $E \cap E'$
and hence it is a neighbourhood of $x$ in $X$. This proves the lemma.
\end{proof}



\section{Krull dimension}
\label{section-krull-dimension}

\begin{definition}
\label{definition-Krull}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it chain of irreducible closed subsets} of $X$
is a sequence $Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$
with $Z_i$ closed irreducible and $Z_i \not= Z_{i + 1}$ for
$i = 0, \ldots, n - 1$.
\item The {\it length} of a chain
$Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$
of irreducible closed subsets of $X$ is the
integer $n$.
\item The {\it dimension} or more precisely the
{\it Krull dimension} $\dim(X)$ of $X$ is
the element of $\{\infty, 0, 1, 2, 3, \ldots\}$ defined by the formula:
$$
\dim(X) =
\sup \{\text{lengths of chains of irreducible closed subsets}\}
$$
\item Let $x \in X$.
The {\it Krull dimension of $X$ at $x$} is defined as
$$
\dim_x(X) = \min \{\dim(U), x\in U\subset X\text{ open}\}
$$
the minimum of $\dim(U)$ where $U$ runs over the open
neighbourhoods of $x$ in $X$.
\end{enumerate}
\end{definition}

\noindent
Note that if $U' \subset U \subset X$ are open then
$\dim(U') \leq \dim(U)$. Hence if $\dim_x(X) = d$ then $x$
has a fundamental system of open neighbourhoods $U$ with
$\dim(U) = \dim_x(X)$.

\begin{example}
\label{example-Krull-Rn}
The Krull dimension of the usual Euclidean space
$\mathbf{R}^n$ is $0$.
\end{example}

\begin{example}
\label{example-krull-2set}
Let $X = \{s, \eta\}$ with open sets given
by $\{\emptyset, \{\eta\}, \{s, \eta\}\}$.
In this case a maximal chain of irreducible
closed subsets is $\{s\} \subset \{s, \eta\}$.
Hence $\dim(X) = 1$. It is easy to generalize
this example to get a $(n + 1)$-element topological
space of Krull dimension $n$.
\end{example}

\begin{definition}
\label{definition-equidimensional}
Let $X$ be a topological space.
We say that $X$ is {\it equidimensional} if every irreducible
component of $X$ has the same dimension.
\end{definition}





\section{Codimension and catenary spaces}
\label{section-catenary-spaces}

\begin{definition}
\label{definition-catenary}
Let $X$ be a topological space. We say $X$ is {\it catenary} if
for every pair of irreducible closed subsets $T \subset T'$
there exist a maximal chain of irreducible closed subsets
$$
T = T_0 \subset T_1 \subset \ldots \subset T_e = T'
$$
and every such chain has the same length.
\end{definition}

\begin{lemma}
\label{lemma-catenary}
Let $X$ be a topological space.
The following are equivalent:
\begin{enumerate}
\item $X$ is catenary,
\item $X$ has an open covering by catenary spaces.
\end{enumerate}
Moreover, in this case any locally closed subspace of $X$ is catenary.
\end{lemma}

\begin{proof}
Suppose that $X$ is catenary and that $U \subset X$ is an open
subset. The rule $T \mapsto \overline{T}$ defines a bijective
inclusion preserving map between the closed irreducible subsets
of $U$ and the closed irreducible subsets of $X$ which meet $U$.
Using this the lemma easily follows. Details omitted.
\end{proof}

\begin{definition}
\label{definition-codimension}
Let $X$ be a topological space.
Let $Y \subset X$ be an irreducible closed subset.
The {\it codimension} of $Y$ in $X$ is the supremum of
the lengths $e$ of chains
$$
Y = Y_0 \subset Y_1 \subset \ldots \subset Y_e \subset X
$$
of irreducible closed subsets in $X$ starting with $Y$.
We will denote this $\text{codim}(Y, X)$.
\end{definition}

\begin{lemma}
\label{lemma-codimension-at-generic-point}
Let $X$ be a topological space.
Let $Y \subset X$ be an irreducible closed subset.
Let $U \subset X$ be an open subset such that $Y \cap U$ is nonempty.
Then
$$
\text{codim}(Y, X) = \text{codim}(Y \cap U, U)
$$
\end{lemma}

\begin{proof}
Follows from the observation made in the proof of
Lemma \ref{lemma-catenary}.
\end{proof}

\begin{example}
\label{example-Noetherian-infinite-codimension}
Let $X = [0, 1]$ be the unit interval with the following
topology: The sets $[0, 1]$, $(1 - 1/n, 1]$ for $n \in \mathbf{N}$, and
$\emptyset$ are open. So the closed sets are
$\emptyset$, $\{0\}$, $[0, 1 - 1/n]$ for $n > 1$ and $[0, 1]$.
This is clearly a Noetherian topological space.
But the irreducible closed subset $Y = \{0\}$ has infinite
codimension $\text{codim}(Y, X) = \infty$.
To see this we just remark that all the closed sets
$[0, 1 - 1/n]$ are irreducible.
\end{example}

\begin{lemma}
\label{lemma-catenary-in-codimension}
Let $X$ be a topological space. The following are equivalent:
\begin{enumerate}
\item $X$ is catenary, and
\item for pair of irreducible closed subsets $Y \subset Y'$ we have
$\text{codim}(Y, Y') < \infty$ and for every triple
$Y \subset Y' \subset Y''$ of irreducible closed subsets we have
$$
\text{codim}(Y, Y'') = \text{codim}(Y, Y') + \text{codim}(Y', Y'').
$$
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}







\section{Quasi-compact spaces and maps}
\label{section-quasi-compact}

\noindent
The phrase ``compact'' will be reserved
for Hausdorff topological spaces. And many spaces occuring
in algebraic geometry are not Hausdorff.

\begin{definition}
\label{definition-quasi-compact}
Quasi-compactness.
\begin{enumerate}
\item We say that a topological space $X$ is {\it quasi-compact}
if every open covering of $X$ has a finite refinement.
\item We say that a continuous map $f : X \to Y$ is {\it quasi-compact}
if the inverse image $f^{-1}(V)$ of every quasi-compact open $V \subset Y$
is quasi-compact.
\item We say a subset $Z \subset X$ is {\it retrocompact}
if the inclusion map $Z \to X$ is quasi-compact.
\end{enumerate}
\end{definition}

\noindent
In many texts on topology a space is called {\it compact} if it
is quasi-compact and Hausdorff; and in other texts the Hausdorff
condition is omitted. To avoid confusion in algebraic geometry
we use the term quasi-compact. Note that the notion of quasi-compactness
of a map is very different from the notion of a ``proper map''
in topology, since there one requires the inverse image of any
(quasi-)compact subset of the target to be (quasi-)compact,
whereas in the definition above we only consider quasi-compact
{\it open} sets.

\begin{lemma}
\label{lemma-composition-quasi-compact}
A composition of quasi-compact maps is quasi-compact.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-in-quasi-compact}
A closed subset of a quasi-compact topological space is quasi-compact.
\end{lemma}

\begin{proof}
Let $E \subset X$ be a closed subset of the quasi-compact space $X$.
Let $E = \bigcup V_j$ be an open covering. Choose $U_j \subset X$
open such that $V_j = E \cap U_j$. Then $X = (X \setminus E) \cup \bigcup U_j$
is an open covering of $X$. Hence
$X = (X \setminus E) \cup U_{j_1} \cup \ldots \cup U_{j_n}$ for some
$n$ and indices $j_i$. Thus $E = V_{j_1} \cup \ldots \cup V_{j_n}$
as desired.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-in-Hausdorff}
Let $X$ be a Hausdorff topological space.
\begin{enumerate}
\item If $E \subset X$ is quasi-compact, then it is closed.
\item If $E_1, E_2 \subset X$ are disjoint quasi-compact subsets
then there exists opens $E_i \subset U_i$ with $U_1 \cap U_2 = \emptyset$.
\end{enumerate}
\end{lemma}

\begin{proof}
Proof of (1). Let $x \in X$, $x \not \in E$.
For every $e \in E$ we can find disjoint opens $V_e$ and $U_e$
with $e \in V_e$ and $x \in U_e$. Since $E \subset \bigcup V_e$
we can find finitely many $e_1, \ldots, e_n$ such that
$E \subset V_{e_1} \cup \ldots \cup V_{e_n}$. Then
$U = U_{e_1} \cap \ldots \cap U_{e_n}$ is an open neighbourhood
of $x$ which avoids $V_{e_1} \cup \dots \cup V_{e_n}$. In particular
it avoids $E$. Thus $E$ is closed.

\medskip\noindent
Proof of (2). In the proof of (1) we have seen that given $x \in E_1$
we can find an open neighbourhood $x \in U_x$ and an open
$E_2 \subset V_x$ such that $U_x \cap V_x = \emptyset$. Because
$E_1$ is quasi-compact we can find a finite number $x_i \in E_1$
such that $E_1 \subset U = U_{x_1} \cup \ldots \cup U_{x_n}$.
We take $V = V_{x_1} \cap \ldots \cap V_{x_n}$ to finish the proof.
\end{proof}

\begin{lemma}
\label{lemma-closed-in-compact}
Let $X$ be a quasi-compact Hausdorff space. Let $E \subset X$.
The following are equivalent: (a) $E$ is closed in $X$, (b)
$E$ is quasi-compact.
\end{lemma}

\begin{proof}
The implication (a) $\Rightarrow$ (b) is
Lemma \ref{lemma-closed-in-quasi-compact}.
The implication (b) $\Rightarrow$ (a) is
Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
\end{proof}

\noindent
The following is really a reformulation of the
quasi-compact property.

\begin{lemma}
\label{lemma-intersection-closed-in-quasi-compact}
Let $X$ be a quasi-compact topological space.
If $\{Z_\alpha\}_{\alpha \in A}$ is a collection of closed subsets
such that the intersection of each finite subcollection
is nonempty, then $\bigcap_{\alpha \in A} Z_\alpha$ is nonempty.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-image-quasi-compact}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $X$ is quasi-compact, then $f(X)$ is quasi-compact.
\item If $f$ is quasi-compact, then $f(X)$ is retrocompact.
\end{enumerate}
\end{lemma}

\begin{proof}
If $f(X) = \bigcup V_i$ is an open covering, then $X = \bigcup f^{-1}(V_i)$
is an open covering. Hence if $X$ is quasi-compact then
$X = f^{-1}(V_{i_1}) \cup \ldots \cup f^{-1}(V_{i_n})$ for some
$i_1, \ldots, i_n \in I$ and hence
$f(X) = V_{i_1} \cup \ldots \cup V_{i_n}$. This proves (1).
Assume $f$ is quasi-compact, and let $V \subset Y$ be quasi-compact open.
Then $f^{-1}(V)$ is quasi-compact, hence by (1) we see that
$f(f^{-1}(V)) = f(X) \cap V$ is quasi-compact. Hence $f(X)$
is retrocompact.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-closed-point}
Let $X$ be a topological space. Assume that
\begin{enumerate}
\item $X$ is nonempty,
\item $X$ is quasi-compact, and
\item $X$ is Kolmogorov.
\end{enumerate}
Then $X$ has a closed point.
\end{lemma}

\begin{proof}
Consider the set
$$
\mathcal{T} =
\{Z \subset X \mid Z = \overline{\{x\}} \text{ for some }x \in X\}
$$
of all closures of singletons in $X$. It is nonempty since $X$ is
nonempty. Make $\mathcal{T}$ into a
partially ordered set using the relation of inclusion.
Suppose $Z_\alpha$, $\alpha \in A$ is a totally ordered subset of $\mathcal{T}$.
By Lemma \ref{lemma-intersection-closed-in-quasi-compact} we see
that $\bigcap_{\alpha \in A} Z_\alpha \not = \emptyset$. Hence there exists
some $x \in \bigcap_{\alpha \in A} Z_\alpha$ and we see that
$Z = \overline{\{x\}}\in \mathcal{T}$ is a lower bound for
the family. By Zorn's lemma there exists a minimal element
$Z \in \mathcal{T}$. As $X$ is Kolmogorov we conclude that
$Z = \{x\}$ for some $x$ and $x \in X$ is a closed point.
\end{proof}

\begin{lemma}
\label{lemma-closed-points-quasi-compact}
Let $X$ be a quasi-compact Kolmogorov space. Then the set $X_0$ of
closed points of $X$ is quasi-compact.
\end{lemma}

\begin{proof}
Let $X_0 = \bigcup U_{i, 0}$ be an open covering.
Write $U_{i, 0} = X_0 \cap U_i$ for some open $U_i \subset X$.
Consider the complement $Z$ of $\bigcup U_i$. This is a closed subset of
$X$, hence quasi-compact (Lemma \ref{lemma-closed-in-quasi-compact})
and Kolmogorov. By Lemma \ref{lemma-quasi-compact-closed-point}
if $Z$ is nonempty it would have a closed
point which contradicts the fact that $X_0 \subset \bigcup U_i$.
Hence $Z = \emptyset$ and $X = \bigcup U_i$. Since $X$ is quasi-compact
this covering has a finite subcover and we conclude.
\end{proof}

\begin{lemma}
\label{lemma-connected-component-intersection}
Let $X$ be a topological space.
Assume
\begin{enumerate}
\item $X$ is quasi-compact,
\item $X$ has a basis for the topology consisting of quasi-compact opens, and
\item the intersection of two quasi-compact opens is quasi-compact.
\end{enumerate}
For any $x \in X$ the connected component of $X$ containing
$x$ is the intersection of all open and closed subsets
of $X$ containing $x$.
\end{lemma}

\begin{proof}
Let $T$ be the connected component containing $x$.
Let $S = \bigcap_{\alpha \in A} Z_\alpha$ be the intersection of all
open and closed subsets $Z_\alpha$ of $X$ containing $x$.
Note that $S$ is closed in $X$.
Note that any finite intersection of $Z_\alpha$'s is a $Z_\alpha$.
Because $T$ is connected and $x \in T$ we have $T \subset S$.
It suffices to show that $S$ is connected.
If not, then there exists a disjoint union decomposition
$S = B \coprod C$ with $B$ and $C$ open and closed in $S$.
In particular, $B$ and $C$ are closed in $X$, and so quasi-compact by
Lemma \ref{lemma-closed-in-quasi-compact} and assumption (1).
By assumption (2) there exist quasi-compact opens
$U, V \subset X$ with $B = S \cap U$ and $C = S \cap V$ (details omitted).
Then $U \cap V \cap S = \emptyset$.
Hence $\bigcap_\alpha U \cap V \cap Z_\alpha = \emptyset$.
By assumption (3) the intersection $U \cap V$ is quasi-compact.
By Lemma \ref{lemma-intersection-closed-in-quasi-compact}
for some $\alpha \in A$ we have $U \cap V \cap Z_\alpha = \emptyset$.
Hence $Z_\alpha = U \cap Z_\alpha \coprod V \cap Z_\alpha$
is a decomposition into two open pieces,
hence $U \cap Z_\alpha$ and $V \cap Z_\alpha$ are open and closed in $X$.
Thus, if $x \in B$ say, then we see that $S \subset U \cap Z_\alpha$
and we conclude that $C = \emptyset$.
\end{proof}

\begin{lemma}
\label{lemma-connected-component-intersection-compact-Hausdorff}
Let $X$ be a topological space. Assume $X$ is quasi-compact and Hausdorff.
For any $x \in X$ the connected component of $X$ containing
$x$ is the intersection of all open and closed subsets
of $X$ containing $x$.
\end{lemma}

\begin{proof}
Let $T$ be the connected component containing $x$.
Let $S = \bigcap_{\alpha \in A} Z_\alpha$ be the intersection of all
open and closed subsets $Z_\alpha$ of $X$ containing $x$.
Note that $S$ is closed in $X$.
Note that any finite intersection of $Z_\alpha$'s is a $Z_\alpha$.
Because $T$ is connected and $x \in T$ we have $T \subset S$.
It suffices to show that $S$ is connected.
If not, then there exists a disjoint union decomposition
$S = B \coprod C$ with $B$ and $C$ open and closed in $S$.
In particular, $B$ and $C$ are closed in $X$, and so quasi-compact by
Lemma \ref{lemma-closed-in-quasi-compact}.
By Lemma \ref{lemma-quasi-compact-in-Hausdorff}
there exist disjoint opens $U, V \subset X$ with $B \subset U$ and
$C \subset V$. Then $X \setminus U \cup V$ is closed in $X$
hence quasi-compact (Lemma \ref{lemma-closed-in-quasi-compact}).
It follows that $(X \setminus U \cup V) \cap Z_\alpha = \emptyset$
for some $\alpha$ by Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
In other words, $Z_\alpha \subset U \cup V$. Thus
$Z_\alpha = Z_\alpha \cap V \amalg Z_\alpha \cap U$
is a decomposition into two open pieces,
hence $U \cap Z_\alpha$ and $V \cap Z_\alpha$ are open and closed in $X$.
Thus, if $x \in B$ say, then we see that $S \subset U \cap Z_\alpha$
and we conclude that $C = \emptyset$.
\end{proof}

\begin{lemma}
\label{lemma-closed-union-connected-components}
Let $X$ be a topological space.
Assume
\begin{enumerate}
\item $X$ is quasi-compact,
\item $X$ has a basis for the topology consisting of quasi-compact opens, and
\item the intersection of two quasi-compact opens is quasi-compact.
\end{enumerate}
For a subset $T \subset X$ the following are equivalent:
\begin{enumerate}
\item[(a)] $T$ is an intersection of open and closed subsets of $X$, and
\item[(b)] $T$ is closed in $X$ and is a union of connected components of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that (a) implies (b).
Assume (b). Let $x \in X$, $x \not \in T$. Let $x \in C \subset X$
be the connected component of $X$ containing $x$. By
Lemma \ref{lemma-connected-component-intersection}
we see that $C = \bigcap V_\alpha$ is the intersection of all open and
closed subsets $V_\alpha$ of $X$ which contain $C$.
In particular, any pairwise intersection $V_\alpha \cap V_\beta$
occurs as a $V_\alpha$.
As $T$ is a union of connected components
of $X$ we see that $C \cap T = \emptyset$. Hence
$T \cap \bigcap V_\alpha = \emptyset$. Since $T$ is quasi-compact as a
closed subset of a quasi-compact space (see
Lemma \ref{lemma-closed-in-quasi-compact})
we deduce that $T \cap V_\alpha = \emptyset$ for some $\alpha$, see
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
For this $\alpha$ we see that $U_\alpha = X \setminus V_\alpha$
is an open and closed subset of $X$ which contains $T$ and not $x$.
The lemma follows.
\end{proof}

\begin{lemma}
\label{lemma-Noetherian-quasi-compact}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item The space $X$ is quasi-compact.
\item Any subset of $X$ is retrocompact.
\end{enumerate}
\end{lemma}

\begin{proof}
Suppose $X = \bigcup U_i$ is an open covering of $X$ indexed
by the set $I$ which does not have a refinement by a finite
open covering. Choose $i_1, i_2, \ldots $ elements of $I$ inductively
in the following way: If $X \not = U_{i_1} \cup \ldots \cup U_{i_n}$
then choose $i_{n + 1}$ such that $U_{i_{n + 1}}$ is not contained
in $U_{i_1} \cup \ldots \cup U_{i_n}$. Thus we see that
$X \supset (X \setminus U_{i_1}) \supset
(X \setminus U_{i_1} \cup U_{i_2}) \supset \ldots$ is a strictly
decreasing infinite sequence of closed subsets. This contradicts
the fact that $X$ is Noetherian. This proves the first assertion.
The second assertion is now clear since every subset of $X$ is Noetherian by
Lemma \ref{lemma-Noetherian}.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-locally-Noetherian-Noetherian}
A quasi-compact locally Noetherian space is Noetherian.
\end{lemma}

\begin{proof}
The conditions imply immediately that $X$ has a finite covering by
Noetherian subsets, and hence is Noetherian by
Lemma \ref{lemma-finite-union-Noetherian}.
\end{proof}

\begin{lemma}[Alexander subbase theorem]
\label{lemma-subbase-theorem}
Let $X$ be a topological space. Let $\mathcal{B}$ be a subbase for $X$.
If every covering of $X$ by elements of $\mathcal{B}$ has a finite
refinement, then $X$ is quasi-compact.
\end{lemma}

\begin{proof}
Assume there is an open covering of $X$ which does not have a finite
refinement. Using Zorn's lemma we can choose a maximal open covering
$X = \bigcup_{i \in I} U_i$ which does not have a finite refinement
(details omitted).
In other words, if $U \subset X$ is any open which does not occur as
one of the $U_i$, then the covering $X = U \cup \bigcup_{i \in I} U_i$
does have a finite refinement. Let $I' \subset I$ be the set of indices
such that $U_i \in \mathcal{B}$. Then $\bigcup_{i \in I'} U_i \not = X$,
since otherwise we would get a finite refinement covering $X$ by our
assumption on $\mathcal{B}$. Pick $x \in X$,
$x \not \in \bigcup_{i \in I'} U_i$. Pick $i \in I$ with $x \in U_i$.
Pick $V_1, \ldots, V_n \in \mathcal{B}$ such that
$x \in V_1 \cap \ldots \cap V_n \subset U_i$. This is
possible as $\mathcal{B}$ is a subbasis for $X$. Note that
$V_j$ does not occur as a $U_i$. By maximality of the chosen
covering we see that for each $j$ there exist
$i_{j, 1}, \ldots, i_{j, n_j} \in I$ such that
$X = V_j \cup U_{i_{j, 1}} \cup \ldots \cup U_{i_{j, n_j}}$.
Since $V_1 \cap \ldots \cap V_n \subset U_i$ we conclude that
$X = U_i \cup \bigcup U_{i_{j, l}}$ a contradiction.
\end{proof}





\section{Limits of spaces}
\label{section-limits}

\noindent
The category of topological spaces has products. Namely, if $I$ is a set
and for $i \in I$ we are given a topological space $X_i$ then we endow
$\prod_{i \in I} X_i$ with the {\it product topology}. As a basis for
the topology we use sets of the form $\prod U_i$ where $U_i \subset X_i$
is open and $U_i = X_i$ for almost all $i$.

\medskip\noindent
The category of topological spaces has equalizers. Namely, if
$a, b : X \to Y$ are morphisms of topological spaces, then the
equalizer of $a$ and $b$ is the subset $\{x \in X \mid a(x) = b(x)\} \subset X$
endowed with the induced topology.

\begin{lemma}
\label{lemma-limits}
The category of topological spaces has limits.
\end{lemma}

\begin{proof}
This follows from the discussion above and
Categories, Lemma \ref{categories-lemma-limits-products-equalizers}.
\end{proof}

\begin{theorem}[Tychonov]
\label{theorem-tychonov}
A product of quasi-compact spaces is quasi-compact.
\end{theorem}

\begin{proof}
Let $I$ be a set and for $i \in I$ let $X_i$ be a quasi-compact topological
space. Set $X = \prod X_i$. Let $\mathcal{B}$ be the set of subsets of $X$
of the form $U_i \times \prod_{i' \in I, i' \not = i} X_{i'}$ where
$U_i \subset X_i$ is open. By construction this family is a subbasis
for the topology on $X$. By Lemma \ref{lemma-subbase-theorem} it
suffices to show that any covering $X = \bigcup_{j \in J} B_j$
by elements $B_j$ of $\mathcal{B}$ has a finite refinement.
We can decompose $J = \coprod J_i$ so that if $j \in J_i$, then
$B_j = U_j \times \prod_{i' \not = i} X_{i'}$ with $U_j \subset X_i$
open. If $X_i = \bigcup_{j \in J_i} U_j$, then there is a finite
refinement and we conclude that $X = \bigcup_{j \in J} B_j$
has a finite refinement. If this is not the case, the for every $i$
we can choose an point $x_i \in X_i$ which is not in
$\bigcup_{j \in J_i} U_j$. But then the point $x = (x_i)_{i \in I}$
is an element of $X$ not contained in $\bigcup_{j \in J} B_j$, a
contradiction.
\end{proof}

\begin{lemma}
\label{lemma-inverse-limit-quasi-compact}
Let $\mathcal{I}$ be a category and let $i \mapsto X_i$
be a diagram over $\mathcal{I}$ in the category of topological
spaces. If each $X_i$ is quasi-compact and Hausdorff, then
$\lim X_i$ is quasi-compact.
\end{lemma}

\begin{proof}
Recall that $\lim X_i$ is a subspace of $\prod X_i$. By
Theorem \ref{theorem-tychonov} this product is quasi-compact. Hence it
suffices to show that $\lim X_i$ is a closed subspace of $\prod X_i$
(Lemma \ref{lemma-closed-in-quasi-compact}).
If $\varphi : j \to k$ is a morphism of $\mathcal{I}$, then
let $\Gamma_\varphi \subset X_j \times X_k$ denote the graph
of the corresponding continuous map $X_j \to X_k$. By
Lemma \ref{lemma-graph-closed} this graph is closed.
It is clear that $\lim X_i$ is the intersection of the
closed subsets
$$
\Gamma_\varphi \times \prod\nolimits_{l \not = j, k} X_l
\subset \prod X_i
$$
Thus the result follows.
\end{proof}




\section{Constructible sets}
\label{section-constructible}

\begin{definition}
\label{definition-constructible}
Let $X$ be a topological space. Let $E \subset X$ be a subset of $X$.
\begin{enumerate}
\item We say $E$ is {\it constructible}\footnote{In the second edition
of EGA I \cite{EGA1-second} this was called a ``globally constructible''
set and a the terminology ``constructible'' was used for what we call a locally
constructible set.}
in $X$ if $E$ is a finite union
of subsets of the form $U \cap V^c$ where $U, V \subset X$ are open and
retrocompact in $X$.
\item We say $E$ is {\it locally construcible} in $X$ if there exists an open
covering $X = \bigcup V_i$ such that each $E \cap V_i$ is construcible
in $V_i$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-constructible}
The collection of constructible sets is closed under
finite intersections, finite unions and complements.
\end{lemma}

\begin{proof}
Note that if $U_1$, $U_2$ are open and retrocompact in $X$
then so is $U_1 \cup U_2$ because the union of two quasi-compact
subsets of $X$ is quasi-compact. It is also true that
$U_1 \cap U_2$ is retrocompact. Namely, suppose $U \subset X$
is quasi-compact open, then $U_2 \cap U$ is quasi-compact because
$U_2$ is retrocompact in $X$, and then we conclude
$U_1 \cap (U_2 \cap U)$ is quasi-compact because $U_1$ is
retrocompact in $X$. From this it is formal to show that
the complement of a constructible set is constructible,
that finite unions of constructibles are constructible, and
that finite intersections of constructibles are constructible.
\end{proof}

\begin{lemma}
\label{lemma-inverse-images-constructibles}
Let $f : X \to Y$ be a continuous map of topological spaces.
If the inverse image of every retrocompact open subset of $Y$
is retrocompact in $X$, then inverse images of constructible
sets are constructible.
\end{lemma}

\begin{proof}
This is true because $f^{-1}(U \cap V^c) = f^{-1}(U) \cap f^{-1}(V)^c$,
combined with the definition of constructible sets.
\end{proof}

\begin{lemma}
\label{lemma-open-immersion-constructible-inverse-image}
Let $U \subset X$ be open. For a constructible set
$E \subset X$ the intersection $E \cap U$ is constructible
in $U$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap U$ is retrocompact in $U$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset U$ be open and quasi-compact. Then $W$
is open and quasi-compact in $X$. Hence $V \cap W = V \cap U \cap W$
is quasi-compact as $V$ is retrocompact in $X$.
\end{proof}

\begin{lemma}
\label{lemma-collate-construcible}
Let $X$ be a topological space. Let $E \subset X$ be a subset.
Let $X = V_1 \cup \ldots \cup V_m$ be a finite covering by
retrocompact opens.
Then $E$ is constructible in $X$ if and only if $E \cap V_j$
is constructible in $V_j$ for each $j = 1, \ldots, m$.
\end{lemma}

\begin{proof}
If $E$ is constructible in $X$, then by
Lemma \ref{lemma-open-immersion-constructible-inverse-image}
we see that $E \cap V_j$ is construcible in $V_j$ for all $j$.
Conversely, suppose that $E \cap V_j$
is constructible in $V_j$ for each $j = 1, \ldots, m$.
Then $E$ is a finite union of sets of the form
$E' = U' \cap (V_j \setminus V')$ where $U', V'$ are
open and retrocompact subsets of $V_j$. Note that $U'$ and $V'$ are also
open and retrocompact in $X$ (as a composition of quasi-compact
maps is quasi-compact, see
Lemma \ref{lemma-composition-quasi-compact}).
Since $E' = U' \cap (V')^c$ where the complement is in $X$ we win.
\end{proof}

\begin{lemma}
\label{lemma-generic-point-in-constructible}
Let $X$ be a topological space. Suppose that
$Z \subset X$ is irreducible. Let $E \subset X$
be a finite union of locally closed subsets (e.g.\ $E$
is constructible). The following are equivalent
\begin{enumerate}
\item The intersection $E \cap Z$ contains an open
dense subset of $Z$.
\item The intersection $E \cap Z$ is dense in $Z$.
\end{enumerate}
If $Z$ has a generic point $\xi$, then this is
also equivalent to
\begin{enumerate}
\item[(3)] We have $\xi \in E$.
\end{enumerate}
\end{lemma}

\begin{proof}
Write $E = \bigcup U_i \cap Z_i$ as the finite union of
intersections of open sets $U_i$ and closed sets $Z_i$.
Suppose that $E \cap Z$ is dense in $Z$. Note that
the closure of $E \cap Z$ is the union of the closures
of the intersections $U_i \cap Z_i \cap Z$. Hence we
see that $U_i \cap Z_i \cap Z$ is dense in $Z$ for some $i = i_0$.
As $Z$ is closed we have either $Z \cap Z_i = Z$ or
$Z \cap Z_i$ is not dense, hence we conclude $Z \subset Z_{i_0}$.
Then $U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. Because $Z$ is irreducible, it is open dense.
The converse is obvious.

\medskip\noindent
Suppose that $\xi \in Z$ is a generic point. Of course if
(1) $\Leftrightarrow$ (2) holds, then $\xi \in E$. Conversely,
if $\xi \in E$, then $\xi \in U_i \cap Z_i$ for some $i = i_0$.
Clearly this implies $Z \subset Z_{i_0}$ and hence
$U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. We conclude as before.
\end{proof}







\section{Constructible sets and Noetherian spaces}
\label{section-constructible-Noetherian}

\begin{lemma}
\label{lemma-constructible-Noetherian-space}
Let $X$ be a Noetherian topological space.
Constructible sets in $X$ are finite unions
of locally closed subsets of $X$.
\end{lemma}

\begin{proof}
This follows immediately from
Lemma \ref{lemma-Noetherian-quasi-compact}.
\end{proof}

\begin{lemma}
\label{lemma-constructible-map-Noetherian}
Let $f : X \to Y$ be a continuous map of Noetherian topological spaces.
If $E \subset Y$ is constructible in $Y$, then $f^{-1}(E)$ is constructible
in $X$.
\end{lemma}

\begin{proof}
Follows immediately from
Lemma \ref{lemma-constructible-Noetherian-space}
and the definition of a continuous map.
\end{proof}

\begin{lemma}
\label{lemma-characterize-constructible-Noetherian}
Let $X$ be a Noetherian topological space.
Let $E \subset X$ be a subset.
The following are equivalent
\begin{enumerate}
\item $E$ is constructible in $X$, and
\item for every irreducible closed $Z \subset X$ the intersection
$E \cap Z$ either contains a nonempty open of $Z$ or is not dense in $Z$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume $E$ is constructible and $Z \subset X$ irreducible closed.
Then $E \cap Z$ is constructible in $Z$ by
Lemma \ref{lemma-constructible-map-Noetherian}.
Hence $E \cap Z$ is a finite union of nonempty locally closed subsets
$T_i$ of $Z$. Clearly if none of the $T_i$ is open in $Z$, then
$E \cap Z$ is not dense in $Z$. In this way we see that (1) implies (2).

\medskip\noindent
Conversely, assume (2) holds. Consider the set $\mathcal{S}$ of closed
subsets $Y$ of $X$ such that $E \cap Y$ is not constructible in $Y$.
If $\mathcal{S} \not = \emptyset$, then it has a smallest element $Y$
as $X$ is Noetherian.
Let $Y = Y_1 \cup \ldots \cup Y_r$ be the decomposition of $Y$ into its
irreducible components, see
Lemma \ref{lemma-Noetherian}.
If $r > 1$, then each $Y_i \cap E$ is constructible in $Y_i$ and hence
a finite union of locally closed subsets of $Y_i$. Thus $E \cap Y$
is a finite union of locally closed subsets of $Y$ too and we conclude
that $E \cap Y$ is constructible in $Y$ by
Lemma \ref{lemma-constructible-Noetherian-space}.
This is a contradication and so $r = 1$. If $r = 1$, then $Y$ is
irreducible, and by assumption (2) we see that $E \cap Y$ either
(a) contains an open $V$ of $Y$ or (b) is not dense in $Y$.
In case (a) we see, by minimality of $Y$, that $E \cap (Y \setminus V)$
is a finite union of locally closed subsets of $Y \setminus V$. Thus
$E \cap Y$ is a finite union of locally closed subsets of $Y$ and is
constructible by
Lemma \ref{lemma-constructible-Noetherian-space}.
This is a contradication and so we must be in case (b).
In case (b) we see that $E \cap Y = E \cap Y'$ for some proper closed
subset $Y' \subset Y$. By minimality of $Y$ we see that
$E \cap Y'$ is a finite union of locally closed subsets of $Y'$ and
we see that $E \cap Y' = E \cap Y$ is a finite union of locally closed
subsets of $Y$ and is constructible by
Lemma \ref{lemma-constructible-Noetherian-space}.
This contradication finishes the proof of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-construcible-neighbourhood-Noetherian}
Let $X$ be a Noetherian topological space.
Let $x \in X$.
Let $E \subset X$ be constructible in $X$.
The following are equivalent
\begin{enumerate}
\item $E$ is a neighbourhood of $x$, and
\item for every irreducible closed subset $Y$ of $X$ which contains
$x$ the intersection $E \cap Y$ is dense in $Y$.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that (1) implies (2). Assume (2).
Consider the set $\mathcal{S}$ of closed subsets $Y$ of $X$ containing $x$
such that $E \cap Y$ is not a neighbourhood of $x$ in $Y$.
If $\mathcal{S} \not = \emptyset$, then it has a smallest element $Y$
as $X$ is Noetherian.
Let $Y = Y_1 \cup \ldots \cup Y_r$ be the decomposition of $Y$ into its
irreducible components, see
Lemma \ref{lemma-Noetherian}.
If $r > 1$, then each $Y_i \cap E$ is a neighbourhood of $x$ in $Y_i$
by minimality of $Y$. Thus $E \cap Y$ is a neighbourhood of $x$ in $Y$.
This is a contradication and so $r = 1$. If $r = 1$, then $Y$ is
irreducible, and by assumption (2) we see that $E \cap Y$
is dense in $Y$. Thus $E \cap Y$ contains an open $V$ of $Y$, see
Lemma \ref{lemma-characterize-constructible-Noetherian}.
If $x \in V$ then $E \cap Y$ is a neighbourhood of $x$ in $Y$ which
is a contradiction. If $x \not \in V$, then $Y' = Y \setminus V$ is a
proper closed subset of $Y$ containing $x$. By minimality of $Y$
we see that $E \cap Y'$ contains an open neighbourhood $V' \subset Y'$
of $x$ in $Y'$. But then $V' \cup V$ is an open neighbourhood of $x$
in $Y$ contained in $E$, a contradiction.
This contradication finishes the proof of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-characterize-open-Noetherian}
Let $X$ be a Noetherian topological space.
Let $E \subset X$ be a subset.
The following are equivalent
\begin{enumerate}
\item $E$ is open in $X$, and
\item for every irreducible closed subset $Y$ of $X$
the intersection $E \cap Y$ is either empty or
contains a nonempty open of $Y$.
\end{enumerate}
\end{lemma}

\begin{proof}
This follows formally from
Lemmas \ref{lemma-characterize-constructible-Noetherian} and
\ref{lemma-construcible-neighbourhood-Noetherian}.
\end{proof}









\section{Characterizing proper maps}
\label{section-proper}

\noindent
We include a section discussing the notion of a proper map in usual
topology. It turns out that in topology, the notion of being proper
is the same as the notion of being universally closed, in the sense
that any base change is a closed morphism (not just taking products
with spaces). The reason for doing this is that in algebraic geometry
we use this notion of universal closedness as the basis for our
definition of properness.

\begin{lemma}[Tube lemma]
\label{lemma-tube}
Let $X$ and $Y$ be topological spaces.
Let $A \subset X$ and $B \subset Y$ be quasi-compact subsets.
Let $A \times B \subset W \subset X \times Y$ with $W$
open in $X \times Y$. Then there exists opens $A \subset U \subset X$
and $B \subset V \subset Y$ such that $U \times V \subset W$.
\end{lemma}

\begin{proof}
For every $a \in A$ and $b \in B$ there exist opens
$U_{(a, b)}$ of $X$ and $V_{(a, b)}$ of $Y$ such that
$(a, b) \in U_{(a, b)} \times V_{(a, b)} \subset W$.
Fix $b$ and we see there exist a finite number $a_1, \ldots, a_n$
such that $A \subset U_{(a_1, b)} \cup \ldots \cup U_{(a_n, b)}$.
Hence $A \times \{b\} \subset
(U_{(a_1, b)} \cup \ldots \cup U_{(a_n, b)}) \times
(V_{(a_1, b)} \cup \ldots \cup V_{(a_n, b)}) \subset W$.
Thus for every $b \in B$ there exists opens $U_b \subset X$ and
$V_b \subset Y$ such that $A \times \{b\} \subset U_b \times V_b \subset W$.
As above there exist a finite number $b_1, \ldots, b_m$ such
that $B \subset V_{b_1} \cup \ldots \cup V_{b_m}$.
Then we win because
$A \times B \subset
(U_{b_1} \cap \ldots \cap U_{b_m}) \times
(V_{b_1} \cup \ldots \cup V_{b_m})$.
\end{proof}

\noindent
The notation in the following definition may be slightly different
from what you are used to.

\begin{definition}
\label{definition-proper-map}
Let $f : X\to Y$ be a continuous map between topological spaces.
\begin{enumerate}
\item We say that the map $f$ is {\it closed}
iff the image of every closed subset is closed.
\item We say that the map $f$ is {\it proper}\footnote{This is the
terminology used in \cite{Bourbaki}. Usually this is what
is called ``universally closed'' in the literature. Thus our notion
of proper does not involve any separation conditions.} iff
the map $Z \times X\to Z \times Y$ is closed for any topological space
$Z$.
\item We say that the map $f$ is {\it quasi-proper} iff
the inverse image $f^{-1}(V)$ of every quasi-compact $V \subset
Y$ is quasi-compact.
\item We say that $f$ is {\it universally closed} iff
the map $f': Z \times_Y X \to Z$ is closed for any map $g: Z \to Y$.
\end{enumerate}
\end{definition}

\noindent
The following lemma is useful later.

\begin{lemma}
\label{lemma-characterize-quasi-compact}
A topological space $X$ is quasi-compact if and only if the
projection map $Z \times X \to Z$ is closed for
any topological space $Z$.
\end{lemma}

\begin{proof}
(See also remark below.)
If $X$ is not quasi-compact, there exists an open covering
$X = \bigcup_{i \in I} U_i$ such that no finite
number of $U_i$ cover $X$.
Let $Z$ be the subset of the power set $\mathcal{P}(I)$ of $I$
consisting of $I$ and all nonempty finite subsets of $I$.
Define a topology on $Z$ with as a basis for the topology
the following sets:
\begin{enumerate}
\item All subsets of $Z\setminus\{I\}$.
\item The empty set.
\item For every finite subset $K$ of $I$ the set
$U_K := \{J\subset I \mid J \in Z, \ K\subset J \})$.
\end{enumerate}
It is left to the reader to verify this is the basis for a topology.
Consider the subset of $Z \times X$ defined by the formula
$$
M = \{(J, x) \mid J \in Z, \ x \in \bigcap\nolimits_{i \in J} U_i^c)\}
$$
If $(J, x) \not \in M$, then $x \in U_i$ for some $i \in J$.
Hence $U_{\{i\}} \times U_i \subset Z \times X$ is an open
subset containing $(J, x)$ and not intersecting $M$. Hence
$M$ is closed. The projection of $M$ to $Z$ is $Z-\{I\}$
which is not closed. Hence $Z \times X \to Z$ is not closed.

\medskip\noindent
Assume $X$ is quasi-compact. Let $Z$ be a topological space.
Let $M \subset  Z \times X$ be closed. Let $z \in Z$ be a point
which is not in $\text{pr}_1(M)$. By the Tube Lemma \ref{lemma-tube}
there exists an open $U \subset Z$ such that $U \times X$ is
contained in the complement of $M$. Hence $\text{pr}_1(M)$ is closed.
\end{proof}

\begin{remark}
\label{remark-lemma-literature}
Lemma \ref{lemma-characterize-quasi-compact} is a combination of
\cite[I, p. 75, Lemme 1]{Bourbaki} and
\cite[I, p. 76, Corrolaire 1]{Bourbaki}.
\end{remark}

\begin{theorem}
\label{theorem-characterize-proper}
Let $f: X\to Y$ be a continuous map between
topological spaces. The following condition is equivalent.
\begin{enumerate}
\item The map $f$ is quasi-proper and closed.
\item The map $f$ is proper.
\item The map $f$ is universally closed.
\item The map $f$ is closed and $f^{-1}(y)$ is quasi-compact for any
$y\in Y$.
\end{enumerate}
\end{theorem}

\begin{proof}
(See also the remark below.)
If the map $f$ satisfies (1), it automatically satisfies (4) because
any single point is quasi-compact.

\medskip\noindent
Assume map $f$ satisfies (4).
We  will prove it is universally closed, i.e., (3) holds.
Let $g : Z \to Y$ be a continuous map of topological spaces
and consider the diagram
$$
\xymatrix{
Z \times_Y X \ar[r]_{g'} \ar[d]_{f'} & X \ar[d]^f \\
Z \ar[r]^g & Y
}
$$
During the proof we will use that $Z \times_Y X \to Z \times X$
is a homeomorphism onto its image, i.e., that we may identify
$Z \times_Y X$ with the corresponding subset of $Z \times X$ with
the induced topology.
The image of $f' : X \times_Y Z \to Z$ is
$\text{Im}(f') = \{z : g(z) \in f(X)\}$.
Because $f(X)$ is closed, we see that
$\text{Im}(f')$ is a closed subspace of $Z$.
Consider a closed subset $P \subset X \times_Y Z$.
Let $z \in Z$, $z \not \in f'(P)$.
If $z \not \in \text{Im}(f')$, then $Z \setminus \text{Im}(f')$
is an open neighbourhood which avoids $f'(P)$.
If $z$ is in $\text{Im}(f')$
then $(f')^{-1}\{z\} = \{z\} \times f^{-1}\{g(z)\}$
and $f^{-1}\{g(z)\}$
is quasi-compact by assumption. Because $P$ is a closed
subset of $Z \times_Y X$, we have a closed $P'$ of $Z \times X$ such
that $P = P' \cap Z \times_Y X$.
Since $(f')^{-1}\{z\}$ is a subset of $P^c = P'^c \cup (Z \times_Y X)^c$,
we see that $(f')^{-1}\{z\}$ is disjoint from $(Z \times_Y X)^c$.
Hence $(f')^{-1}\{z\}$ is contained in $P'^c$.
We may apply the Tube Lemma \ref{lemma-tube} to
$(f')^{-1}\{z\} = \{z\} \times f^{-1}\{g(z)\}
\subset (P')^c \subset Z \times X$.
This gives $U \times V$ containing
$(f')^{-1}\{z\}$ where $U$ and $V$ are open sets in $X$ and $Z$
respectively and $U \times V$ has empty intersection with $P'$. Hence
$z$ is contained in $V$ and $V$ has empty intersection with the image
of $P$. As a result, the map $f$ is universally closed.

\medskip\noindent
The implication (3) $\Rightarrow$ (2) is trivial.
Namely, given any topological space $Z$ consider the projection
morphism $g : Z \times Y \to Y$. Then it is easy to see
that $f'$ is the map $Z \times X \to Z \times Y$, in other
words that $(Z \times Y) \times_Y X = Z \times X$. (This identification
is a purely categorical property having nothing to do with
topological spaces per se.)

\medskip\noindent
Assume $f$ satisfies (2). We will prove it satisfies (1).
Note that $f$ is closed as $f$ can be identified with the map
$\{pt\} \times X \to \{pt\} \times Y$ which is assumed closed.
Choose any quasi-compact subset $K \subset Y$.
Let $Z$ be any topological space.
Because $Z \times X \to Z \times Y$ is closed
we see the map $Z \times f^{-1}(K) \to Z \times K$
is closed (if $T$ is closed in $Z \times f^{-1}(K)$, write
$T = Z \times f^{-1}(K) \cap T'$ for some closed
$T' \subset Z \times X$). Because $K$ is quasi-compact,
$K \times Z\to Z$ is closed by Lemma \ref{lemma-characterize-quasi-compact}.
Hence the composition $Z \times f^{-1}(K)\to Z \times K \to Z$
is closed and therefore $f^{-1}(K)$ must be quasi-compact
by Lemma \ref{lemma-characterize-quasi-compact} again.
\end{proof}

\begin{remark}
\label{remark-proof-literature}
Here are some references to the literature.
In \cite[I, p. 75, Theorem 1]{Bourbaki} you can find:
(2) $\Leftrightarrow$ (4).
In \cite[I, p. 77, Proposition 6]{Bourbaki} you can find:
(2) $\Rightarrow$ (1).
Of course, trivially we have (1) $\Rightarrow$ (4).
Thus (1), (2) and (4) are equivalent.
Fan Zhou claimed and proved that (3) and (4) are equivalent;
let me know if you find a reference in the literature.
\end{remark}

\begin{lemma}
\label{lemma-closed-map}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $X$ is quasi-compact and $Y$ is Hausdorff, then $f$ is proper.
\end{lemma}

\begin{proof}
Since every point of $Y$ is closed, we see from
Lemma \ref{lemma-closed-in-quasi-compact}
that the closed subset $f^{-1}(y)$ of $X$ is quasi-compact for all $y \in Y$.
Thus, by Theorem \ref{theorem-characterize-proper}
it suffices to show that $f$ is closed.
If $E \subset X$ is closed, then it is quasi-compact
(Lemma \ref{lemma-closed-in-quasi-compact}),
hence $f(E) \subset Y$ is quasi-compact
(Lemma \ref{lemma-image-quasi-compact}),
hence $f(E)$ is closed in $Y$
(Lemma \ref{lemma-quasi-compact-in-Hausdorff}).
\end{proof}

\begin{lemma}
\label{lemma-bijective-map}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $f$ is bijective, $X$ is quasi-compact, and $Y$ is Hausdorff,
then $f$ is a homeomorphism.
\end{lemma}

\begin{proof}
This follows immediately from Lemma \ref{lemma-closed-map}
which tells us that $f$ is closed, i.e., $f^{-1}$ is
continuous.
\end{proof}













\section{Jacobson spaces}
\label{section-space-jacobson}

\begin{definition}
\label{definition-space-jacobson}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
We say that $X$ is {\it Jacobson} if every
closed subset $Z \subset X$ is the closure
of $Z \cap X_0$.
\end{definition}

\noindent
Let $X$ be a Jacobson space and let $X_0$ be the set
of closed points of $X$ with the induced topology.
Clearly, the definition implies that the morphism
$X_0 \to X$ induces a bijection between the closed
subsets of $X_0$ and the closed subsets of $X$.
Thus many properties of $X$ are inherted by $X_0$.
For example, the Krull dimensions of $X$ and $X_0$
are the same.

\begin{lemma}
\label{lemma-jacobson-check-irreducible-closed}
Let $X$ be a topological space. Let $X_0$ be the set
of closed points of $X$.
Suppose that for every irreducible closed subset $Z \subset X$
the intersection $X_0 \cap Z$ is dense in $Z$.
Then $X$ is Jacobson.
\end{lemma}

\begin{proof}
Let $Z \subset X$ be closed. According to Lemma \ref{lemma-irreducible}
we have $Z = \bigcup Z_i$ with $Z_i$ irreducible and closed.
Thus is $X_0 \cap Z_i$ is dense in each $Z_i$, then $X_0 \cap Z$
is dense in $Z$.
\end{proof}

\begin{lemma}
\label{lemma-non-jacobson-Noetherian-characterize}
Let $X$ be a sober, Noetherian topological space.
If $X$ is not Jacobson, then there exists a non-closed point
$\xi \in X$ such that $\{\xi\}$ is locally closed.
\end{lemma}

\begin{proof}
Assume $X$ is sober, Noetherian and not Jacobson.
By Lemma \ref{lemma-jacobson-check-irreducible-closed} there exists
an irreducible closed subset $Z \subset X$ which is not the closure
of its closed points. Since $X$ is Noetherian we may assume $Z$ is
minimal with this property. Let $\xi \in Z$ be the unique generic point
(here we use $X$ is sober). Note that the closed points are dense in
$\overline{\{z\}}$ for any $z \in Z$, $z \not = \xi$ by minimality
of $Z$. Hence the closure of the set of closed points of $Z$ is
a closed subset containing all $z \in Z$, $z \not = \xi$. Hence
$\{\xi\}$ is locally closed as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Then $X$ is Jacobson if and only if each $U_i$ is Jacobson.
Moreover, in this case $X_0 = \bigcup U_{i, 0}$.
\end{lemma}

\begin{proof}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
Let $U_{i, 0}$ be the set of closed points of
$U_i$. Then $X_0 \cap U_i \subset U_{i, 0}$
but equality may not hold in general.

\medskip\noindent
First, assume that each $U_i$ is Jacobson.
We claim that in this case $X_0 \cap U_i = U_{i, 0}$.
Namely, suppose that $x \in U_{i, 0}$, i.e., $x$ is closed in
$U_i$. Let $\overline{\{x\}}$ be the closure
in $X$. Consider $\overline{\{x\}} \cap U_j$.
If $x \not \in U_j$, then $\overline{\{x\}} \cap U_j = \emptyset$.
If $x \in U_j$, then $U_i \cap U_j \subset U_j$
is an open subset of $U_j$ containing $x$.
Let $T' = U_j \setminus U_i \cap U_j$ and
$T = \{x\} \coprod T'$. Then $T$, $T'$
are closed subsets of $U_j$ and $T$ contains
$x$. As $U_j$ is Jacobson we see that the closed points of
$U_j$ are dense in $T$. Because $T = \{x\} \coprod T'$
this can only be the case if $x$ is closed in $U_j$.
Hence $\overline{\{x\}} \cap U_j = \{x\}$. We conlude
that $\overline{\{x\}} = \{ x \}$ as desired.

\medskip\noindent
Let $Z \subset X$ be a closed subset (still
assuming each $U_i$ is Jacobson).
Since now we know that $X_0 \cap Z  \cap U_i
= U_{i, 0} \cap Z$ are dense in $Z \cap U_i$
it follows immediately that $X_0 \cap Z$ is
dense in $Z$.

\medskip\noindent
Conversely, assume that $X$ is Jacobson.
Let $Z \subset U_i$ be closed. Then
$X_0 \cap \overline{Z}$ is dense in $\overline{Z}$.
Hence also $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. As $X_0 \cap U_i
\subset U_{i, 0}$ we see that
$U_{i, 0} \cap Z$ is dense in $Z$.
Thus $U_i$ is Jacobson as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-inherited}
Let $X$ be Jacobson. The following types of subsets $T \subset X$
are Jacobson:
\begin{enumerate}
\item Open subspaces.
\item Closed subspaces.
\item Locally closed subspaces.
\item Finite unions of locally closed subspaces.
\item Constructible sets.
\item Any subset $T \subset X$ which locally on $X$
is a finite union of locally closed subsets.
\end{enumerate}
In each of these cases closed points of $T$ are
closed in $X$.
\end{lemma}

\begin{proof}
Let $X_0$ be the set of closed points of $X$. For any subset
$T \subset X$ we let $(*)$ denote the property:
\begin{list}{$(*)$}{}
\item For every closed subset $Z \subset T$ the set $Z\cap X_0$
is dense in $Z$.
\end{list}
Note that always $X_0 \cap T \subset T_0$. Hence property $(*)$
implies that $T$ is Jacobson. In addition it clearly implies
that every closed point of $T$ is closed in $X$.

\medskip\noindent
Let $U \subset X$ be an open subset.
Suppose $Z \subset U$ is closed. Then $X_0 \cap \overline{Z}$ is
dense in $\overline{Z}$. Hence $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. Thus $(*)$ holds.

\medskip\noindent
Let $Z \subset X$ be a closed subset.
Since closed subsets of $Z$ are the same as closed subsets of
$X$ contained in $Z$ property $(*)$ is immediate.

\medskip\noindent
Let $T \subset X$ be locally closed. Write $T = U \cap Z$
for some open $U \cap X$ and some closed $Z \subset X$.
Note that closed subsets of $T$ are the same thing as
closed subsets of $U$ which happen to be contained in $Z$.
Hence $(*)$ holds for $T$ because we proved it for $U$ above.

\medskip\noindent
Suppose $T_i \subset X$, $i = 1, \ldots, n$ are locally closed subsets. Let
$T = T_1 \cup \ldots \cup T_n$. Suppose $Z \subset T$ is closed.
Then $Z_i = Z\cap T_i$ is closed in $T_i$. By $(*)$ for $T_i$ we see that
$Z_i \cap X_0$ is dense in $Z_i$. Clearly this implies that
$X_0 \cap Z$ is dense in $Z$, and property $(*)$ holds for
$T$.

\medskip\noindent
The case of constructible subsets is subsumed in the case
of finite unions of locally closed subsets, see Definition
\ref{definition-constructible}.

\medskip\noindent
The condition of the last assertion means that there exists
an open covering $X = \bigcup U_i$ such that each $T \cap U_i$
is a finite union of locally closed subsets of $U_i$. We conclude
that $T$ is Jacobson by Lemma \ref{lemma-jacobson-local} and the
case of a finite union of locally closed subsets dealt with above.
It is formal to deduce $(*)$ for $T$ from $(*)$ for all the inclusions
$T \cap U_i \subset U_i$ and the assertions $X_0 = \bigcup U_{i, 0}$
and $T_0 = \bigcup (T\cap U_i)_0$ from Lemma \ref{lemma-jacobson-local}.
\end{proof}

\begin{lemma}
\label{lemma-finite-jacobson}
A finite Kolmogorov Jacobson space is discrete.
\end{lemma}

\begin{proof}
By induction on the number of points. The lemma holds if the space
is empty. If $X$ is a non-empty finite Kolmogorov space, choose a
closed point $x \in X$, see
Lemma \ref{lemma-quasi-compact-closed-point}. Then $U = X \setminus \{x\}$
is a finite Jacobson space, see Lemma \ref{lemma-jacobson-inherited}. By
induction $U$ is a finite discrete space, hence all its points are closed.
By Lemma \ref{lemma-jacobson-inherited} all the points of $U$ are also closed
in $X$ and we win.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-constructible}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{constructible subsets of } X\}
\leftrightarrow
\{\text{constructible subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subset of retrocompact open subsets, as well as complements
of these.
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-locally-closed}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{finite unions loc.\ closed subsets of } X\}
\leftrightarrow
\{\text{finite unions loc.\ closed subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subsets of locally closed, of open and of closed subsets.
\end{lemma}

\begin{proof}
Obvious from Lemma \ref{lemma-jacobson-inherited} above.
\end{proof}


















\section{Specialization}
\label{section-specialization}

\begin{definition}
\label{definition-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item If $x, x' \in X$ then we say $x$ is a {\it specialization} of $x'$,
or $x'$ is a {\it generalization} of $x$ if $x \in \overline{\{x'\}}$.
Notation: $x' \leadsto x$.
\item A subset $T \subset X$ is {\it stable under specialization}
if for all $x' \in T$ and every specialization $x' \leadsto x$ we have
$x \in T$.
\item A subset $T \subset X$ is {\it stable under generalization}
if for all $x \in T$ and every generalization $x'$ of $x$ we have
$x' \in T$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-open-closed-specialization}
Let $X$ be a toplogical space.
\begin{enumerate}
\item Any closed subset of $X$ is stable under specialization.
\item Any open subset of $X$ is stable under generalization.
\item A subset $T \subset X$ is stable under specialization
if and only if
the complement $T^c$ is stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-lift-specializations}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item We say that {\it specializations lift along $f$} or that $f$ is
{\it specializing} if given $y' \leadsto y$ in $Y$ and any $x'\in X$ with
$f(x') = y'$ there exists a specialization $x' \leadsto x$ of $x'$ in $X$ such
that $f(x) = y$.
\item We say that {\it generalizations lift along $f$} or that $f$ is
{\it generalizing} if given $y' \leadsto y$ in $Y$ and any $x\in X$ with
$f(x) = y$ there exists a generalization $x' \leadsto x$ of $x$ in $X$ such
that $f(x') = y'$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-lift-specialization-composition}
Suppose $f : X \to Y$ and $g : Y \to Z$ are continuous maps
of topological spaces. If specializations lift along both $f$ and $g$
then specializations lift along $g \circ f$. Similarly for
``generalizations lift along''.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-lift-specializations-images}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If specializations lift along $f$, and if $T \subset X$
is stable under specialization, then $f(T) \subset Y$ is
stable under specialization.
\item If generalizations lift along $f$, and if $T \subset X$
is stable under generalization, then $f(T) \subset Y$ is
stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-open-map-specialization}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $f$ is closed then specializations lift along $f$.
\item If $f$ is open, $X$ is a Noetherian topological space,
each irreducible closed subset of $X$ has a generic point,
and $Y$ is Kolmogorov then generalizations lift along $f$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume $f$ is closed. Let $y' \leadsto y$ in $Y$ and any $x'\in X$ with
$f(x') = y'$ be given. Consider the closed subset $T = \overline{\{x'\}}$
of $X$. Then $f(T) \subset Y$ is a closed subset, and $y' \in f(T)$.
Hence also $y \in f(T)$. Hence $y = f(x)$ with $x \in T$, i.e.,
$x' \leadsto x$.

\medskip\noindent
Assume $f$ is open, $X$ Noetherian, every irreducible closed subset of $X$
has a generic point, and $Y$ is Kolmogorov.
Let $y' \leadsto y$ in $Y$ and any $x \in X$ with
$f(x) = y$ be given. Consider $T = f^{-1}(\{y'\}) \subset X$.
Take an open neighbourhood $x \in U \subset X$ of $x$.
Then $f(U) \subset Y$ is open and $y \in f(U)$. Hence also $y' \in f(U)$.
In other words, $T \cap U \not = \emptyset$. This proves that
$x \in \overline{T}$. Since $X$ is Noetherian, $T$ is Noetherian
(Lemma \ref{lemma-Noetherian}).
Hence it has a decomposition $T = T_1 \cup \ldots \cup T_n$ into irreducible
components. Then correspondingly
$\overline{T} = \overline{T_1} \cup \ldots \cup \overline{T_n}$.
By the above $x \in \overline{T_i}$ for some $i$. By assumption
there exists a generic point $x' \in \overline{T_i}$, and
we see that $x' \leadsto x$. As $x' \in \overline{T}$ we see that
$f(x') \in \overline{\{y'\}}$. Note that
$f(\overline{T_i}) = f(\overline{\{x'\}}) \subset \overline{\{f(x')\}}$.
If $f(x') \not = y'$, then since $Y$ is Kolmogorov $f(x')$ is not a generic
point of the irreducible closed subset $\overline{\{y'\}}$ and the inclusion
$\overline{\{f(x')\}} \subset \overline{\{y'\}}$
is strict, i.e., $y' \not \in f(\overline{T_i})$.
This contradicts the fact that $f(T_i) = \{y'\}$.
Hence $f(x') = y'$ and we win.
\end{proof}

\begin{lemma}
\label{lemma-quotient-kolmogorov}
Suppose that $s, t : R \to U$ and $\pi : U \to X$ are continuous maps
of topological spaces such that
\begin{enumerate}
\item $\pi$ is open,
\item $U$ is sober,
\item $s, t$ have finite fibres,
\item generalizations lift along $s, t$,
\item $(t, s)(R) \subset U \times U$ is an equivalence relation on $U$ and
$X$ is the quotient of $U$ by this equivalence relation (as a set).
\end{enumerate}
Then $X$ is Kolmogorov.
\end{lemma}

\begin{proof}
Properties (3) and (5) imply that a point $x$ corresponds to an
finite equivalence class $\{u_1, \ldots, u_n\} \subset U$ of the equivalence
relation. Suppose that $x' \in X$ is a second point corresponding to
the equivalence class $\{u'_1, \ldots, u'_m\} \subset U$.
Suppose that $u_i \leadsto u'_j$ for some $i, j$. Then for any
$r' \in R$ with $s(r') = u'_j$ by (4) we can find $r \leadsto r'$
with $s(r) = u_i$. Hence $t(t) \leadsto t(r')$. Since
$\{u'_1, \ldots, u'_m\} = t(s^{-1}(\{u'_j\}))$ we conclude that
every element of $\{u'_1, \ldots, u'_m\}$ is the specialization of
an element of $\{u_1, \ldots, u_n\}$.
Thus $\overline{\{u_1\}} \cup \ldots \cup \overline{\{u_n\}}$ is
a union of equivalence classes, hence of the form $\pi^{-1}(Z)$
for some subset $Z \subset X$. By (1) we see that $Z$ is closed in $X$
and in fact $Z = \overline{\{x\}}$ because $\pi(\overline{\{u_i\}})
\subset \overline{\{x\}}$ for each $i$. In other words, $x \leadsto x'$
if and only if some lift of $x$ in $U$ specializes to some lift of
$x'$ in $U$, if and only if every lift of $x'$ in $U$ is a specialization
of some lift of $x$ in $U$.

\medskip\noindent
Suppose that both $x \leadsto x'$ and $x' \leadsto x$. Say $x$ corresponds
to $\{u_1, \ldots, u_n\}$ and $x'$ corresponds to $\{u'_1, \ldots, u'_m\}$
as above. Then, by the resuls of the preceding paragraph, we can find a
sequence
$$
\ldots \leadsto u'_{j_3} \leadsto u_{i_3} \leadsto u'_{j_2} \leadsto
u_{i_2} \leadsto u'_{j_1} \leadsto u_{i_1}
$$
which must repeat, hence by (2) we conclude that
$\{u_1, \ldots, u_n\} = \{u'_1, \ldots, u'_m\}$, i.e., $x = x'$.
Thus $X$ is Kolmogorov.
\end{proof}


\begin{lemma}
\label{lemma-dimension-specializations-lift}
Let $f : X \to Y$ be a morphism of topological spaces.
Suppose that $Y$ is a sober topological space, and $f$ is surjective.
If either specializations or generalizations lift along $f$, then
$\dim(X) \geq \dim(Y)$.
\end{lemma}

\begin{proof}
Assume specializations lift along $f$.
Let $Z_0 \subset Z_1 \subset \ldots Z_e \subset Y$ be a chain
of irreducible closed subsets of $X$. Let $\xi_e \in X$ be a point
mapping to the generic point of $Z_e$. By assumption there
exists a specialization
$\xi_e \leadsto \xi_{e - 1}$ in $X$ such that $\xi_{e - 1}$ maps to
the generic point of $Z_{e - 1}$. Continuing in this manner we find
a sequence of specializations
$$
\xi_e \leadsto \xi_{e - 1} \leadsto \ldots \leadsto \xi_0
$$
with $\xi_i$ mapping to the generic point of $Z_i$.
This clearly implies the sequence of irreducible closed
subsets
$$
\overline{\{\xi_0\}} \subset
\overline{\{\xi_1\}} \subset \ldots
\overline{\{\xi_e\}}
$$
is a chain of length $e$ in $X$.
The case when generalizations lift along $f$ is similar.
\end{proof}

\begin{lemma}
\label{lemma-characterize-closed-Noetherian}
Let $X$ be a Noetherian sober topological space.
Let $E \subset X$ be a subset of $X$.
\begin{enumerate}
\item If $E$ is constructible and stable under specialization, then
$E$ is closed.
\item If $E$ is constructible and stable under generalization, then
$E$ is open.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $E$ be constructible and stable under generalization.
Let $Y \subset X$ be an irreducible closed subset with generic point
$\xi \in Y$. If $E \cap Y$ is nonempty, then it contains $\xi$ (by
stability under generalization) and hence is dense in $Y$, hence it
contains a nonempty open of $Y$, see
Lemma \ref{lemma-characterize-constructible-Noetherian}.
Thus $E$ is open by
Lemma \ref{lemma-characterize-open-Noetherian}.
This proves (2). To prove (1) apply (2) to the complement of $E$ in $X$.
\end{proof}









\section{Dimension functions}
\label{section-dimension-function}

\noindent
It scarcely makes sense to consider dimension functions unless the space
considered is sober (Definition \ref{definition-generic-point}). Thus the
definition below can be improved by considering the sober topological space
associated to $X$. Since the underlying topological space of a scheme
is sober we do not bother with this improvement.

\begin{definition}
\label{definition-dimension-function}
Let $X$ be a topological space.
\begin{enumerate}
\item  Let $x, y \in X$, $x \not = y$. Suppose $x \leadsto y$, that
is $y$ is a specialization of $x$.
We say $y$ is an {\it immediate specialization}
of $x$ if there is no
$z \in X \setminus \{x, y\}$ with $x \leadsto z$ and $z \leadsto y$.
\item A map $\delta : X \to \mathbf{Z}$ is called a
{\it dimension function}\footnote{This is likely nonstandard
notation. This notion is usually introduced only for (locally) Noetherian
schemes, in which case condition (a) is implied by (b).} if
\begin{enumerate}
\item whenever $x \leadsto y$ and $x \not = y$
we have $\delta(x) > \delta(y)$, and
\item for every immediate specialization $x \leadsto y$ in $X$
we have $\delta(x) = \delta(y) + 1$.
\end{enumerate}
\end{enumerate}
\end{definition}

\noindent
It is clear that if $\delta$ is a dimension function, then so is
$\delta + t$ for any $t \in \mathbf{Z}$. Here is a fun lemma.

\begin{lemma}
\label{lemma-dimension-function-catenary}
Let $X$ be a topological space. If $X$ is sober and has a dimension
function, then $X$ is catenary. Moreover, for any $x \leadsto y$
we have
$$
\delta(x) - \delta(y) =
\text{codim}\left(\overline{\{y\}}, \ \overline{\{x\}}\right).
$$
\end{lemma}

\begin{proof}
Suppose $Y \subset Y' \subset X$ are irreducible closed subsets.
Let $\xi \in Y$, $\xi' \in Y'$ be their generic points.
Then we see immediately from the definitions that
$\text{codim}(Y, Y') \leq \delta(\xi) - \delta(\xi') < \infty$.
In fact the first inequality is an equality. Namely, suppose
$$
Y = Y_0 \subset Y_1 \subset \ldots \subset Y_e = Y'
$$
is any maximal chain of irreducible closed subsets. Let
$\xi_i \in Y_i$ denote the generic point. Then we see that
$\xi_i \leadsto \xi_{i + 1}$ is an immediate specialization.
Hence we see that $e = \delta(\xi) - \delta(\xi')$ as desired.
This also proves the last statement of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-dimension-function-unique}
Let $X$ be a topological space.
Let $\delta$, $\delta'$ be two dimension functions on $X$.
If $X$ is locally Noetherian and sober then $\delta - \delta'$ is
locally constant on $X$.
\end{lemma}

\begin{proof}
Let $x \in X$ be a point. We will show that $\delta - \delta'$ is
constant in a neighbourhood of $x$.
We may replace $X$ by an open neighbourhood
of $x$ in $X$ which is Noetherian. Hence we may assume $X$ is
Noetherian and sober.
Let $Z_1, \ldots, Z_r$ be the irreducible
components of $X$ passing through $x$. (There are finitely many as
$X$ is Noetherian, see Lemma \ref{lemma-Noetherian}.)
Let $\xi_i \in Z_i$ be the generic point.
Note $Z_1 \cup \ldots \cup Z_r$ is a neighbourhood of $x$ in $X$
(not necessarily closed). We claim that $\delta - \delta'$ is
constant on $Z_1 \cup \ldots \cup Z_r$. Namely, if $y \in Z_i$,
then
$$
\delta(x) - \delta(y) = \delta(x) - \delta(\xi_i) + \delta(\xi_i) - \delta(y)
= - \text{codim}(\overline{\{x\}}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_i)
$$
by Lemma \ref{lemma-dimension-function-catenary}.
Similarly for $\delta'$. Whence the result.
\end{proof}

\begin{lemma}
\label{lemma-locally-dimension-function}
Let $X$ be locally Noetherian, sober and catenary.
Then any point has an open neighbourhood
$U \subset X$ which has a dimension function.
\end{lemma}

\begin{proof}
We will use repeatedly
that an open subspace of a catenary space is catenary, see
Lemma \ref{lemma-catenary} and that a Noetherian topological space
has finitely many irreducible components, see Lemma \ref{lemma-Noetherian}.
In the proof of Lemma \ref{lemma-dimension-function-unique} we saw how to
construct such a function. Namely, we first replace $X$ by a Noetherian
open neighbourhood of $x$. Next, we let $Z_1, \ldots, Z_r \subset X$
be the irreducible components of $X$. Let
$$
Z_i \cap Z_j = \bigcup Z_{ijk}
$$
be the decomposition into irreducible components. We replace
$X$ by
$$
X \setminus \left(
\bigcup\nolimits_{x \not \in Z_i} Z_i
\cup
\bigcup\nolimits_{x \not \in Z_{ijk}} Z_{ijk}
\right)
$$
so that we may assume $x \in Z_i$ for all $i$ and
$x \in Z_{ijk}$ for all $i, j, k$. For $y \in X$ choose any
$i$ such that $y \in Z_i$ and set
$$
\delta(y) = - \text{codim}(\overline{\{x\}}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_i).
$$
We claim this is a dimension function. First we show that it
is well defined, i.e., independent of the choice of $i$.
Namely, suppose that $y \in Z_{ijk}$ for some $i, j, k$.
Then we have (using Lemma \ref{lemma-catenary-in-codimension})
\begin{align*}
\delta(y) & =
- \text{codim}(\overline{\{x\}}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_i) \\
& =
- \text{codim}(\overline{\{x\}}, Z_{ijk})
- \text{codim}(Z_{ijk}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_{ijk})
+ \text{codim}(Z_{ijk}, Z_i) \\
& =
- \text{codim}(\overline{\{x\}}, Z_{ijk})
+ \text{codim}(\overline{\{y\}}, Z_{ijk})
\end{align*}
which is symmetric in $i$ and $j$.
We omit the proof that it is a dimension function.
\end{proof}

\begin{remark}
\label{remark-obstruction-to-dimension-function}
Combining Lemmas \ref{lemma-dimension-function-unique} and
\ref{lemma-locally-dimension-function} we see that on a catenary,
locally Noetherian, sober topological space the obstruction to
having a dimension function is an element of
$H^1(X, \mathbf{Z})$.
\end{remark}



\section{Nowhere dense sets}
\label{section-nowhere-dense}

\begin{definition}
\label{definition-nowhere-dense}
Let $X$ be a topological space.
\begin{enumerate}
\item Given a subset $T \subset X$ the {\it interior} of $T$ is the
largest open subset of $X$ contained in $T$.
\item A subset $T \subset X$ is called {\it nowhere dense} if the closure of
$T$ has empty interior.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-nowhere-dense}
Let $X$ be a topological space. The union of a finite number of nowhere
dense sets is a nowhere dense set.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-image-nowhere-dense-open}
Let $X$ be a topological space.
Let $U \subset X$ be an open.
Let $T \subset U$ be a subset.
If $T$ is nowhere dense in $U$, then $T$ is nowhere dense in $X$.
\end{lemma}

\begin{proof}
Assume $T$ is nowhere dense in $U$.
Suppose that $x \in X$ is an interior point of the closure
$\overline{T}$ of $T$ in $X$. Say $x \in V \subset \overline{T}$
with $V \subset X$ open in $X$. Note that $\overline{T} \cap U$ is
the closure of $T$ in $U$. Hence the interior of $\overline{T} \cap U$
being empty implies $V \cap U = \emptyset$. Thus $x$ cannot be in the
closure of $U$, a fortiori cannot be in the closure of $T$, a contradiction.
\end{proof}

\begin{lemma}
\label{lemma-nowhere-dense-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Let $T \subset X$ be a subset.
If $T \cap U_i$ is nowhere dense in $U_i$ for all $i$,
then $T$ is nowhere dense in $X$.
\end{lemma}

\begin{proof}
Omitted. (Hint: closure commutes with intersecting with opens.)
\end{proof}

\begin{lemma}
\label{lemma-closed-image-nowhere-dense}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $T \subset X$ be a subset.
If $f$ identifies $X$ with a closed subset of $Y$
and $T$ is nowhere dense in $X$, then also $f(T)$ is nowhere dense in $Y$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-open-inverse-image-closed-nowhere-dense}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $T \subset Y$ be a subset.
If $f$ is open and $T$ is a closed nowhere dense subset of $Y$,
then also $f^{-1}(T)$ is a closed nowhere dense subset of $X$.
If $f$ is surjective and open, then
$T$ is closed nowhere dense if and only
if $f^{-1}(T)$ is closed nowhere dense.
\end{lemma}

\begin{proof}
Omitted. (Hint: In the first case the interior of $f^{-1}(T)$
maps into the interior of $T$, and in the second case the interior of
$f^{-1}(T)$ maps onto the interior of $T$.)
\end{proof}






\section{Profinite spaces}
\label{section-profinite}

\noindent
Here is the definition.

\begin{definition}
\label{definition-profinite}
A topological space is {\it profinite} if it is homeomorphic to a limit
of a diagram of finite discrete spaces.
\end{definition}

\noindent
This is not the most convenient characterization of a profinite space.

\begin{lemma}
\label{lemma-profinite}
Let $X$ be a topological space.
The following are equivalent
\begin{enumerate}
\item $X$ is a profinite space, and
\item $X$ is Hausdorff, quasi-compact, and totally disconnected.
\end{enumerate}
If this is true, then $X$ is a cofiltered limit of finite discrete
spaces.
\end{lemma}

\begin{proof}
Assume (1). Choose a diagram $i \mapsto X_i$ of finite discrete spaces
such that $X = \lim X_i$. As each $X_i$ is Hausdorff and quasi-compact we find
that $X$ is quasi-compact by Lemma \ref{lemma-inverse-limit-quasi-compact}.
If $x, x' \in X$ are distinct points, then $x$ and $x'$ map to
distinct points in some $X_i$. Hence $x$ and $x'$ have disjoint
open neighbourhoods, i.e., $X$ is Hausdorff. In exactly the same way
we see that $X$ is totally disconnected.

\medskip\noindent
Assume (2). Let $\mathcal{I}$ be the set of finite disjoint union
decompositions $X = \coprod_{i \in I} U_i$ with $U_i$ open (and closed).
For each $I \in \mathcal{I}$ there is a continuous map
$X \to I$ sending a point of $U_i$ to $i$. We define a partial
ordering: $I \leq I'$ for $I, I' \in \mathcal{I}$ if and only
if the covering correspnding to $I'$ refines the covering corresponding
to $I$. In this case we obtain a canonical map $I' \to I$. In other
words we obtain an inverse system of finite discrete spaces over $\mathcal{I}$.
The maps $X \to I$ fit together and we obtain a continuous map
$$
X \longrightarrow \lim_{I \in \mathcal{I}} I
$$
We claim this map is a homeomorphism, which finishes the proof.
(The final assertion follows too as the partially ordered set
$\mathcal{I}$ is directed: given two disjoint union decompositions
of $X$ we can find a third refining either.)
Namely, the map is injective as $X$ is totally disconnected
and hence $\{x\}$ is the intersection of all open and closed subsets
of $X$ containing $x$
(Lemma \ref{lemma-connected-component-intersection-compact-Hausdorff}),
the map is surjective by
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
By Lemma \ref{lemma-bijective-map} the map is a homeomorphism.
\end{proof}

\begin{lemma}
\label{lemma-profinite-refine-open-covering}
Let $X$ be a profinite space. Every open covering of $X$ has a refinement
by a finite covering $X = \coprod U_i$ with $U_i$ open and closed.
\end{lemma}

\begin{proof}
Write $X = \lim X_i$ as a limit of an inverse system of finite discrete
spaces over a directed partially ordered set $I$ (Lemma \ref{lemma-profinite}).
Denote $f_i : X \to X_i$ the projection.
For every point $x = (x_i) \in X$ a fundamental system of open neighbourhoods
is the collection $f_i^{-1}(\{x_i\})$. Thus, as $X$ is quasi-compact, we may
assume we have an open covering
$$
X = f_{i_1}^{-1}(x_{i_1}) \cup \ldots \cup f_{i_n}^{-1}(\{x_{i_n}\})
$$
Choose $i \in I$ with $i \geq i_j$ for $j = 1, \ldots, n$ (this is possible
as $I$ is a directed partially ordered set). Then we see
that the covering
$$
X = \coprod\nolimits_{t \in X_i} f_i^{-1}(\{t\})
$$
refines the given covering and is of the desired form.
\end{proof}

\begin{lemma}
\label{lemma-pi0-profinite}
Let $X$ be a topological space. If $X$ is quasi-compact
and every connected component of $X$ is the intersection
of the open and closed subsets containing it, then $\pi_0(X)$
is a profinite space.
\end{lemma}

\begin{proof}
We will use Lemma \ref{lemma-profinite} to prove this.
Since $\pi_0(X)$ is the image of a quasi-compact space it is
quasi-compact (Lemma \ref{lemma-image-quasi-compact}).
It is totally disconnected by construction
(Lemma \ref{lemma-space-connected-components}).
Let $C, D \subset X$ be distinct connected components of $X$.
Write $C = \bigcup U_\alpha$ as the intersection of the open and
closed subsets of $X$ containing $C$. Any finite intersection
of $U_\alpha$'s is another. Since $\bigcap U_\alpha \cap D = \emptyset$
we conclude that $U_\alpha \cap D = \emptyset$ for some $\alpha$
(use Lemmas \ref{lemma-connected-components},
\ref{lemma-closed-in-quasi-compact} and
\ref{lemma-intersection-closed-in-quasi-compact})
Since $U_\alpha$ is open and closed, it is the union of the
connected components it contains, i.e., $U_\alpha$ is the inverse
image of some open and closed subset $V_\alpha \subset \pi_0(X)$.
This proves that the points corresponding to $C$ and $D$
are contained in disjoint open subsets, i.e., $\pi_0(X)$ is
Hausdorff.
\end{proof}






\section{Spectral spaces}
\label{section-spectral}

\noindent
The material in this section is taken from \cite{Hochster} and
\cite{Hochster-thesis}. In his thesis Hochster proves (among
other things) that the spectral spaces are exactly the topological
spaces that occur as the spectrum of a ring.

\begin{definition}
\label{definition-spectral-space}
A topological space $X$ is called {\it spectral} if it is sober,
quasi-compact, the intersection of two quasi-compact opens is
quasi-compact, and the collection of quasi-compact opens forms a
basis for the topology. A continuous map $f : X \to Y$ of spectral
spaces is called {\it spectral} if the inverse image of a quasi-compact
open is quasi-compact.
\end{definition}

\noindent
In other words a continuous map of spectral space is spectral if and
only if it is quasi-compact (Definition \ref{definition-quasi-compact}).

\medskip\noindent
Let $X$ be a spectral space. The {\it constructible topology} on $X$
is the topology which has as a subbase of opens the sets $U$ and $U^c$
where $U$ is a quasi-compact open of $X$. Note that since $X$ is spectral
an open $U \subset X$ is retrocompact if and only if $U$ is quasi-compact.
Hence the constructible topology can also be characterized as the coarsest
topology such that every constructible subset of $X$ is both open and closed.
Since the collection of quasi-compact opens is a basis for the topology
on $X$ we see that the constructible topology is stronger than the
given topology on $X$.

\begin{lemma}
\label{lemma-constructible-hausdorff-quasi-compact}
Let $X$ be a spectral space. The constructible topology is
Hausdorff and quasi-compact.
\end{lemma}

\begin{proof}
Since the collection of all quasi-compact opens forms a basis for the
topology on $X$, it is clear that $X$ is Hausdorff in the constructible
topology.

\medskip\noindent
Let $\mathcal{B}$ be the collection of subsets $B \subset X$
with $B$ either quasi-compact open or closed with quasi-compact
complement. If $B \in \mathcal{B}$ then $B^c \in \mathcal{B}$.
It suffices to show every covering covering $X = \bigcup_{i \in I} B_i$
with $B_i \in \mathcal{B}$ has a finite refinement, see
Lemma \ref{lemma-subbase-theorem}.
Taking complements we see that we have to show that any family
$\{B_i\}_{i \in I}$ of elements of $\mathcal{B}$
such that $B_{i_n} \cap \ldots \cap B_{i_n} \not = \emptyset$
for all $n$ and all $i_1, \ldots, i_n \in I$
has a common point of intersection. We may and do assume
$B_i \not = B_{i'}$ for $i \not = i'$.

\medskip\noindent
To get a contradiction assume $\{B_i\}_{i \in I}$ is a maximal family
of elements of $\mathcal{B}$ having the finite intersection property
but empty intersection. An application of Zorn's lemma shows that we
may assume our family is maximal (details omitted).
Let $I' \subset I$ be those indices such that
$B_i$ is closed and set $Z = \bigcap_{i \in I'} B_i$. This is a closed
subset of $X$. If $Z$ is reducible, then we can write $Z = Z' \cup Z''$
as a union of two closed subsets, neither equal to $Z$. This means in
particular that we can find a quasi-compact open $U' \subset X$ meeting
$Z'$ but not $Z''$. Similarly, we can find a quasi-compact open
$U'' \subset X$ meeting $Z''$ but not $Z'$. Set $B' = X \setminus U'$ and
$B'' = X \setminus U''$. Note that $Z'' \subset B'$ and $Z' \subset B''$.
If there exist a finite number of indices $i_1, \ldots, i_n \in I$ such
that $B' \cap B_{i_1} \cap \ldots \cap B_{i_n} = \emptyset$
as well as a finite number of indices $j_1, \ldots, j_m \in I$ such that
$B'' \cap B_{j_1} \cap \ldots \cap B_{j_m} = \emptyset$
then we find that
$Z \cap B_{i_1} \cap \ldots \cap B_{i_n} \cap B_{j_1} \cap \ldots \cap B_{j_m}
= \emptyset$.
However, the set
$B_{i_1} \cap \ldots \cap B_{i_n} \cap B_{j_1} \cap \ldots \cap B_{j_m}$
is quasi-compact hence we would find a finite number of
indices $i'_1, \ldots, i'_l \in I'$ with
$B_{i_1} \cap \ldots \cap B_{i_n} \cap B_{j_1} \cap \ldots \cap
B_{j_m} \cap B_{i'_1} \cap \ldots \cap B_{i'_l} = \emptyset$ a contradiction.
Thus we see that we may add either $B'$ or $B''$ to the given family
contradicting maximality. We conclude that $Z$ is irreducible. However,
this leads to a contradiction as well, as now every nonempty (by the
same argument as above) open $Z \cap B_i$ for $i \in I \setminus I'$
contains the unique generic point of $Z$. This contradiction proves the lemma.
\end{proof}

\begin{lemma}
\label{lemma-spectral-sub}
Let $X$ be a spectral space. Let $E \subset X$ be closed in the constructible
topology (for example constructible or closed). Then $E$ with the induded
topology is a spectral space.
\end{lemma}

\begin{proof}
Let $Z \subset E$ be a closed irreducible subset. Let $\eta$ be the generic
point of the closure $\overline{Z}$ of $Z$ in $X$. To prove that $E$
is sober, we show that $\eta \in E$. If not, then since $E$ is closed
in the constructible topology, there exists a constructible subset
$F \subset X$ such that $\eta \in F$ and $F \cap E = \emptyset$.
By Lemma \ref{lemma-generic-point-in-constructible} this implies
$F \cap \overline{Z}$ contains a nonempty open subset of $\overline{Z}$.
But this is impossible as $\overline{Z}$ is the closure of $Z$ and
$Z \cap F = \emptyset$.

\medskip\noindent
Since $E$ is closed in the constructible topology, it is quasi-compact
in the constructible topology
(Lemmas \ref{lemma-closed-in-quasi-compact} and
\ref{lemma-constructible-hausdorff-quasi-compact}). Hence a fortiori it is
quasi-compact in the topology coming from $X$. If $U \subset X$
is a quasi-compact open, then $E \cap U$ is closed in the constructible
topology, hence quasi-compact (as seen above). It follows that the
quasi-compact open subsets of $E$ are the intersections $E \cap U$
with $U$ quasi-compact open in $X$. These form a basis for the topology.
Finally, given two $U, U' \subset X$ quasi-compact opens, the intersection
$(E \cap U) \cap (E \cap U') = E \cap (U \cap U')$ and $U \cap U'$
is quasi-compact as $X$ is spectral. This finishes the proof.
\end{proof}

\begin{lemma}
\label{lemma-constructible-stable-specialization-closed}
Let $X$ be a spectral space. Let $E \subset X$ be a constructible subset.
\begin{enumerate}
\item If $x \in \overline{E}$, then $x$ is the specialization of a point of
$E$.
\item If $E$ is stable under specialization, then $E$ is closed.
\item If $E$ is stable under generalization, then $E$ is open.
\end{enumerate}
\end{lemma}

\begin{proof}
Proof of (1). Let $x \in \overline{E}$. Let $\{U_i\}$ be the set of
quasi-compact open neighbourhoods of $x$. A finite intersection of the
$U_i$ is another one. The intersection $U_i \cap E$ is nonempty for all
$i$. Since the subsets $U_i \cap E$ are closed in the constructible topology
we see that $\bigcap (U_i \cap E)$ is nonempty by
Lemma \ref{lemma-constructible-hausdorff-quasi-compact} and
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
Since $X$ is a sober space and $\{U_i\}$ is a
fundamental system of open neighbourhoods of $x$, we see that
$\bigcap U_i$ is the set of generalizations of $x$. Thus
$x$ is a specialization of a point of $E$.

\medskip\noindent
Part (2) is immediate from (1).

\medskip\noindent
Proof of (3). Assume $E$ is stable under generalization.
The complement of $E$ is constructible (Lemma \ref{lemma-constructible})
and closed under specialization
(Lemma \ref{lemma-open-closed-specialization}).
Hence the complement is closed by (2), i.e., $E$ is open.
\end{proof}

\begin{lemma}
\label{lemma-two-points}
Let $X$ be a spectral space. Let $x, y \in X$. Then either there exists
a third point specializing to both $x$ and $y$, or there exist disjoint
open neighbourhoods containing $x$ and $y$.
\end{lemma}

\begin{proof}
Let $\{U_i\}$ be the set of quasi-compact open neighbourhoods of $x$.
A finite intersection of the $U_i$ is another one.
Let $\{V_j\}$ be the set of quasi-compact open neighbourhoods of $y$.
A finite intersection of the $V_j$ is another one.
If $U_i \cap V_j$ is empty for some $i, j$ we are done.
If not, then the intersection $U_i \cap V_j$ is nonempty
for all $i$. The sets $U_i \cap V_j$ are closed in the constructible
topology on $X$. By
Lemma \ref{lemma-constructible-hausdorff-quasi-compact}
we see that $\bigcap (U_i \cap V_j)$ is nonempty
(Lemma \ref{lemma-intersection-closed-in-quasi-compact}).
Since $X$ is a sober space and $\{U_i\}$ is a
fundamental system of open neighbourhoods of $x$, we see that
$\bigcap U_i$ is the set of generalizations of $x$.
Similarly, $\bigcap V_j$ is the set of generalizations of $y$.
Thus any element of $\bigcap (U_i \cap V_j)$ specializes to both
$x$ and $y$.
\end{proof}

\begin{lemma}
\label{lemma-characterize-profinite-spectral}
Let $X$ be a spectral space. The following are equivalent
\begin{enumerate}
\item $X$ is profinite,
\item $X$ is Hausdorff,
\item $X$ is totally disconnected,
\item every quasi-compact open is closed,
\item there are no nontrivial specializations between points,
\item every point of $X$ is closed,
\item every point of $X$ is the generic point of an irreducible component
of $X$,
\item add more here.
\end{enumerate}
\end{lemma}

\begin{proof}
The implication (1) $\Rightarrow$ (2) is trivial.
If every quasi-compact open is closed, then $X$ is Hausforff, so
(4) $\Rightarrow$ (2).

\medskip\noindent
It is clear that (4), (5), and (6) are equivalent since $X$ is sober.
It follows from Lemma \ref{lemma-two-points} that this implies $X$ is
Hausdorff.

\medskip\noindent
If $X$ is totally disconnected, then every point is closed.
So (3) implies (6).

\medskip\noindent
Thus every condition implies that $X$ is Hausdorff. Conversely, if $X$
is Hausdorff, then every quasi-compact open is also closed
(Lemma \ref{lemma-quasi-compact-in-Hausdorff}). This implies that $X$
is totally disconnected. Hence it is profinite, by
Lemma \ref{lemma-profinite}.
This also implies (4), (5), and (6) hold.
\end{proof}

\begin{lemma}
\label{lemma-spectral-pi0}
If $X$ is a spectral space, then $\pi_0(X)$ is a profinite space.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-connected-component-intersection} and
\ref{lemma-pi0-profinite}.
\end{proof}

\begin{lemma}
\label{lemma-product-spectral-spaces}
The product of two spectral spaces is spectral.
\end{lemma}

\begin{proof}
Let $X$, $Y$ be spectral spaces. Denote $p : X \times Y \to X$ and
$q : X \times Y \to Y$ the projections. Let $Z \subset X \times Y$ be a
closed irreducible subset. Then $p(Z) \subset X$ is irreducible
and $q(Z) \subset Y$ is irreducible. Let $x \in X$ be the generic
point of the closure of $p(X)$ and let $y \in Y$ be the generic
point of the closure of $q(Y)$. If $(x, y) \not \in Z$, then
there exist opens $x \in U \subset X$, $y \in V \subset Y$ such
that $Z \cap U \times V = \emptyset$. Hence $Z$ is contained
in $(X \setminus U) \times Y \cup X \times (Y \setminus V)$.
Since $Z$ is irreducible, we see that either
$Z \subset (X \setminus U) \times Y$ or $Z \subset X \times (Y \setminus V)$.
In the first case $p(Z) \subset (X \setminus U)$ and in the
second case $q(Z) \subset (Y \setminus V)$. Both cases are absurd
as $x$ is in the closure of $p(Z)$ and $y$ is in the closure of
$q(Z)$. Thus we conclude that $(x, y) \in Z$, which means that
$(x, y)$ is the generic point for $Z$.

\medskip\noindent
A basis of the topology of $X \times Y$ are the opens of the form
$U \times V$ with $U \subset X$ and $V \subset T$ quasi-compact open
(here we use that $X$ and $Y$ are spectral). Then $U \times V$ is
quasi-compact as the product of quasi-compact spaces is quasi-compact.
Moreover, any quasi-compact open of $X \times Y$ is a finite union
of such quasi-compact rectangles $U \times V$. It follows that
the intersection of two such is again quasi-compact
(since $X$ and $Y$ are spectral). This concludes the proof.
\end{proof}











\section{Stone-{\v C}ech compactification}
\label{section-stone-cech}

\noindent
The Stone-{\v C}ech compactification of a topological space $X$
is a map $X \to \beta(X)$ from $X$ to a Hausdorff quasi-compact space
$\beta(X)$ which is universal for such maps. We prove this exists
by a standard argument using the following simple lemma.

\begin{lemma}
\label{lemma-dense-image}
Let $f : X \to Y$ be a continuous map of topological spaces. Assume that
$f(X)$ is dense in $Y$ and that $Y$ is Hausdorff. Then the cardinality
of $Y$ is at most the cardinality of $P(P(X))$ where $P$ is the power
set operation.
\end{lemma}

\begin{proof}
Let $S = f(X) \subset Y$. Let $\mathcal{D}$ be the set of all
closed domains of $Y$, i.e., subsets $D \subset Y$ which
equal the closure of its interior. Note that the closure of an
open subset of $Y$ is a closed domain. For $y \in Y$ consider the set
$$
I_y = \{T \subset S \mid \text{ there exists }
D \in \mathcal{D}\text{ with }T = S \cap D\text{ and }y \in D\}
$$
Since $S$ is dense in $Y$ for every closed domain $D$ we see
that $S \cap D$ is dense in $D$. Hence, if
$D \cap S = D' \cap S$ for $D, D' \in \mathcal{D}$, then
$D = D'$. Thus $I_y = I_{y'}$ implies that $y = y'$ because the
Hausdorff condition assures us that we can find a closed domain
containing $y$ but not $y'$. The result follows.
\end{proof}

\noindent
Let $X$ be a topological space. Let $\kappa$ be the cardinality of
$P(P(X))$ as in the lemma above. There is a set $I$ of isomorphism
classes of continuous maps $f : X \to Y$ which has dense image and
where $Y$ is Hausdorff and quasi-compact. For $i \in I$ choose a
representative $f_i : X \to Y_i$. Consider the map
$$
\prod f_i : X \longrightarrow \prod\nolimits_{i \in I} Y_i
$$
and denote $\beta(X)$ the closure of the image. Since each $Y_i$ is
Hausdorff, so is $\beta(X)$. Since each $Y_i$ is quasi-compact, so
is $\beta(X)$ (use Theorem \ref{theorem-tychonov} and
Lemma \ref{lemma-closed-in-quasi-compact}).

\medskip\noindent
Let us show the canonical map $X \to \beta(X)$ satisfies the universal
property with respect to maps to Hausdorff, quasi-compact spaces. Namely,
let $f : X \to Y$ be such a morphism. Let $Z \subset Y$ be the closure
of $f(X)$. By Lemma \ref{lemma-dense-image} the cardinality of $Z$
is at most $\kappa$. Thus $X \to Z$ is isomorphich to one of the maps
$f_i : X \to Y_i$, say $f_{i_0} : X \to Y_{i_0}$. Thus $f$ factors as
$X \to \beta(X) \to \prod Y_i \to Y_{i_0} \cong Z \to Y$ as desired.

\medskip\noindent
Recall that a neighbourhood of a point need not be open.

\begin{definition}
\label{definition-locally-quasi-compact}
A topological space $X$ is called
{\it locally quasi-compact}\footnote{This may not be standard notation.
Alternative notions used in the literature are: (1) Every point has some
quasi-compact neighbourhood, and (2) Every point has a closed quasi-compact
neighbourhood. A scheme has the property that every point has a fundamental
system of open quasi-compact neighbourhoods.} if every
point has a fundamental system of quasi-compact neighbourhoods.
\end{definition}

\begin{lemma}
\label{lemma-locally-quasi-compact-Hausdorff}
A Hausdorff space is locally quasi-compact if and only if every point
has a quasi-compact neighbourhood.
\end{lemma}

\begin{proof}
Let $X$ be a Hausdorff space. Let $x \in X$ and let $x \in E \subset X$
be a quasi-compact neighbourhood. Then $E$ is closed by
Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
Suppose that $x \in U \subset X$ is an open neighbourhood of $x$.
Then $Z = E \setminus U$ is a closed subset of $E$ not containing $x$.
Hence we can find a pair of disjoint open subsets $W, V \subset E$
of $E$ such that $x \in V$ and $Z \subset W$, see
Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
It follows that $\overline{V} \subset E$ is a closed neighbourhood
of $x$ contained in $E \cap U$. Also $\overline{V}$ is quasi-compact
as a closed subset of $E$ (Lemma \ref{lemma-closed-in-quasi-compact}).
In this way we obtain a fundamental system of quasi-compact neighbourhoods
of $x$.
\end{proof}

\begin{lemma}
\label{lemma-one-point-compactification}
Let $X$ be a Hausdorff, locally quasi-compact space.
There exists a map $X \to X^*$ which identifies $X$ as an open
subspace of a quasi-compact Hausdorff space $X^*$ such that
$X^* \setminus X$ is a singleton (one point compactification).
In particular, the map $X \to \beta(X)$ identifies $X$
with an open subspace of $\beta(X)$.
\end{lemma}

\begin{proof}
Set $X^* = X \amalg \{\infty\}$. We declare a subset $V$ of $X^*$ to be
open if either $V \subset X$ is open in $X$, or $\infty \in V$ and
$U = V \cap X$ is an open of $X$ such that $X \setminus U$ is quasi-compact.
We omit the verification that this defines a topology. It is clear
that $X \to X^*$ identifies $X$ with an open subspace of $X$.

\medskip\noindent
Since $X$ is locally quasi-compact, every point $x \in X$ has a
quasi-compact neighbourhood $x \in E \subset X$. Then $E$
is closed (Lemma \ref{lemma-closed-in-quasi-compact}) and
$V = (X \setminus E) \amalg \{\infty\}$ is an open neighbourhood
of $\infty$ disjoint from the interior of $E$. Thus $X^*$ is Hausdorff.

\medskip\noindent
Let $X^* = \bigcup V_i$ be an open covering. Then for some $i$, say $i_0$,
we have $\infty \in V_{i_0}$. By construction $Z = X^* \setminus V_{i_0}$
is quasi-compact. Hence the covering
$Z \subset \bigcup_{i \not = i_0} Z \cap V_i$ has a finite refinement which
implies that the given covering of $X^*$ has a finite refinement.
Thus $X^*$ is quasi-compact.

\medskip\noindent
The map $X \to X^*$ factors as $X \to \beta(X) \to X^*$ by the universal
property of the Stone-{\v C}ech compactification. Let
$\varphi : \beta(X) \to X^*$ be this factorization.
Then $X \to \varphi^{-1}(X)$ is a section to
$\varphi^{-1}(X) \to X$ hence has closed image
(Lemma \ref{lemma-section-closed}).
Since the image of $X \to \beta(X)$ is dense we conclude that
$X = \varphi^{-1}(X)$.
\end{proof}










\section{Extremally disconnected spaces}
\label{section-extremally-disconnected}

\noindent
The material in this section is taken from \cite{Gleason}
(with a slight modification as in \cite{Rainwater}).
In Gleason's paper it is shown that in the category of quasi-compact
Hausdorff spaces, the ``projective objects'' are exactly the extremally
disconnected spaces.

\begin{definition}
\label{definition-extremally-disconnected}
A topological space $X$ is called {\it extremally disconnected}
if the closure of every open subset of $X$ is open.
\end{definition}

\noindent
If $X$ is Hausdorff and extremally disconnected, then $X$ is totally
disconnected. This isn't true in general.

\begin{lemma}
\label{lemma-image-open-technical}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume $f$ is surjective and $f(E) \not = Y$ for all proper
closed subsets $E \subset X$. Then for $U \subset X$ open the subset
$f(U)$ is contained in the closure of $Y \setminus f(X \setminus U)$.
\end{lemma}

\begin{proof}
Pick $y \in f(U)$ and let $V \subset Y$ be any open neighbourhood of $y$.
We will show that $V$ intersects $Y \setminus f(X \setminus U)$.
Note that $W = U \cap f^{-1}(V)$ is a nonempty open subset of $X$, hence
$f(X \setminus W) \not = Y$. Take $y' \in Y$, $y' \not \in f(X \setminus W)$.
It is elementary to show that $y' \in V$ and
$y' \in Y \setminus f(X \setminus U)$.
\end{proof}

\begin{lemma}
\label{lemma-intersection-empty}
Let $X$ be an extremally disconnected space.
If $U, V \subset X$ are disjoint open subsets, then
$\overline{U}$ and $\overline{V}$ are disjoint too.
\end{lemma}

\begin{proof}
By assumption $\overline{U}$ is open, hence $V \cap \overline{U}$
is open and disjoint from $U$, hence empty because $\overline{U}$
is the intersection of all the closed subsets of $X$ containing $U$.
This means the open $\overline{V} \cap \overline{U}$ avoids $V$
hence is empty by the same argument.
\end{proof}

\begin{lemma}
\label{lemma-isomorphism}
Let $f : X \to Y$ be a continuous map of Hausforff quasi-compact
topological spaces. If $Y$ is extremally disconnected, $f$ is surjective,
and $f(Z) \not = Y$ for every proper closed subset $Z$ of $X$, then
$f$ is a homeomorphism.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-bijective-map} it suffices to show that $f$ is injective.
Suppose that $x, x' \in X$ are distinct points with $y = f(x) = f(x')$.
Choose disjoint open neighbourhoods $U, U' \subset X$ of $x, x'$.
Observe that $f$ is closed (Lemma \ref{lemma-closed-map}) hence
$T = f(X \setminus U)$ and $T' = f(X \setminus U')$ are closed in $Y$.
Since $X$ is the union of $X \setminus U$ and $X \setminus U'$ we see that
$Y = T \cup T'$. By Lemma \ref{lemma-image-open-technical} we
see that $y$ is contained in the closure of $Y \setminus T$ and
the closure of $Y \setminus T'$. On the other hand, by
Lemma \ref{lemma-intersection-empty},
this intersection is empty. In this way we obtain the desired contradiction.
\end{proof}

\begin{lemma}
\label{lemma-find-compact-subset}
Let $f : X \to Y$ be a continuous surjective map of Hausforff quasi-compact
topological spaces. There exists a quasi-compact subset $E \subset X$
such that $f(E) = Y$ but $f(E') \not = Y$ for all proper closed subsets
$E' \subset E$.
\end{lemma}

\begin{proof}
We will use without further mention that the quasi-compact subsets
of $X$ are exactly the closed subsets
(Lemma \ref{lemma-closed-in-compact}).
Consider the collection $\mathcal{E}$ of all quasi-compact subsets
$E \subset X$ with $f(E) = Y$ ordered by inclusion. We will use
Zorn's lemma to show that
$\mathcal{E}$ has a minimal element. To do this it suffices to show
that given a totally ordered family $E_\lambda$ of elements of $\mathcal{E}$
the intersection $\bigcap E_\lambda$ is an element of $\mathcal{E}$.
It is quasi-compact as it is closed.
For every $y \in Y$ the sets $E_\lambda \cap f^{-1}(\{y\})$
are nonempty and closed, hence the intersection
$\bigcap E_\lambda \cap f^{-1}(\{y\}) = \bigcap (E_\lambda \cap f^{-1}(\{y\}))$
is nonempty by
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
This finishes the proof.
\end{proof}

\begin{proposition}
\label{proposition-projective-in-category-hausdorff-qc}
Let $X$ be a Hausdorff, quasi-compact topological space.
The following are equivalent
\begin{enumerate}
\item $X$ is extremally disconnected,
\item for any surjective continuous map $f : Y \to X$ with $Y$ Hausdorff
quasi-compact there exists a continuous section, and
\item for any solid commutative diagram
$$
\xymatrix{
& Y \ar[d] \\
X \ar@{..>}[ru] \ar[r] & Z
}
$$
of continuous maps of quasi-compact Hausdorff spaces with $Y \to Z$
surjective, there is a dotted arrow
in the category of topological spaces making the diagram commute.
\end{enumerate}
\end{proposition}

\begin{proof}
It is clear that (3) implies (2). On the other hand, if (2) holds
and $X \to Z$ and $Y \to Z$ are as in (3), then (2) assures there
is a section to the projection $X \times_Z Y \to X$ which implies
a suitable dotted arrow exists (details omitted). Thus (3)
is equivalent to (2).

\medskip\noindent
Assume $X$ is extremally disconnected and let $f : Y \to X$ be as in (2).
By Lemma \ref{lemma-find-compact-subset} there exists a quasi-compact subset
$E \subset Y$ such that $f(E) = X$ but $f(E') \not = X$ for all
proper closed subsets $E' \subset E$. By
Lemma \ref{lemma-isomorphism} we find that $f|_E : E \to X$
is a homeomorphism, the inverse of which gives the desired section.

\medskip\noindent
Assume (2). Let $U \subset X$ be open with complement $Z$.
Consider the continuous surjection $f : \overline{U} \amalg Z \to X$.
Let $\sigma$ be a section. Then $\overline{U} = \sigma^{-1}(\overline{U})$
is open. Thus $X$ is extremally disconnected.
\end{proof}

\begin{lemma}
\label{lemma-quotient-of-extremally-disconnected}
Let $f : X \to Y$ be a continuous map of topological space. Assume
$f$ is surjective, $X$ is quasi-compact and extremally disconnected,
and $Y$ is Hausdorff. Then $Y$ is extremally disconnected.
\end{lemma}

\begin{proof}
The assumptions imply $f$ is a closed map, see
Lemma \ref{lemma-closed-map}. Let $V \subset Y$ be an open subset.
Then $U = f^{-1}(V)$ is open too. Hence $\overline{U}$ is open and
closed. It follows that $\overline{U} = f(\overline{V})$.
Hence $Y \setminus \overline{V} = Y \setminus f(\overline{V}) =
f(X \setminus \overline{U})$ as $f$ is surjective. This is closed
as $f$ is proper and we conclude $\overline{V}$ is open as desired.
\end{proof}

\begin{example}
\label{example-stone-Cech-discrete}
We can use Proposition \ref{proposition-projective-in-category-hausdorff-qc}
to see that the Stone-{\v C}ech compactification $\beta(X)$ of a discrete
space $X$ is extremally disconnected. Namely, let $f : Y \to \beta(X)$ be
a continuous surjection where $Y$ is quasi-compact and Hausdorff. Then
we can lift the map $X \to \beta(X)$ to a continuous (!) map
$X \to Y$ as $X$ is discrete. By the universal property of the
Stone-{\v C}ech compactification we see that we obtain a factorization
$X \to \beta(X) \to Y$. Since $\beta(X) \to Y \to \beta(X)$ equals
the identity on the dense subset $X$ we conclude that we get a section.
In particular, we conlude that the Stone-{\v C}ech compactification
of a discrete space is totally disconnected, whence profinite
(see discussion following
Definition \ref{definition-extremally-disconnected} and
Lemma \ref{lemma-profinite}).
\end{example}

\noindent
Using the supply of extremally disconnected spaces given by
Example \ref{example-stone-Cech-discrete}
we can prove that every quasi-compact Hausdorff space has a
``projective cover'' in the category of quasi-compact Hausdorff spaces.

\begin{lemma}
\label{lemma-existence-projective-cover}
Let $X$ be a quasi-compact Hausdorff space.
There exists a continuous surjection $X' \to X$ with $X'$
quasi-compact, Hausdorff, and extremally disconnected.
If we require that every proper closed subset of $X'$ does not
map onto $X$, then $X'$ is unique up to isomorphism.
\end{lemma}

\begin{proof}
Let $Y = X$ but endowed with the discrete topology. Let $X' = \beta(Y)$.
The continuous map $Y \to X$ factors as $Y \to X' \to X$. This
proves the first statement of the lemma by
Example \ref{example-stone-Cech-discrete}.
By Lemma \ref{lemma-find-compact-subset} we can find a
quasi-compact subset $E \subset X'$ such that no proper closed
subset of $E$ surjects onto $X$. Because $X'$ is extremally disconnected
there exists a continous map $X' \to E$ over $X$
(Proposition \ref{proposition-projective-in-category-hausdorff-qc}).
As $X'$ is quasi-compact and $E$ Hausdorff, the image of $X' \to E$
is closed (Lemma \ref{lemma-closed-map}).
It also surjects onto $X$, therefore $X' \to E$ is surjective
by our choice of $E$.
By Lemma \ref{lemma-quotient-of-extremally-disconnected}
we see that $E$ is an extremally disconnected
space as well. Thus $E \to X$ is a minimal (in the sense of the lemma)
extremally disconnected cover.

\medskip\noindent
To prove uniqueness, suppose we have a second $X'' \to X$
minimal cover. By the lifting property proven in
Proposition \ref{proposition-projective-in-category-hausdorff-qc}
we can find a continuous map $g : X' \to X''$ over $X$.
Observe that $g$ is a closed map (Lemma \ref{lemma-closed-map}).
Hence $g(X') \subset X''$ is a closed subset surjecting onto $X$
and we conclude $g(X') = X''$ by minimality of $X''$.
On the other hand, if $E \subset X'$ is a proper closed subset,
then $g(E) \not = X''$ as $E$ does not map onto $X$ by minimality
of $X'$. By Lemma \ref{lemma-isomorphism} we see that $g$ is an isomorphism.
\end{proof}

\begin{remark}
\label{remark-size-projective-cover}
Let $X$ be a quasi-compact Hausdorff space. Let $\kappa$ be an infinite
cardinal bigger or equal than the cardinality of $X$. Then the cardinality
of the minimal quasi-compact, Hausdorff, extremally disconnected cover
$X' \to X$ (Lemma \ref{lemma-existence-projective-cover})
is at most $2^{2^\kappa}$. Namely, choose a subset $S \subset X'$
mapping bijectively to $X$. By minimality of $X'$ the set $S$ is dense
in $X'$. Thus $|X'| \leq 2^{2^\kappa}$ by Lemma \ref{lemma-dense-image}.
\end{remark}






\section{Miscellany}
\label{section-miscellany}


\noindent
The following lemma applies to the underlying topological space
associated to a quasi-separated scheme.

\begin{lemma}
\label{lemma-topology-quasi-separated-scheme}
Let $X$ be a topological space which
\begin{enumerate}
\item has a basis of the topology consisting of quasi-compact opens, and
\item has the property that the intersection of any two quasi-compact
opens is quasi-compact.
\end{enumerate}
Then
\begin{enumerate}
\item $X$ is locally quasi-compact,
\item a quasi-compact open $U \subset X$ is retrocompact,
\item any quasi-compact open $U \subset X$ has a cofinal system of open
coverings $\mathcal{U} : U = \bigcup_{j\in J} U_j$ with $J$ finite
and all $U_j$ and $U_j \cap U_{j'}$ quasi-compact,
\item add more here.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-isolated-point}
Let $X$ be a topological space. We say $x \in X$ is an
{\it isolated point} of $X$ if $\{x\}$ is open in $X$.
\end{definition}


















\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
