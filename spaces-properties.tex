\input{preamble}

% OK, start here.
%
\begin{document}

\title{Properties of Algebraic Spaces}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Please see Spaces, Section \ref{spaces-section-introduction}
for a brief introduction to algebraic spaces, and please read
some of that chapter for our basic definitions and conventions
concerning algebraic spaces. In this chapter we start introducing
some basic notions and properties of algebraic spaces. A fundamental
reference for the case of quasi-separated algebraic spaces is
\cite{Kn}.

\medskip\noindent
The discussion is somewhat awkward at times since we made the design
descision to first talk about properties of algebraic spaces by
themselves, and only later about properties of morphisms of algebraic
spaces. We make an exception for this rule regarding
{\it etale morphisms} of algebraic spaces, which we introduce in
Section \ref{section-etale-morphisms}. But until that section whenever
we say a morphism has a certain property, it automatically means the
source of the morphism is a scheme (or perhaps the morphism is representable).



\section{Conventions}
\label{section-conventions}

\noindent
The standing assumption is that all schemes are contained in
a big fppf site $\textit{Sch}_{fppf}$. And all rings $A$ considered
have the property that $\text{Spec}(A)$ is (isomorphic) to an
object of this big site.

\medskip\noindent
Let $S$ be a scheme and let $X$ be an algebraic space over $S$.
In this chapter and the following we will write $X \times_S X$
for the product of $X$ with itself (in the category of algebraic
spaces over $S$), instead of $X \times X$. The reason is that we
want to avoid confusion when changing base schemes, as in
Spaces, Section \ref{spaces-section-change-base-scheme}.


\section{Separation axioms}
\label{section-separation}

\noindent
In this section we collect all the ``absolute'' separation conditions
of algebraic spaces. Since in our language any algebraic space is an
algebraic space over some definite base scheme, any absolute property
of $X$ over $S$ corresponds to a conditions imposed on $X$ viewed
as an algebraic space over $\text{Spec}(\mathbf{Z})$. Here is the
precise formulation.

\begin{definition}
\label{definition-separated}
(Compare Spaces, Definition \ref{spaces-definition-separated}.)
Consider a big fppf site
$\textit{Sch}_{fppf} = (\textit{Sch}/\text{Spec}(\mathbf{Z}))_{fppf}$.
Let $X$ be an algebraic space over
$\text{Spec}(\mathbf{Z})$. Let $\Delta : X \to X \times X$
be the diagonal morphism.
\begin{enumerate}
\item We say $X$ is {\it separated} if $\Delta$ is a closed immersion.
\item We say $X$ is {\it locally separated}\footnote{In the
literature this often refers to quasi-separated and locally
separated algebraic spaces.} if $\Delta$ is an
immersion.
\item We say $X$ is {\it quasi-separated} if $\Delta$ is quasi-compact.
\item We say $X$ is {\it Zariski locally quasi-separated}\footnote{
This notion was suggested by B.\ Conrad.} if there
exists a Zariski covering $X = \bigcup_{i \in I} X_i$ (see Spaces,
Definition \ref{spaces-definition-Zariski-open-covering}) such that
each $X_i$ is quasi-separated.
\end{enumerate}
Let $S$ is a scheme contained in $\textit{Sch}_{fppf}$, and let
$X$ be an algebraic space over $S$. Then we say $X$ is {\it separated},
{\it locally separated}, {\it quasi-separated}, or
{\it Zariski locally quasi-separated}
if $X$ viewed as an algebraic space over $\text{Spec}(\mathbf{Z})$ (see
Spaces, Definition \ref{spaces-definition-base-change})
has the corresponding property.
\end{definition}

\noindent
It is true that an algebraic space $X$ over $S$ which is separated
(in the absolute sense above) is separated over $S$ (and similarly
for the other absolute separation properties above). This will be discussed
in great detail in
Morphisms of Spaces, Section \ref{spaces-morphisms-section-separation-axioms}.

\begin{lemma}
\label{lemma-trivial-implications}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
We have the following implications among the separation axioms
of Definition \ref{definition-separated}:
\begin{enumerate}
\item separated implies all the others,
\item quasi-separated implies Zariski locally quasi-separated.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}











\section{Points of algebraic spaces}
\label{section-points}

\noindent
As is clear from Spaces, Example \ref{spaces-example-affine-line-translation}
a point of an algebraic stack should not be defined as a monomorphism
from the spectrum of a field.
Instead we define them as equivalence classes of morphisms of specra
of fields as equivalence classes of morphisms from spectra of fields.
exactly as explained in Schemes, Section \ref{schemes-section-points}.

\medskip\noindent
Let $S$ be a scheme.
Let $F$ be a presheaf on $(\textit{Sch}/S)_{fppf}$.
Let $K$ is a field. Consider a morphism
$$
\text{Spec}(K) \longrightarrow F.
$$
By the Yoneda Lemma this is given by an
element $p \in F(\text{Spec}(K))$. We say that two such
pairs $(\text{Spec}(K), p)$ and $(\text{Spec}(L), q)$
are {\it equivalent} if there exists
a third field $\Omega$ and a commutative diagram
$$
\xymatrix{
\text{Spec}(\Omega) \ar[r] \ar[d] &
\text{Spec}(L) \ar[d]^q \\
\text{Spec}(K) \ar[r]^p &
F.
}
$$
In other words, there are field extensions
$K \to \Omega$ and $L \to \Omega$ such that
$p$ and $q$ map to the same element
of $F(\text{Spec}(\Omega))$. We omit the verification that this
defines an equivalence relation.

\begin{definition}
\label{definition-points}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
A {\it point} of $X$ is an equivalence class of morphisms
from spectra of fields into $X$.
The set of points of $X$ is denoted $|X|$.
\end{definition}

\noindent
Note that if $f : X \to Y$ is a morphism of algebraic spaces
over $S$, then there is an induced map $|f| : |X| \to |Y|$ which
maps a representative $x : \text{Spec}(K) \to X$ to the representative
$f \circ x : \text{Spec}(K) \to Y$.

\begin{lemma}
\label{lemma-scheme-points}
Let $S$ be a scheme. Let $X$ be a scheme over $S$.
The points of $X$ as a scheme are in canonical 1-1 correspondence
with the points of $X$ as an algebraic space.
\end{lemma}

\begin{proof}
This is Schemes, Lemma \ref{schemes-lemma-characterize-points}.
\end{proof}

\begin{lemma}
\label{lemma-points-cartesian}
Let $S$ be a scheme. Let
$$
\xymatrix{
Z \times_Y X \ar[r] \ar[d] & X \ar[d] \\
Z \ar[r] & Y
}
$$
be a cartesian diagram of algebraic spaces. Then the map of sets
of points
$$
|Z \times_Y X|
\longrightarrow
|Z| \times_{|Y|} |X|
$$
is surjective.
\end{lemma}

\begin{proof}
Namely, suppose given fields $K$, $L$ and morphisms
$\text{Spec}(K) \to X$, $\text{Spec}(L) \to Y$, then the
assumption that they agree as elements of $|Y|$ means that
there is a common extension $K \subset M$ and $L \subset M$
such that
$\text{Spec}(M) \to \text{Spec}(K) \to X \to Y$ and
$\text{Spec}(M) \to \text{Spec}(L) \to Z \to Y$ agree.
And this is exactly the condition which says you get a
morphism $\text{Spec}(M) \to Z \times_Y X$.
\end{proof}

\begin{lemma}
\label{lemma-points-presentation}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $X = U/R$ be a presentation of $X$, see
Spaces, Definition \ref{spaces-definition-presentation}.
Then $|R| \to |U| \times |U|$ is an equivalence relation
and $|X| = |U|/|R|$.
\end{lemma}

\begin{proof}
We will use Lemmas \ref{lemma-scheme-points} and \ref{lemma-points-cartesian}
without further mention.
The assumption means that $U$ is a scheme, $p : U \to X$ is a
surjective, etale morphism, $R = U \times_X U$ is a scheme
and defines an etale equivalence relation on $U$ such that
$X = U/R$ as sheaves. Let $x : \text{Spec}(K) \to X$ be a morphism
from the spectrum of a field into $X$. By assumption the scheme
$\text{Spec}(K) \times_X U$ is nonempty. Hence there exists a
field extension $K \subset K'$ and a morphism $\text{Spec}(K') \to U$
such that the diagram
$$
\xymatrix{
\text{Spec}(K') \ar[r] \ar[d] & U \ar[d]^p \\
\text{Spec}(K) \ar[r]^-x & X
}
$$
commutes. Hence we see that $|p| : |U| \to |X|$ is surjective.

\medskip\noindent
Since $j = (t, s) : R \to U \times_S U$ is a monomorphism we see that
$|R| \to |U| \times |U|$ is injective. Moreover, it is an equivalence
relation since $R \to U \times_S U$ is an equivalence relation.
Namely, if $u_i \in |U|$, $i = 1, 2, 3$ and $(u_1, u_2)$ is
the image of $r \in |R|$, and $(u_2, u_3)$ is the image of
$r' \in |R|$, then we see that there exists some point of
$R \times_{s, U, t} R$ contains a point $\tilde r$ mapping to
$(r, r')$. Set $r'' = \text{pr}_{02}(\tilde r) \in |R|$. Then we
see that $\tilde r$ maps to $(u_1, u_2)$ in $|U| \times |U|$.
Also, since $U \to X$ equalizes $s, t : R \to U$ we see that
the map $|U| \to |X|$ factors through $|U|/|R|$. Finally, we have
to show that if $u_1, u_2 \in |U|$ map to the same point of $X$
then they come from an element of $|R|$.
This again follows from Lemma \ref{lemma-points-cartesian}.
\end{proof}

\begin{lemma}
\label{lemma-topology-points}
Let $S$ be a scheme. There exists a unique topology on the set of points
of algebraic spaces over $S$ with the following properties:
\begin{enumerate}
\item for every morphism of algebraic spaces $X \to Y$ over $S$
the map $|X| \to |Y|$ is continuous, and
\item for every etale morphism $U \to X$ with $U$ a scheme
the map of topological spaces $|U| \to |X|$ is continuous and open.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $X$ be an algebraic space over $S$. Let $X = U/R$ be a presentation,
where $j = (t, s) : R \to U$ is an etale equivalence relation.
Let $p : U \to X$ denote the etale surjective morphism.
We define $W \subset |X|$ is open if and only if $|p|^{-1}(W)$
is an open subset of $|U|$. This is a topology on $|X|$ by
the result of Lemma \ref{lemma-points-presentation}.

\medskip\noindent
Let us first prove that $|p| : |U| \to |X|$ is open (of course it is
already continuous). Namely, if $V \subset U$ is an open subscheme,
then $V' = t(s^{-1}(V)) \subset U$ is an open subscheme as well
as the etale morphism $t$ is open (see
Morphisms, Lemma \ref{morphisms-lemma-fppf-open}).
Moreover, $|V'| = |p|^{-1}(W)$ with $W = |p|(V)$. In other words
$|p|(V)$ is open as desired.

\medskip\noindent
Next, let us prove that the topology is independent of the choice of
the presentation. To do this it suffices to show that if $U'$ is a scheme,
and $U' \to X$ is an etale morphism, then the map $|U'| \to |X|$
is open and continuous. In this case, let $U'' = U \times_X U'$, so that
we have the commutative diagram
$$
\xymatrix{
U'' \ar[r] \ar[d] & U' \ar[d] \\
U \ar[r] & X
}
$$
As $U \to X$ and $U' \to X$ are etale we see that
both $U'' \to U$ and $U'' \to U'$ are etale. Moreover, $U'' \to U'$
is surjective. Hence
we get a commutative diagram of maps of sets
$$
\xymatrix{
|U''| \ar[r] \ar[d] & |U'| \ar[d] \\
|U| \ar[r] & |X|
}
$$
By the above we know that:
the horizontal arrows are surjective, continuous and open,
the left vertical arrow is continuous and open.
It follows that also the right vertical arrow
is continuous and open as desired.

\medskip\noindent
Let $a : X \to Y$ be a morphism of algebraic spaces. According to
Spaces, Lemma \ref{spaces-lemma-lift-morphism-presentations}
we can find a diagram
$$
\xymatrix{
U \ar[d]_p \ar[r]_\alpha & V \ar[d]^q \\
X \ar[r]^a & Y
}
$$
where $U$ and $V$ are schemes, and $p$ and $q$ are surjective and etale.
This gives rise to the diagram
$$
\xymatrix{
|U| \ar[d]_p \ar[r]_\alpha & |V| \ar[d]^q \\
|X| \ar[r]^a & |Y|
}
$$
where all but the lower horizontal arrows are known to be continuous and
the two vertical arrows are surjective and open. It follows that the
lower horizontal arrow is continuous.

\medskip\noindent
This proves the first part of the lemma. Part (2) was proved in the
third paragraph of the proof.
\end{proof}

\begin{definition}
\label{definition-topological-space}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
The underlying {\it topological space} of $X$ is the set of points
$|X|$ endowed with the topology constructed in
Lemma \ref{lemma-topology-points}.
\end{definition}

\noindent
It turns out that this topological space carries the same information
as the small Zariski site $X_{Zar}$ of
Spaces, Definition \ref{spaces-definition-small-Zariski-site}.

\begin{lemma}
\label{lemma-open-subspaces}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
\begin{enumerate}
\item The rule $X' \mapsto |X'|$ defines an inclusion preserving
bijection between open subspaces $X'$ (see
Spaces, Definition \ref{spaces-definition-immersion})
of $X$, and opens of the topological space $|X|$.
\item A family $\{X_i \subset X\}_{i \in I}$ of open subspaces of $X$
is a Zariski covering (see
Spaces, Definition \ref{spaces-definition-Zariski-open-covering})
if and only if $|X| = \bigcup |X_i|$.
\end{enumerate}
In other words, the small Zariski site $X_{Zar}$ of $X$ is canonically
identified with a site associated to the topological space $|X|$ (see
Sites, Example \ref{sites-example-site-topological}).
\end{lemma}

\begin{proof}
In order to prove (1) let us construct the inverse of the rule.
Namely, suppose that $W \subset |X|$ is open. Choose a presentation
$X = U/R$ corresponding to the surjective etale map
$p : U \to X$ and etale maps $s, t : R \to U$.
By construction we see that $|p|^{-1}(W)$ is an
open of $U$. Denote $W' \subset U$ the corresponding open subscheme.
It is clear that $R' = s^{-1}(W') = t^{-1}(W')$ is a Zariski open
of $R$ which defines an etale equivalence relation on $W'$.
By Spaces, Lemma \ref{spaces-lemma-finding-opens} the morphism
$X' = W'/R' \to X$ is an open immersion. Hence $X'$ is an algebraic space
by Spaces, Lemma \ref{spaces-lemma-representable-over-space}.
By construction $|X'| = W$, i.e., $X'$ is a subspace of $X$
corresponding to $W$. Thus (1) is proved.

\medskip\noindent
To prove (2), note that if $\{X_i \subset X\}_{i \in I}$ is a collection
of open subspaces, then it is a Zariski covering if and only if the
$U = \bigcup U \times_X X_i$ is an open covering. This follows from
the definition of a Zariski covering and the fact that the morphism
$U \to X$ is surjective as a map of presheaves on $(\textit{Sch}/S)_{fppf}$.
On the other hand, we see that $|X| = \bigcup |X_i|$ if and only if
$U = \bigcup U \times_X X_i$ by Lemma \ref{lemma-points-presentation}
(and the fact that the projections $U \times_X X_i \to X_i$ are surjective
and etale). Thus the equivalence of (2) follows.
\end{proof}

\begin{lemma}
\label{lemma-factor-through-open-subspace}
Let $S$ be a scheme.
Let $X$, $Y$ be algebraic spaces over $S$.
Let $X' \subset X$ be an open subspace.
Let $f : Y \to X$ be a morphism of algebraic spaces over $S$.
Then $f$ factors through $X'$ if and only if $|f| : |Y| \to |X|$
factors through $|X'| \subset |X|$.
\end{lemma}

\begin{proof}
By Spaces, Lemma \ref{spaces-lemma-base-change-immersions}
we see that $Y' = Y \times_X X' \to Y$ is an open immersion.
If $|f|(|Y|) \subset |X'|$, then clearly $|Y'| = |Y|$. Hence $Y' = Y$ by
Lemma \ref{lemma-open-subspaces}.
\end{proof}

\begin{lemma}
\label{lemma-characterize-surjective}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $f : T \to X$ be a morphism from a scheme to $X$.
The following are equivalent
\begin{enumerate}
\item $f : T \to X$ is surjective (according to
Spaces, Definition \ref{spaces-definition-relative-representable-property}),
and
\item $|f| : |T| \to |X|$ is surjective.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume (1). Let $U \to X$ be a surjective etale morphism, where $U$ is
a scheme. By assumption (1) we see that $T \times_X U \to U$ is a surjective
morphism of schemes. Hence for any $u \in |U|$ there exists a 
$\tilde t \in |T \times_X U|$ which maps to $u$. The image $t$ of $\tilde t$
in $|T|$ is a point of $|T|$ which maps to the image of $u$ in $|X|$.
Since $|X|$ is a quotient of $|U|$ we conclude that $|f|$ is surjective.

\medskip\noindent
Assume (2). Let $U \to X$ be a surjective etale morphism, where $U$ is
a scheme. Set $R = U \times_X U$. Note that $T \times_X U \to T$ is a
surjective etale morphism of schemes. Take $u \in |U|$. By assumption (2)
we can choose a point $t \in |T|$ which maps to the image of $u$ in $|X|$.
By Lemma \ref{lemma-points-cartesian} there exists a point
$\tilde t \in |T \times_X U|$ which maps to $t$ and $u$.
Hence $T \times_X U \to U$ is surjective (as a morphism of schemes,
see Lemma \ref{lemma-scheme-points}). By
Spaces, Lemma \ref{spaces-lemma-representable-morphisms-spaces-property}
this implies that $T \to X$ is surjective.
\end{proof}

\begin{lemma}
\label{lemma-points-monomorphism}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Consider the map
$$
\{\text{Spec}(k) \to X \text{ monomorphism}\}
\longrightarrow
|X|
$$
This map is injective.
\end{lemma}

\begin{proof}
Suppose that $\varphi_i : \text{Spec}(k_i) \to X$ are monomorphisms
for $i = 1, 2$. If $\varphi_1$ and $\varphi_2$ define the same point
of $|X|$, then we see that the scheme
$$
Y = \text{Spec}(k_1) \times_{\varphi_1, X, \varphi_2} \text{Spec}(k_2)
$$
is nonempty. Since the base change of a monomorphism is a monomorphism
this means that the projection morphisms $Y \to \text{Spec}(k_i)$
are monomorphisms. Hence $\text{Spec}(k_1) = Y = \text{Spec}(k_2)$
as schemes over $X$, see
Schemes, Lemma \ref{schemes-lemma-mono-towards-spec-field}.
We conclude that $\varphi_1 = \varphi_2$, which proves the lemma.
\end{proof}

\noindent
We will see in
Lemma \ref{lemma-very-reasonable-points-monomorphism}
that this map is a bijection when $X$ is very reasonable.





















\section{Quasi-compact spaces}
\label{section-quasi-compact}

\begin{definition}
\label{definition-quasi-compact}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
We say $X$ is {\it quasi-compact} if there exists a surjective
etale morphism $U \to X$ with $U$ quasi-compact.
\end{definition}

\begin{lemma}
\label{lemma-quasi-compact-space}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Then $X$ is quasi-compact if and only if $|X|$ is quasi-compact.
\end{lemma}

\begin{proof}
Choose a scheme $U$ and an etale surjective morphism $U \to X$.
We will use Lemma \ref{lemma-characterize-surjective}.
If $U$ is quasi-compact, then since $|U| \to |X|$ is surjective
we conclude that $|X|$ is quasi-compact.
If $|X|$ is quasi-compact, then since $|U| \to |X|$ is open
we see that there exists a quasi-compact open $U' \subset U$
such that $|U'| \to |X|$ is surjective (and still etale).
Hence we win.
\end{proof}

\begin{lemma}
\label{lemma-finite-disjoint-quasi-compact}
A finite disjoint union of quasi-compact algebraic spaces is
a quasi-compact algebraic space.
\end{lemma}

\begin{proof}
This is clear from
Lemma \ref{lemma-quasi-compact-space}
and the corresponding topological fact.
\end{proof}

\begin{example}
\label{example-quasi-compact-not-very-reasonable}
The space $[\mathbf{A}^1_{\mathbf{Q}}/\mathbf{Z}]$ is
quasi-compact but not very reasonable.
\end{example}






\section{Properties of spaces defined by properties of schemes}
\label{section-types-properties}

\begin{definition}
\label{definition-type-property}
Let $\mathcal{P}$ be a property of schemes which is 
local in the etale topology, see
Descent, Definition \ref{descent-definition-property-local}.
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
We say an algebraic space $X$ {\it has property $\mathcal{P}$}
if there exists an etale surjective morphism $U \to X$ such
that $U$ has property $\mathcal{P}$.
\end{definition}

\begin{remark}
\label{remark-list-properties-local-etale-topology}
Here is a list of properties which are local for the etale topology
(keep in mind that the fpqc, fppf, syntomic, and smooth topologies are
stronger than the etale topology):
\begin{enumerate}
\item locally Noetherian, see
Descent, Lemma \ref{descent-lemma-Noetherian-local-fppf},
\item Jacobson, see
Descent, Lemma \ref{descent-lemma-Jacobson-local-fppf},
\item locally Noetherian and $(S_k)$, see
Descent, Lemma \ref{descent-lemma-Sk-local-syntomic},
\item Cohen-Macaulay, see
Descent, Lemma \ref{descent-lemma-CM-local-syntomic},
\item reduced, see
Descent, Lemma \ref{descent-lemma-reduced-local-smooth},
\item normal, see
Descent, Lemma \ref{descent-lemma-normal-local-smooth},
\item locally Noetherian and $(R_k)$, see
Descent, Lemma \ref{descent-lemma-Rk-local-smooth},
\item regular, see
Descent, Lemma \ref{descent-lemma-regular-local-smooth},
\item Nagata, see
Descent, Lemma \ref{descent-lemma-Nagata-local-smooth}.
\end{enumerate}
\end{remark}

\begin{lemma}
\label{lemma-type-property}
Let $\mathcal{P}$ be a property of schemes which is 
local in the etale topology.
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
The following are equivalent
\begin{enumerate}
\item $X$ has property $\mathcal{P}$,
\item for every scheme $U$ and every etale morphism $U \to X$
the scheme $U$ has property $\mathcal{P}$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}






\section{Reduced spaces}
\label{section-reduced}

\noindent
We have already defined reduced algebraic spaces in
Section \ref{section-types-properties}.
Here we just prove some simple lemmas regarding reduced algebraic
spaces.

\begin{lemma}
\label{lemma-reduced-closed-subspace}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $T \subset |X|$ be a closed subset.
There exists a unique closed subspace $Z \subset X$ with
the following properties: (a) we have $|Z| = T$, and (b) $Z$ is reduced.
\end{lemma}

\begin{proof}
Let $U \to X$ be a surjective etale morphism, where $U$ is a scheme.
Set $R = U \times_X U$, so that $X = U/R$, see
Spaces, Lemma \ref{spaces-lemma-space-presentation}.
As usual we denote $s, t : R \to U$ the two projection morphisms.
By Lemma \ref{lemma-points-presentation}
we see that $T$ corresponds to a closed subset $T' \subset |U|$ such
that $s^{-1}(T') = t^{-1}(T')$.
Let $Z' \subset U$ be the reduced induced scheme structure on $T'$.
In this case the fibre products
$Z' \times_{U, t} R$ and $Z' \times_{U, s} R$ are closed subschemes
of $R$
(Schemes, Lemma \ref{schemes-lemma-base-change-immersion})
which are etale over $Z'$
(Morphisms, Lemma \ref{morphisms-lemma-base-change-etale}),
and hence reduced
(because being reduced is local in the etale topology, see
Remark \ref{remark-list-properties-local-etale-topology}).
Since they have the same underlying topological space (see above)
we conclude that $Z' \times_{U, t} R = Z' \times_{U, s} R$.
Hence the common value $R'$ is the restriction of $R$ to $Z'$, see
Groupoids, Definition \ref{groupoids-definition-restrict-groupoid}. By
Spaces, Theorem \ref{spaces-theorem-presentation} we see that
$Z = Z'/R'$ is an algebraic space. By
Groupoids, Lemma \ref{groupoids-lemma-quotient-groupoid-restrict}
we see that $Z \to X$ is a monomorphism. By construction we have
$U \times_X Z = Z'$, so $U \times_X Z \to Z$ is a closed immersion.
This means all the hypotheses of
Spaces,
Lemma \ref{spaces-lemma-morphism-sheaves-with-P-effective-descent-etale}
are satisfied
for the transformation $Z \to X$, $\mathcal{P}=$``closed immersion'' (closed
immersions satisfy descent for etale coverings, see
Descent, Lemma \ref{descent-lemma-closed-immersion}),
and the etale surjective morphism $U \to X$. We conclude that $Z \to X$
is representable, a monomorphism and a closed immersion, which is the
definition of a closed subspace (see
Spaces, Definition \ref{spaces-definition-immersion}). By construction
$|Z| = T$ and $Z$ is reduced. This proves existence. We omit the proof
of uniqueness.
\end{proof}

\begin{lemma}
\label{lemma-map-into-reduction}
Let $S$ be a scheme.
Let $X$, $Y$ be algebraic spaces over $S$.
Let $Z \subset X$ be a closed subspace.
Assume $Y$ is reduced.
A morphism $f : Y \to X$ factors through $Z$ if and only if
$f(|Y|) \subset |Z|$.
\end{lemma}

\begin{proof}
Assume $f(|Y|) \subset |Z|$. Choose a diagram
$$
\xymatrix{
V \ar[d]_b \ar[r]_h & U \ar[d]^a \\
Y \ar[r]^f & X
}
$$
where $U$, $V$ are schemes, and the vertical arrows are surjective and
etale. The scheme $V$ is reduced, see
Lemma \ref{lemma-type-property}.
Hence $h$ factors through $a^{-1}(Z)$ by
Schemes, Lemma \ref{schemes-lemma-map-into-reduction}.
So $a \circ h$ factors through $Z$.
As $Z \subset X$ is a subsheaf, and $V \to Y$ is a surjection of sheaves
on $(\textit{Sch}/S)_{fppf}$ we conclude that $X \to Y$ factors
through $Z$.
\end{proof}





\section{Universally bounded fibres}
\label{section-universally-bounded}

\noindent
We briefly discuss what it means for a morphism from a scheme to an
algebraic space to have universally bounded fibres. Please refer to
Morphisms, Section \ref{morphisms-section-universally-bounded}
for similar definitions and results on morphisms of schemes.

\begin{definition}
\label{definition-universally-bounded}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$, and
let $U$ be a scheme over $S$. Let $f : U \to X$ be a morphism over $S$.
We say the {\it fibres of $f$ are universally bounded}\footnote{This is
probably nonstandard notation.}
if there exists an integer $n$ such that for all fields
$k$ and all morphisms $\text{Spec}(k) \to X$ the fibre
product $\text{Spec}(k) \times_X U$ is a finite scheme over $k$
whose degree over $k$ is $\leq n$.
\end{definition}

\noindent
This definition makes sense because the fibre product
$\text{Spec}(k) \times_Y X$ is a scheme. Moreover, if $Y$ is a scheme
we recover the notion of
Morphisms, Definition \ref{morphisms-definition-universally-bounded}
by virtue of
Morphisms, Lemma \ref{morphisms-lemma-characterize-universally-bounded}.

\begin{lemma}
\label{lemma-composition-universally-bounded}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $V \to U$ be a morphism of schemes over $S$, and let
$U \to X$ be a morphism from $U$ to $X$. If the fibres of
$V \to U$ and $U \to X$ are universally bounded, then so
are the fibres of $V \to X$.
\end{lemma}

\begin{proof}
Let $n$ be an integer which works for $V \to U$, and let $m$ be
an integer which works for $U \to X$ in
Defintion \ref{definition-universally-bounded}.
Let $\text{Spec}(k) \to X$ be a morphism, where $k$ is a field.
Consider the morphisms
$$
\text{Spec}(k) \times_X V
\longrightarrow
\text{Spec}(k) \times_X U
\longrightarrow
\text{Spec}(k).
$$
By assumption the scheme $\text{Spec}(k) \times_X U$
is finite of degree at most $m$ over $k$, and $n$ is an integer which
bounds the degree of the fibres of the first morphism. Hence by
Morphisms, Lemma \ref{morphisms-lemma-composition-universally-bounded}
we conclude that $\text{Spec}(k) \times_X V$ is finite over $k$
of degree at most $nm$.
\end{proof}

\begin{lemma}
\label{lemma-base-change-universally-bounded}
Let $S$ be a scheme.
Let $Y \to X$ be a representable morphism of algebraic spaces over $S$.
Let $U \to X$ be a morphism from a scheme to $X$.
If the fibres of $U \to X$ are universally bounded, then the fibres
of $U \times_X Y \to Y$ are universally bounded.
\end{lemma}

\begin{proof}
This is clear from the definition, and properties of fibre products.
(Note that $U \times_X Y$ is a scheme
as we assumed $Y \to X$ representable, so the definition applies.)
\end{proof}

\begin{lemma}
\label{lemma-descent-universally-bounded}
Let $S$ be a scheme. Let $g : Y \to X$ be a representable morphism of
algebraic spaces over $S$. Let $f : U \to X$ be a morphism from a scheme
towards $X$. Let $f' : U \times_X Y \to Y$ be the base change of $f$.
If
$$
\text{Im}(|f| : |U| \to |X|) \subset \text{Im}(|g| : |Y| \to |X|)
$$
and $f'$ has universally bounded fibres, then $f$ has universally
bounded fibres.
\end{lemma}

\begin{proof}
Let $n \geq 0$ be an integer bounding the degrees of the fibre
products $\text{Spec}(k) \times_Y (U \times_X Y)$ as in
Definition \ref{definition-universally-bounded} for the morphism $f'$.
We claim that $n$ works for $f$ also. Namely, suppose that
$x : \text{Spec}(k) \to X$ is a morphism from the spectrum of
a field. Then either $\text{Spec}(k) \times_X U$ is empty (and there
is nothing to prove), or $x$ is in the image of $|f|$. By
Lemma \ref{lemma-points-cartesian} and the assumption of the lemma we see
that this means there exists a field extension $k \subset k'$ and a
commutative diagram
$$
\xymatrix{
\text{Spec}(k') \ar[r] \ar[d] & Y \ar[d] \\
\text{Spec}(k) \ar[r] & X
}
$$
Hence we see that
$$
\text{Spec}(k') \times_Y (U \times_X Y) =
\text{Spec}(k') \times_{\text{Spec}(k)} (\text{Spec}(k) \times_X U)
$$
Since the scheme $\text{Spec}(k') \times_Y (U \times_X Y)$ is assumed finite
of degree $\leq n$ over $k'$ it follows that also $\text{Spec}(k) \times_X U$
is finite of degree $\leq n$ over $k$ as desired. (Some details omitted.)
\end{proof}

\begin{lemma}
\label{lemma-universally-bounded-permanence}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Consider a commutative diagram
$$
\xymatrix{
U \ar[rd]_g \ar[rr]_{f} & & V \ar[ld]^h \\
& X &
}
$$
where $U$ and $V$ are schemes. If $g$ has universally bounded fibres,
and $f$ is surjective and flat, then also $h$ has universally bounded fibres.
\end{lemma}

\begin{proof}
Assume $g$ has universally bounded fibres, and $f$ is surjective and flat.
Say $n \geq 0$. is an integer which bounds the degrees of the schemes
$\text{Spec}(k) \times_X U$ as in
Definition \ref{definition-universally-bounded}.
We claim $n$ also works for $h$.
Let $\text{Spec}(k) \to X$ be a morphism from the spectrum of a
field to $X$. Consider the morphism of schemes
$$
\text{Spec}(k) \times_X V \longrightarrow \text{Spec}(k) \times_X U
$$
It is flat and surjective. By assumption the scheme
on the left is finite of degree $\leq n$ over $\text{Spec}(k)$.
It follows from
Morphisms, Lemma \ref{morphisms-lemma-universally-bounded-permanence}
that the degree of the scheme on the right is also bounded by $n$
as desired.
\end{proof}

\begin{lemma}
\label{lemma-universally-bounded-finite-fibres}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$, and let $U$ be a scheme over $S$.
Let $\varphi : U \to X$ be a morphism over $S$.
If the fibres of $\varphi$ are universally bounded, then there exists an
integer $n$ such that each fibre of $|U| \to |X|$ has at most
$n$ elements.
\end{lemma}

\begin{proof}
The integer $n$ of Definition \ref{definition-universally-bounded} works.
Namely, pick $x \in |X|$. Represent $x$ by a morphism
$x : \text{Spec}(k) \to X$. Then we get a commutative diagram
$$
\xymatrix{
\text{Spec}(k) \times_X U \ar[r] \ar[d] & U \ar[d] \\
\text{Spec}(k) \ar[r]^x & X
}
$$
which shows (via Lemma \ref{lemma-points-cartesian})
that the inverse image of $x$ in $|U|$ is the image of
the top horizontal arrow. Since $\text{Spec}(k) \times_X U$ is finite
of degree $\leq n$ over $k$ it has at most $n$ points.
\end{proof}








\section{Finiteness conditions and points}
\label{section-points-monomorphisms}

\noindent
In this section we elaborate on the question of when points can be represented
by monomorphisms from spectra of fields into the space.

\begin{remark}
\label{remark-recall}
Before we give the proof of the next lemma let us recall some facts
about etale morphisms of schemes:
\begin{enumerate}
\item An etale morphism is flat and hence generalizations lift along
an etale morphism
(Morphisms, Lemmas \ref{morphisms-lemma-etale-flat}
and \ref{morphisms-lemma-generalizations-lift-flat}).
\item An etale morphism is unramified, an unramified morphism is locally
quasi-finite, hence fibres are discrete
(Morphisms, Lemmas \ref{morphisms-lemma-flat-unramified-etale},
\ref{morphisms-lemma-unramified-quasi-finite}, and
\ref{morphisms-lemma-quasi-finite-at-point-characterize}).
\item A quasi-compact etale morphism is quasi-finite and in particular
has finite fibres
(Morphisms, Lemmas \ref{morphisms-lemma-quasi-finite-locally-quasi-compact} and
\ref{morphisms-lemma-quasi-finite}).
\item An etale scheme over a field $k$ is a disjoint union of spectra
of finite separable field extension of $k$
(Morphisms, Lemma \ref{morphisms-lemma-etale-over-field}).
\end{enumerate}
For a general discussion of etale morphisms, please see
Etale Morphisms of Schemes, Section \ref{etale-section-etale-morphisms}.
\end{remark}

\noindent
The following lemma is the key lemma which we will use to prove that
certain algebraic spaces are isomorphic to the spectrum of a field.

\begin{lemma}
\label{lemma-point-like-spaces}
Let $S$ be a scheme. Let $k$ be a field.
Let $X$ be an algebraic space over $S$ and assume that there exists
a surjective etale morphism $\text{Spec}(k) \to X$.
If $X$ is quasi-separated, then $X \cong \text{Spec}(k')$
where $k' \subset k$ is a finite separable extension.
\end{lemma}

\begin{proof}
Set $R = \text{Spec}(k) \times_X \text{Spec}(k)$, so that we have a
fibre product diagram
$$
\xymatrix{
R \ar[r]_-s \ar[d]_-t & \text{Spec}(k) \ar[d] \\
\text{Spec}(k) \ar[r] & X
}
$$
By Spaces, Lemma \ref{spaces-lemma-space-presentation}
we know $X = \text{Spec}(k)/R$ is the quotient sheaf.
Because $\text{Spec}(k) \to X$ is etale, the morphisms $s$ and $t$ are etale.
Hence $R = \coprod_{i \in I} \text{Spec}(k_i)$ is a disjoint
union of spectra of fields, and both $s$ and $t$
induce finite separable field extensions $s, t : k \subset k_i$,
see Remark \ref{remark-recall}. Because
$$
R = \text{Spec}(k) \times_X \text{Spec}(k)
= (\text{Spec}(k) \times_S \text{Spec}(k)) \times_{X \times_S X, \Delta} X
$$
and since $\Delta$ is quasi-compact by assumption we conclude that
$R \to \text{Spec}(k) \times_S \text{Spec}(k)$ is quasi-compact.
Hence $R$ is quasi-compact as $\text{Spec}(k) \times_S \text{Spec}(k)$ is
affine. We conclude that $I$ is finite. This implies
that $s$ and $t$ are finite locally free morphisms. Hence by
Groupoids, Proposition \ref{groupoids-proposition-finite-flat-equivalence}
we conclude that $\text{Spec}(k)/R$ is
represented by $\text{Spec}(k')$, with $k' \subset k$ finite locally free
where
$$
k' = \{x \in k \mid s_i(x) = t_i(x)\text{ for all }i \in I\}
$$
It is easy to see that $k'$ is a field.
\end{proof}

\begin{remark}
\label{remark-cannot-decide-yet}
It is possible that
Lemma \ref{lemma-point-like-spaces}
also holds when $X$ is locally separated. To prove this one would
have to show that the index set $I$ in the proof of
Lemma \ref{lemma-point-like-spaces}
is finite, if we only assume that
$R \to \text{Spec}(k) \times_S \text{Spec}(k)$ is an immersion (and an etale
equivalence relation of course).
\end{remark}

\begin{lemma}
\label{lemma-U-finite-above-x}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $x \in |X|$. The following are equivalent:
\begin{enumerate}
\item there exists a family of schemes $U_i$ and
etale morphisms $\varphi_i : U_i \to X$ such that
$\coprod \varphi_i : \coprod U_i \to X$ is surjective,
and such that for each $i$ the fibre of
$|U_i| \to |X|$ over $x$ is finite, and
\item for every affine scheme $U$ and etale morphism $\varphi : U \to X$
the fibre of $|U| \to |X|$ over $x$ is finite.
\end{enumerate}
\end{lemma}

\begin{proof}
The implication (2) $\Rightarrow$ (1) is trivial.
Let $\varphi_i : U_i \to X$ be a family of etale morphisms as in (1).
Let $\varphi : U \to X$ be an etale morphism from a scheme
towards $X$. Consider the fibre product diagrams
$$
\xymatrix{
U \times_X U_i \ar[r]_-{p_i} \ar[d]_{q_i} & U_i \ar[d]^{\varphi_i} \\
U \ar[r]^\varphi & X
}
\quad \quad
\xymatrix{
\coprod U \times_X U_i \ar[r]_-{\coprod p_i} \ar[d]_{\coprod q_i} &
\coprod U_i \ar[d]^{\coprod \varphi_i} \\
U \ar[r]^\varphi & X
}
$$
Since $q_i$ is etale it is open (see Remark \ref{remark-recall}).
Moreover, the morphism $\coprod q_i$ is surjective.
Hence there exist finitely many indices $i_1, \ldots, i_n$ and
a quasi-compact opens $W_{i_j} \subset U \times_X U_{i_j}$
which surject onto $U$.
The morphism $p_i$ is etale, hence locally quasi-finite (see remark on
etale morphisms above). Thus we may apply
Morphisms, Lemma
\ref{morphisms-lemma-locally-quasi-finite-qc-source-universally-bounded}
to see the fibres of $p_{i_j}|_{W_{i_j}} : W_{i_j} \to U_i$ are finite.
Hence by
Lemma \ref{lemma-points-cartesian}
and the assumption on $\varphi_i$ we conclude that the fibre 
of $\varphi$ over $x$ is finite. In other words (2) holds.
\end{proof}

\begin{lemma}
\label{lemma-U-universally-bounded}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
The following are equivalent:
\begin{enumerate}
\item there exist schemes $U_i$ and etale morphisms
$U_i \to X$ such that $\coprod U_i \to X$ is surjective and
each $U_i \to X$ has universally bounded fibres, and
\item for every affine scheme $U$ and etale morphism $\varphi : U \to X$
the fibres of $U \to X$ are universally bounded.
\end{enumerate}
\end{lemma}

\begin{proof}
The implication (2) $\Rightarrow$ (1) is trivial.
Assume (1). Let $(\varphi_i : U_i \to X)_{i \in I}$ be a collection of
etale morphisms from schemes towards $X$, covering $X$, such that
each $\varphi_i$ has universally bounded fibres.
Let $\psi : U \to X$ be an etale morphism from an affine scheme towards $X$.
For each $i$ consider the fibre product diagram
$$
\xymatrix{
U \times_X U_i \ar[r]_{p_i} \ar[d]_{q_i} & U_i \ar[d]^{\varphi_i} \\
U \ar[r]^\psi & X
}
$$
Since $q_i$ is etale it is open (see Remark \ref{remark-recall}).
Moreover, we have $U = \bigcup \text{Im}(q_i)$, since the family
$(\varphi_i)_{i \in I}$ is surjective. Since $U$ is affine, hence quasi-compact
we can finite finitely many $i_1, \ldots, i_n \in I$ and quasi-compact
opens $W_j \subset U \times_X U_{i_j}$ such that
$U = \bigcup p_{i_j}(W_j)$.
The morphism $p_{i_j}$ is etale, hence locally quasi-finite
(see remark on etale morphisms above). Thus we may apply
Morphisms, Lemma
\ref{morphisms-lemma-locally-quasi-finite-qc-source-universally-bounded}
to see the fibres of $p_{i_j}|_{W_j} : W_j \to U_{i_j}$ are universally
bounded. Hence by
Lemma \ref{lemma-composition-universally-bounded}
we see that the fibres of $W_j \to X$ are universally bounded.
Thus also $\coprod_{j = 1, \ldots, n} W_j \to X$ has universally
bounded fibres. Since $\coprod_{j = 1, \ldots, n} W_j \to X$ factors
through the surjective etale map
$\coprod q_{i_j}|_{W_j} : \coprod_{j = 1, \ldots, n} W_j \to U$ we
see that the fibres of $U \to X$ are universally bounded by
Lemma \ref{lemma-universally-bounded-permanence}.
In other words (2) holds.
\end{proof}

\begin{lemma}
\label{lemma-finite-fibres-presentation}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $U$ be a scheme. Let $\varphi : U \to X$ be an etale morphism such that the
projections $R = U \times_X U \to U$ are quasi-compact; for example if
$\varphi$ is quasi-compact. Then the fibres of
$$
|U| \to |X|
\quad\text{and}\quad
|R| \to |X|
$$
are finite.
\end{lemma}

\begin{proof}
Denote $R = U \times_X U$, and $s, t : R \to U$ the projections.
Let $u \in U$ be a point, and let $x \in |X|$ be its image.
The fibre of $|U| \to |X|$ over $x$ is equal to
$s(t^{-1}(\{u\}))$ by Lemma \ref{lemma-points-cartesian}, and
the fibre of $|R| \to |X|$ over $x$ is $t^{-1}(s(t^{-1}(\{u\})))$.
Since $t : R \to U$ is etale and quasi-compact, it has finite fibres
(as its fibres are disjoint unions of spectra of fields by
Morphisms, Lemma \ref{morphisms-lemma-etale-over-field}
and quasi-compact; see also Remark \ref{remark-recall}). Hence we win.
\end{proof}

\begin{lemma}
\label{lemma-R-finite-above-x}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $x \in |X|$. The following are equivalent:
\begin{enumerate}
\item there exists a scheme $U$, an etale morphism
$\varphi : U \to X$, and points $u, u' \in U$ mapping to
$x$ such that setting $R = U \times_X U$ the fibre of
$$
|R| \to |U| \times_{|X|} |U|
$$
over $(u, u')$ is finite,
\item for every scheme $U$, etale morphism $\varphi : U \to X$ and
any points $u, u' \in U$ mapping to
$x$ setting $R = U \times_X U$ the fibre of
$$
|R| \to |U| \times_{|X|} |U|
$$
over $(u, u')$ is finite,
\item there exists a morphism $\text{Spec}(k) \to X$ with $k$ a field
in the equivalence class of $x$ such that the projections
$\text{Spec}(k) \times_X \text{Spec}(k) \to \text{Spec}(k)$ are
etale and quasi-compact, and
\item there exists a monomorphism $\text{Spec}(k) \to X$ with $k$ a field
in the equivalence class of $x$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume (1), i.e., let $\varphi : U \to X$ be an etale morphism from a scheme
towards $X$, and let $u, u'$ be points of $U$ lying over $x$
such that the fibre of $|R| \to |U| \times_{|X|} |U|$ over $(u, u')$
is a finite set. In this proof we think of a point $u = \text{Spec}(\kappa(u))$
as a scheme. Note that $u \to U$, $u' \to U$ are monomorphisms (see
Schemes, Lemma \ref{schemes-lemma-injective-points-surjective-stalks}),
hence $u \times_X u' \to R = U \times_X U$ is a monomorphism.
In this language the assumption really means that
$u \times_X u'$ is a scheme whose underlying topological space has
finitely many points.
Let $\psi : W \to X$ be an etale morphism from a scheme towards $X$.
Let $w, w' \in W$ be points of $W$ mapping to $x$.
We have to show that $w \times_X w'$ is a scheme whose underlying topological
space has finitely many points.
Consider the fibre product diagram
$$
\xymatrix{
W \times_X U \ar[r]_p \ar[d]_q & U \ar[d]^\varphi \\
W \ar[r]^\psi & X
}
$$
As $x$ is the image of $u$ and $u'$ we may pick points
$\tilde w, \tilde w'$ in $W \times_X U$ with $q(\tilde w) = w$,
$q(\tilde w') = w'$, $u = p(\tilde w)$ and $u' = p(\tilde w')$, see
Lemma \ref{lemma-points-cartesian}. As $p$, $q$ are etale the field extensions
$\kappa(w) \subset \kappa(\tilde w) \supset \kappa(u)$ and
$\kappa(w') \subset \kappa(\tilde w') \supset \kappa(u')$ are
finite separable, see Remark \ref{remark-recall}.
Then we get a commutative diagram
$$
\xymatrix{
w \times_X w' \ar[d] &
\tilde w \times_X \tilde w' \ar[l] \ar[d] \ar[r] &
u \times_X u' \ar[d] \\
w \times_X w' &
\tilde w \times_S \tilde w' \ar[l] \ar[r] &
u \times_S u'
}
$$
where the squares are fibre product squares. The lower horizontal
morpisms are etale and quasi-compact, as any scheme of the form
$\text{Spec}(k) \times_S \text{Spec}(k')$ is affine, and by our
observations about the field extensions above.
Thus we see that the top horizontal arrows are etale and quasi-compact
and hence have finite fibres.
We have seen above that $|u \times_X u'|$ is finite, so we conclude that
$|w \times_X w'|$ is finite. In other words, (2) holds.

\medskip\noindent
Assume (2). Let $U \to X$ be an etale morphism from a scheme $U$
such that $x$ is in the image of $|U| \to |X|$. Let $u \in U$ be
a point mapping to $x$. Then we have seen in the previous
paragraph that $u = \text{Spec}(\kappa(u)) \to X$ has the property that
$u \times_X u$ has a finite underlying topological space. On the other
hand, the projection maps $u \times_X u \to u$ are the composition
$$
u \times_X u \longrightarrow
u \times_X U \longrightarrow
u \times_X X = u,
$$
i.e., the composition of a monomorphism (the base change of the monomorphism
$u \to U$) by an etale morphism (the base change of the etale morphism
$U \to X$). Hence $u \times_X U$ is a disjoint union of spectra of fields
finite separable over $\kappa(u)$ (see
Remark \ref{remark-recall}). Since $u \times_X u$ is finite the image
of it in $u \times_X U$ is a finite disjoint union of spectra of fields
finite separable over $\kappa(u)$. By
Schemes, Lemma \ref{schemes-lemma-mono-towards-spec-field}
we conclude that $u \times_X u$ is a finite disjoint union of spectra
of fields finite separable over $\kappa(u)$. In other words, we see that
$u \times_X u \to u$ is quasi-compact and etale. This means that (3) holds.

\medskip\noindent
Let us prove that (3) implies (4). Let $\text{Spec}(k) \to X$ be a morphism
from the spectrum of a field into $X$, in the equivalence class of $x$
such that the two projections
$t, s : R = \text{Spec}(k) \times_X \text{Spec}(k)  \to \text{Spec}(k)$
are quasi-compact and etale.
This means in particular
that $R$ is an etale equivalence relation on $\text{Spec}(k)$.
By Spaces, Theorem \ref{spaces-theorem-presentation}
we know that the quotient sheaf
$X' = \text{Spec}(k)/R$ is an algebraic space. By
Groupoids, Lemma \ref{groupoids-lemma-quotient-groupoid-restrict}
the map $X' \to X$ is a monomorphism.
Since $s, t$ are quasi-compact, we see that $R$ is quasi-compact and hence
Lemma \ref{lemma-point-like-spaces} applies to $X'$, and we see that
$X' = \text{Spec}(k')$ for some field $k'$. Hence we get a factorization
$$
\text{Spec}(k) \longrightarrow
\text{Spec}(k') \longrightarrow X
$$
which shows that $\text{Spec}(k') \to X$ is a monomorphism mapping
to $x \in |X|$. In other words (4) holds.

\medskip\noindent
Finally, we prove that (4) implies (1). Let $\text{Spec}(k) \to X$
be a monomorphism with $k$ a field in the equivalence class of $x$.
Let $U \to X$ be a surjectve etale morphism from a scheme $U$ to $X$.
Let $u \in U$ be a point over $x$. Since $\text{Spec}(k) \times_X u$
is nonempty, and since $\text{Spec}(k) \times_X u \to u$ is a monomorphism
we conclude that $\text{Spec}(k) \times_X u = u$ (see
Schemes, Lemma \ref{schemes-lemma-mono-towards-spec-field}).
Hence $u \to U \to X$ factors through $\text{Spec}(k) \to X$, here is
a picture
$$
\xymatrix{
u \ar[r] \ar[d] & U \ar[d] \\
\text{Spec}(k) \ar[r] & X
}
$$
Since the right vertical arrow is etale this implies that $k \subset \kappa(u)$
is a finite separable extension. Hence we conclude that
$$
u \times_X u = u \times_{\text{Spec}(k)} u
$$
is a finite scheme, and we win by the discussion of the meaning of property
(1) in the first paragraph of this proof.
\end{proof}

\begin{lemma}
\label{lemma-weak-UR-finite-above-x}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $x \in |X|$.
Let $U$ be a scheme and let $\varphi : U \to X$ be an etale morphism.
The following are equivalent:
\begin{enumerate}
\item $x$ is in the image of $|U| \to |X|$, and
setting $R = U \times_X U$ the fibres of both
$$
|U| \longrightarrow |X|
\quad\text{and}\quad
|R| \longrightarrow |X|
$$
over $x$ are finite,
\item there exists a monomorphism $\text{Spec}(k) \to X$ with $k$ a field
in the equivalence class of $x$, and
the fibre product $\text{Spec}(k) \times_X U$ is
a finite nonempty scheme over $k$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume (1). This clearly implies the first condition of
Lemma \ref{lemma-R-finite-above-x} and hence we obtain a monomorphism
$\text{Spec}(k) \to X$ in the class of $x$. Taking the fibre product
we see that $\text{Spec}(k) \times_X U \to \text{Spec}(k)$ is a scheme
etale over $\text{Spec}(k)$ with finitely many points, hence a finite
nonempty scheme over $k$, i.e., (2) holds.

\medskip\noindent
Assume (2). By assumption $x$ is in the image of
$|U| \to |X|$. The finiteness of the fibre of
$|U| \to |X|$ over $x$ is clear since this fibre is equal to
$|\text{Spec}(k) \times_X U|$ by Lemma \ref{lemma-points-cartesian}.
The finiteness of the fibre of $|R| \to |X|$ above $x$ is also clear
since it is equal to the set underlying the scheme
$$
(\text{Spec}(k) \times_X U) \times_{\text{Spec}(k)} (\text{Spec}(k) \times_X U)
$$
which is finite over $k$. Thus (1) holds.
\end{proof}

\begin{lemma}
\label{lemma-UR-finite-above-x}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $x \in |X|$. The following are equivalent:
\begin{enumerate}
\item for every affine scheme $U$, any etale morphism
$\varphi : U \to X$ setting $R = U \times_X U$ the fibres of both
$$
|U| \longrightarrow |X|
\quad\text{and}\quad
|R| \longrightarrow |X|
$$
over $x$ are finite,
\item there exists a monomorphism $\text{Spec}(k) \to X$ with $k$ a field
in the equivalence class of $x$, and for any affine scheme $U$ and etale
morphism $U \to X$ the fibre product $\text{Spec}(k) \times_X U$ is
a finite scheme over $k$, and
\item there exist schemes $U_i$ and etale morphisms
$U_i \to X$ such that $\coprod U_i \to X$ is surjective and for each
$i$, setting $R_i = U_i \times_X U_i$ the fibres of both
$$
|U_i| \longrightarrow |X|
\quad\text{and}\quad
|R_i| \longrightarrow |X|
$$
over $x$ are finite.
\end{enumerate}
\end{lemma}

\begin{proof}
The equivalence of (1) and (2) follows on applying
Lemma \ref{lemma-weak-UR-finite-above-x} to every etale morphism
$U \to X$ with $U$ affine. It is clear that (2) implies (3).
Assume $U_i \to X$ and $R_i$ are as in (3). We conclude from
Lemma \ref{lemma-U-finite-above-x}
that for any affine scheme $U$ and etale morphism $U \to X$
the fibre of $|U| \to |X|$ over $x$ is finite.
Say this fibre is $\{u_1, \ldots, u_n\}$.
Then, as
Lemma \ref{lemma-R-finite-above-x} (1)
applies to $U_i \to X$ for some $i$ such that $x$ is in the image of
$|U_i| \to |X|$, we see that the fibre of
$|R = U \times_X U| \to |U| \times_{|X|} |U|$
is finite over $(u_a, u_b)$, $a, b \in \{1, \ldots, n\}$.
Hence the fibre of $|R| \to |X|$ over $x$ is finite.
In this way we see that (1) holds.
\end{proof}







\section{Reasonable and decent algebraic spaces}
\label{section-reasonable-decent}

\noindent
The conditions in the following definition
are not exactly conditions on the diagonal of $X$, but they are in some
sense separation conditions on $X$.

\begin{definition}
\label{definition-very-reasonable}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
\begin{enumerate}
\item We say $X$ is {\it decent} if for every point $x \in X$ the equivalent
conditions of Lemma \ref{lemma-UR-finite-above-x} hold, in other words
property $(\gamma)$ of
Lemma \ref{lemma-bounded-fibres}
holds.
\item We say $X$ is {\it reasonable} if the equivalent conditions of
Lemma \ref{lemma-U-universally-bounded}
hold, in other words property $(\delta)$ of
Lemma \ref{lemma-bounded-fibres}
holds.
\item We say $X$ is {\it very reasonable} if there exists a set of schemes
$U_i$ and morphisms $U_i \to X$ such that
\begin{enumerate}
\item each $U_i \to X$ is etale,
\item both projections $U_i \times_X U_i \to U_i$ are
quasi-compact, and
\item the morphism $\coprod U_i \to X$ is surjective (and etale).
\end{enumerate}
This property is denoted $(\epsilon)$ in
Lemma \ref{lemma-bounded-fibres}.
\end{enumerate}
\end{definition}

\noindent
The notion of a very reasonable algebraic space was introduced because
the assumption was sufficient to prove some of the results below, especially
Proposition \ref{proposition-very-reasonable-open-dense-scheme} and
\ref{proposition-very-reasonable-sober}.
We hope to replace (in the future) the strengthen these results to
the case where the space $X$ is reasonable or even just decent.
Condition (3)(b) means that $U_i \to X$ is quasi-compact onto its image;
see Lemma \ref{lemma-characterize-very-reasonable} and its proof.
In particular, if there exists a scheme $U$ and a surjective, quasi-compact
morphism $U \to X$, then $X$ is very reasonable. Namely, in this case both
projections $U \times_X U \to U$ are quasi-compact.

\begin{lemma}
\label{lemma-characterize-very-reasonable}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
The following are equivalent:
\begin{enumerate}
\item $X$ is very reasonable, and
\item there exists a Zariski covering $X = \bigcup X_i$ and for
each $i$ a scheme $U_i$ and a quasi-compact surjective etale
morphism $U_i \to X_i$.
\end{enumerate}
\end{lemma}

\begin{proof}
If (2) holds then the morphisms $U_i \to X_i \to X$ are etale (combine
Morphisms, Lemma \ref{morphisms-lemma-composition-etale}
and
Spaces, Lemmas
\ref{spaces-lemma-morphism-schemes-gives-representable-transformation-property}
and
\ref{spaces-lemma-composition-representable-transformations-property}).
Moreover, as $U_i \times_X U_i = U_i \times_{X_i} U_i$,
both projections $U_i \times_X U_i \to U_i$ are quasi-compact.

\medskip\noindent
If $X$ is very reasonable then there exists a surjective etale morphism
$\coprod U_i \to X$, where each $U_i$ is a scheme, such that
the projections $U_i \times_X U_i \to U_i$ are quasi-compact.
Let $X_i \subset X$ be the open subspace corresponding to the image
of the open map $|U_i| \to |X|$ (use
Lemmas \ref{lemma-open-subspaces} and \ref{lemma-topology-points}).
By Lemma \ref{lemma-factor-through-open-subspace}
we get morphisms $U_i \to X_i$ which are
surjective by Lemma \ref{lemma-characterize-surjective}.
Hence $U_i \to X_i$ is surjective etale, and the projections
$U_i \times_{X_i} U_i \to U_i$ are quasi-compact, again because
$U_i \times_{X_i} U_i = U_i \times_X U_i$. Thus by
Spaces, Lemma \ref{spaces-lemma-representable-morphisms-spaces-property}
the morphisms $U_i \to X_i$ are quasi-compact.
\end{proof}

\begin{lemma}
\label{lemma-scheme-very-reasonable}
A scheme is very reasonable.
\end{lemma}

\begin{proof}
This is true because the identity map is a quasi-compact, surjective
etale morphism.
\end{proof}

\begin{lemma}
\label{lemma-very-reasonable-Zariski-local}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
If there exists a Zariski open covering $X = \bigcup X_i$ such that
each $X_i$ is very reasonable, then $X$ is very reasonable.
\end{lemma}

\begin{proof}
Assume there exists a Zariski open covering
$X = \bigcup X_i$, where each $X_i$ is very reasonable.
Then we can find sets $J_i$ and morphisms
$\varphi_{ij} : U_{ij} \to X_i$ such that each $\varphi_{ij}$
is etale, both projections $U_{ij} \times_{X_i} U_{ij} \to U_{ij}$
are quasi-compact, and $\coprod_{j \in J_i} U_{ij} \to X_i$ is surjective.
In this case the compositions $U_{ij} \to X_i \to X$ are etale
(combine
Morphisms, Lemmas
\ref{morphisms-lemma-composition-etale}
and
\ref{morphisms-lemma-open-immersion-etale}
and
Spaces, Lemmas
\ref{spaces-lemma-morphism-schemes-gives-representable-transformation-property}
and
\ref{spaces-lemma-composition-representable-transformations-property}).
Since $X_i \subset X$ is a subspace we see that
$U_{ij} \times_{X_i} U_{ij} = U_{ij} \times_X U_{ij}$, and hence the
condition on fibre products is preserved. And clearly
$\coprod_{i, j} U_{ij} \to X$ is surjective. Hence $X$ is very reasonable.
\end{proof}

\begin{lemma}
\label{lemma-quasi-separated-very-reasonable}
An algebraic space which is Zariski locally quasi-separated is very reasonable.
In particular any quasi-separated algebraic space is very reasonable.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-very-reasonable-Zariski-local}
it suffices to show that a quasi-separated algebraic space is very reasonable.

\medskip\noindent
Let $S$ be a scheme, and let $X$ be a quasi-separated algebraic space
over $S$. Let $U$ be a scheme and let $U \to X$ be a surjective etale
morphism. Let $U = \bigcup U_i$ be an affine open covering of $U$.
Each of the morphisms $U_i \to X$ is etale (combine
Morphisms, Lemma \ref{morphisms-lemma-composition-etale}
and
Spaces, Lemmas
\ref{spaces-lemma-morphism-schemes-gives-representable-transformation-property}
and
\ref{spaces-lemma-composition-representable-transformations-property}).
Hence $\coprod U_i \to X$ is surjective etale.
To finish the proof we show that $U_i \to X$ is quasi-compact, which
in particular implies that both projections $U_i \times_X U_i \to U_i$ are
quasi-compact. To do this we may by
Spaces, Lemma \ref{spaces-lemma-viewed-as-properties}
view $X$ as an algebraic space over $\text{Spec}(\mathbf{Z})$.
In other words, in the rest of the proof we may assume that
$S = \text{Spec}(\mathbf{Z})$.

\medskip\noindent
Let $T \to X$ be a morphism from a scheme to $X$. Then
$$
T \times_X U_i
=
(T \times_{\text{Spec}(\mathbf{Z})} U_i)
\times_{X, \Delta}
(X \times_{\text{Spec}(\mathbf{Z})} X)
$$
and hence $T \times_X U_i \to T$ is the composition
$$
(T \times_{\text{Spec}(\mathbf{Z})} U_i)
\times_{X, \Delta}
(X \times_{\text{Spec}(\mathbf{Z})} X)
\longrightarrow
T \times_{\text{Spec}(\mathbf{Z})} U_i
\longrightarrow T
$$
The first arrow is quasi-compact by our assumption that $X$ is
(absolutely) quasi-separated, and the second is quasi-compact because
it is affine (since $U_i$ was chosen to be affine, and
Morphisms, Lemma \ref{morphisms-lemma-base-change-affine}).
\end{proof}

\begin{lemma}
\label{lemma-representable-very-reasonable}
Let $S$ be a scheme.
Let $X$, $Y$ be algebraic spaces over $S$.
Let $Y \to X$ be a representable morphism.
If $X$ is very reasonable, so is $Y$.
\end{lemma}

\begin{proof}
We will repeatedlty use
Spaces, Lemma
\ref{spaces-lemma-base-change-representable-transformations-property}.
Let $U_i \to X$ be as in Definition \ref{definition-very-reasonable}.
Set $V_i = Y \times_X U_i$. The morphisms $V_i \to Y$ are etale,
and $\coprod V_i \to Y$ is surjective. Because
$V_i \times_Y V_i = Y \times_X (U_i \times_X U_i)$ we see
that the projections $V_i \times_Y V_i \to V_i$ are
base changes of the projections $U_i \times_X U_i \to U_i$, and so
quasi-compact as well. Hence $Y$ is very reasonable.
\end{proof}

\begin{remark}
\label{remark-very-reasonable-Zariski-locally-quasi-separated}
Very reasonable algebraic spaces form a stricly larger collection than
Zariski locally quasi-separated algebraic spaces. Consider
an algebraic space of the form $X = [U/G]$ (see
Spaces, Definition \ref{spaces-definition-quotient})
where $G$ is a finite group acting without fixed points on a
non-quasi-separated scheme $U$. Namely, in this case
$U \times_X U = U \times G$ and clearly both projections to $U$ are
quasi-compact, hence $X$ is very reasonable. On the other hand, the diagonal
$U \times_X U \to U \times U$ is not quasi-compact, hence this
algebraic space is not quasi-separated. Now, take $U$ the infinite
affine space over a field $k$ of characteristic $\not = 2$ with
zero doubled, see
Schemes, Example \ref{schemes-example-not-quasi-separated}.
Let $0_1, 0_2$ be the two zeros of $U$. Let $G = \{+1, -1\}$, and
let $-1$ act by $-1$ on all coordinates, and by switching
$0_1$ and $0_2$. Then $[U/G]$ is very reasonable but not Zariski locally
quasi-separated (details omitted).
\end{remark}

\begin{example}
\label{example-not-very-reasonable}
The algebraic space $[\mathbf{A}^1_{\mathbf{Q}}/\mathbf{Z}]$ constructed in
Spaces, Example \ref{spaces-example-affine-line-translation}
is not very reasonable.
\end{example}

\begin{remark}
\label{remark-reasonable}
Let $S$ be a scheme and let $X$ be an algebraic space over $S$.
Suppose that for any affine scheme $U$ and etale morphism
$\varphi : U \to X$ the fibres of $\varphi$ are universally bounded. In
Definition \ref{definition-very-reasonable}
we called such an algebraic space {\it reasonable}. Reasonable spaces are
technically easier to work with than very reasonable algebraic spaces
(this has to do with descent of the property; see
Morphisms of Spaces, Remark \ref{spaces-morphisms-remark-very-reasonable}).
On the other hand, we do not know whether a reasonable algebraic
space has an open dense subspace which is a scheme, and we also do not know
whether its underlying topological space is sober, whereas we do know that
very reasonable spaces have those properties (see
Propositions \ref{proposition-very-reasonable-open-dense-scheme}, and
\ref{proposition-very-reasonable-sober}).
\end{remark}

\begin{remark}
\label{remark-fun-property-reasonable}
This is a continuation of Remark \ref{remark-reasonable}.
Observation: A reasonable space is a colimit of quasi-separated
algebraic spaces. We sketch the proof in the case $X = U/R$ with $U$ affine.
In this case, reasonable means $U \to X$ is universally bounded.
Hence there exists an integer $N$ such that the ``fibres'' of $U \to X$
have degree at most $N$, see Definition \ref{definition-universally-bounded}.
Denote $s, t : R \to U$ and $c : R \times_{s, U, t} R \to R$ the
groupoid structural maps.
We claim that for every quasi-compact open $A \subset R$ there exists
an open $R' \subset R$ such that
\begin{enumerate}
\item $A \subset R'$,
\item $R'$ is quasi-compact, and
\item $(U, R', s|_{R'}, t|_{R'}, c|_{R' \times_{s, U, t} R'})$ is
a groupoid scheme.
\end{enumerate}
Note that $e : U \to R$ is open as it is a section of the etale morphism
$s : R \to U$, see
Etale Morphisms of Schemes,
Proposition \ref{etale-proposition-properties-sections}. Moreover
$U$ is affine hence quasi-compact. Hence we may replace $A$ by
$A \cup e(U) \subset R$, and assume that $A$ contains $e(U)$. Next, we
define inductively $A^1 = A$, and
$$
A^n = c(A^{n - 1} \times_{s, U, t} A) \subset R
$$
for $n \geq 2$. Arguing inductively, we see that $A^n$ is quasi-compact for
all $n \geq 2$, as the image of the quasi-compact fibre product
$A^{n - 1} \times_{s, U, t} A$. If $k$ is an algebraically
closed field over $S$, and we consider $k$-points then
$$
A^n(k) = \left\{(u, u') \in U(k)
:
\begin{matrix}
\text{there exist } u = u_1, u_2, \ldots, u_n \in U(k)\text{ with} \\
(u_i , u_{i + 1}) \in A \text{ for all }i = 1, \ldots, n - 1.
\end{matrix}
\right\}
$$
But as the fibres of $U(k) \to X(k)$ have size at most $N$ we see that if
$n > N$ then we get a repeat in the sequence above, and we can shorten it
proving $A^N = A^n$ for all $n \geq N$.
This implies that $R' = A^N$ gives a groupoid scheme
$(U, R', s|_{R'}, t|_{R'}, c|_{R' \times_{s, U, t} R'})$, proving the claim
above. Consider the map of sheaves on $(\textit{Sch}/S)_{fppf}$
$$
\text{colim}_{R' \subset R}\ U/R' \longrightarrow U/R
$$
where $R' \subset R$ runs over the quasi-compact open subschemes
of $R$ which give etale equivalence relations as above. Each of the
quotients $U/R'$ is an algebraic space
(see Spaces, Theorem \ref{spaces-theorem-presentation}).
Since $R'$ is quasi-compact, and $U$ affine the morphism
$R' \to U \times_{\text{Spec}(\mathbf{Z})} U$ is quasi-compact,
and hence $U/R'$ is quasi-compact. Finally, if $T$ is a quasi-compact
scheme, then
$$
\text{colim}_{R' \subset R}\ U(T)/R'(T) \longrightarrow U(T)/R(T)
$$
is a bijection, since every morphism from $T$ into $R$ ends up in one
of the open subrelations $R'$ by the claim above. This clearly implies
that the colimit of the sheaves $U/R'$ is $U/R$. In other words
the algebraic space $X = U/R$ is the colimit of the quasi-separated
algebraic spaces $U/R'$.
\end{remark}







\section{The schematic locus}
\label{section-schematic}

\noindent
Every algebraic space has a largest open subspace which is a
scheme; this is more or less clear but we also write out the proof below.
Of course this subspace may be empty, for example if
$X = [\mathbf{A}^1_{\mathbf{Q}}/\mathbf{Z}]$ (the universal
counter example). On the other hand, if $X$ is very reasonable, then
this largest open subscheme is actually dense in $X$!

\begin{lemma}
\label{lemma-subscheme}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
There exists a largest open subspace $X' \subset X$ which is a scheme.
\end{lemma}

\begin{proof}
Let $U \to X$ be an etale surjective morphism, where $U$ is a scheme.
Let $R = U \times_X U$. The open subspaces of $X$ correspond $1 - 1$
with open subschemes of $U$ which are $R$-invariant. Hence there is a
set of them. Let $X_i$, $i \in I$ be the set of open subspaces
of $X$ which are schemes, i.e., are representable. Consider the
open subspace $X' \subset X$ whose underlying set of points is
the open $\bigcup |X_i|$ of $|X|$. By
Lemma \ref{lemma-characterize-surjective}
we see that
$$
\coprod X_i \longrightarrow X'
$$
is a surjective map of sheaves on $(\textit{Sch}/S)_{fppf}$.
But since each $X_i \to X'$ is representable by open immersions
we see that in fact the map is surjective in the Zariski
topology. (Because if $T \to X'$ is a morphism from a scheme
into $X'$, then $X_i \times_X' T$ is an open subscheme of $T$.)
Hence we can apply
Schemes, Lemma \ref{schemes-lemma-glue-functors}
to see that $X'$ is a scheme.
\end{proof}

\noindent
In the following proposition and its proof we say that an open subspace
$X'$ of an algebraic space $X$ is {\it dense} if the corresponding
open subset $|X'| \subset |X|$ is dense.

\begin{proposition}
\label{proposition-very-reasonable-open-dense-scheme}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
If $X$ is very reasonable, then there exists a dense open subspace
of $X$ which is a scheme.
\end{proposition}

\begin{proof}
By Lemmas \ref{lemma-subscheme} and \ref{lemma-characterize-very-reasonable}
we may assume that there exists a surjective quasi-compact, etale morphism
$U \to X$. Set $R = U \times_X U$, and denote $s, t : R \to U$ the projections
as usual. Note that $s, t$ are surjective, quasi-compact and etale, hence
also quasi-finite (see
Etale Morphisms of Schemes, Section \ref{etale-section-etale-morphisms}).
By
More on Morphisms,
Lemma \ref{more-morphisms-lemma-quasi-finite-finite-over-dense-open}
there exists a dense open subscheme $W \subset U$ such that
$s^{-1}(W) \to W$ is finite. By
Descent, Lemma \ref{descent-lemma-descending-property-finite}
being finite is fpqc (and in particular etale) local on the target.
Hence we may apply
Groupoids, Lemma \ref{groupoids-lemma-property-invariant}
which says that the largest open $W \subset U$ over which $s$ is
finite is $R$-invariant. It is still dense of course.
The restriction $R_W$ of $R$ to $W$ equals $R_W = s^{-1}(W) = t^{-1}(W)$
(see Groupoids, Definition \ref{groupoids-definition-invariant-open}
and discussion following it).
By construction $s_W, t_W : R_W \to W$ are finite etale.
If we can show the open subspace $W/R_W \subset X$ (see
Spaces, Lemma \ref{spaces-lemma-finding-opens})
contains a dense open subspace which is a scheme, then the
proposition follows for $X$. This reduces us to the case discussed
in the next paragraph.

\medskip\noindent
Assume $X$ is an algebraic space, $U$ a scheme, and $U \to X$ is a finite
etale surjective morphism. Write $R = U \times_X U$ and denote
$s, t : R \to U$ the projections as usual. Note that $s, t$ are surjective,
finite and etale in this case. Claim:
The union of the $R$-invariant affine opens of $U$ is topologically
dense in $U$.

\medskip\noindent
Proof of the claim\footnote{The claim is easier to prove if
$U$ is assumed quasi-separated, since in that case
Properties, Lemma \ref{properties-lemma-maximal-points-affine}
may be applied immediately to the $R$-equivalence class of any
generic point of $U$.}. Let $W \subset U$ be an affine open.
Set $W' = t(s^{-1}(W)) \subset U$. Since $s^{-1}(W)$ is affine
(hence quasi-compact) we see that $W' \subset U$ is a quasi-compact open. By
Properties, Lemma \ref{properties-lemma-quasi-compact-dense-open-separated}
there exists a dense open $W'' \subset W'$ which is a separated scheme.
Set $\Delta' = W' \setminus W''$. This is a nowhere dense closed subset of
$W''$. Since $t|_{s^{-1}(W)} : s^{-1}(W) \to W'$ is open (because it is etale)
we see that the inverse image
$(t|_{s^{-1}(W)})^{-1}(\Delta') \subset s^{-1}(W)$
is a nowhere dense closed subset (see
Topology, Lemma \ref{topology-lemma-open-inverse-image-closed-nowhere-dense}).
Hence, by
Morphisms, Lemma \ref{morphisms-lemma-image-nowhere-dense-finite} 
we see that
$$
\Delta = s\left((t|_{s^{-1}(W)})^{-1}(\Delta')\right)
$$
is a nowhere dense closed subset of $W$. Pick any point $\eta \in W$,
$\eta \not \in \Delta$ which is a generic point of an irreducible
component of $W$ (and hence of $U$). By our choices above the finite set
$t(s^{-1}(\{\eta\})) = \{\eta_1, \ldots, \eta_n\}$
is contained in the separated scheme $W''$.
Note that the fibres of $s$ is are finite discrete spaces, and that
generalizations lift along the etale morphism $t$, see
Morphisms, Lemmas \ref{morphisms-lemma-etale-flat}
and \ref{morphisms-lemma-generalizations-lift-flat}.
In this way we see that each $\eta_i$ is a generic point of an
irreducible component of $W''$. Thus, by
Properties, Lemma \ref{properties-lemma-maximal-points-affine}
we can find an affine open $V \subset W''$ such that
$\{\eta_1, \ldots, \eta_n\} \subset V$.
By
Groupoids, Lemma \ref{groupoids-lemma-find-invariant-affine}
this implies that $\eta$ is contained in an $R$-invariant affine
open subscheme of $U$. The claim follows as $W$ was chosen as an
arbitrary affine open of $U$ and because the set of generic points
of irreducible components of $W \setminus \Delta$ is dense in $W$.

\medskip\noindent
Using the claim we can finish the proof. Namely, if $W \subset U$ is
an $R$-invariant affine open, then the restriction $R_W$ of $R$ to $W$
equals $R_W = s^{-1}(W) = t^{-1}(W)$ (see
Groupoids, Definition \ref{groupoids-definition-invariant-open}
and discussion following it). In particular the maps $R_W \to W$ are
finite etale also. It follows in particular that $R_W$ is affine.
Thus we see that $W/R_W$ is a scheme, by
Groupoids, Proposition \ref{groupoids-proposition-finite-flat-equivalence}.
On the other hand, $W/R_W$ is an open subspace of $X$ by
Spaces, Lemma \ref{spaces-lemma-finding-opens}.
Hence having a dense collection of points contained in $R$-invariant
affine open of $U$ certainly implies that the schematic locus of $X$
(see Lemma \ref{lemma-subscheme})
is open dense in $X$.
\end{proof}











\section{Conditions on algebraic spaces}
\label{section-conditions}

\noindent
In this section we discuss the relationship between various natural
conditions on algebraic spaces we have seen above.

\begin{lemma}
\label{lemma-bounded-fibres}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Consider the following conditions on $X$:
\begin{enumerate}
\item[$(\alpha)$] For every $x \in |X|$, the equivalent conditions of
Lemma \ref{lemma-U-finite-above-x} hold.
\item[$(\beta)$] The map
$$
\{\text{Spec}(k) \to X \text{ monomorphism}\}
\longrightarrow
|X|
$$
is bijective, i.e., for every $x \in |X|$ the equivalent conditions of
Lemma \ref{lemma-R-finite-above-x} hold.
\item[$(\gamma)$] For every $x \in |X|$, the equivalent conditions of
Lemma \ref{lemma-UR-finite-above-x} hold, in other words $X$ is decent.
\item[$(\delta)$] The equivalent conditions of
Lemma \ref{lemma-U-universally-bounded} hold, in other words $X$ is reasonable.
\item[$(\epsilon)$] The space $X$ is very reasonable.
\item[$(\zeta)$] The space $X$ is quasi-separated.
\item[$(\eta)$] The space $X$ is representable, i.e., $X$ is a scheme.
\item[$(\theta)$] The space $X$ is a quasi-separated scheme.
\end{enumerate}
We have
$$
\xymatrix{
& (\eta) \ar@{=>}[rd] & & & &  \\
(\theta) \ar@{=>}[ru] \ar@{=>}[rd] & & 
(\epsilon) \ar@{=>}[r] &
(\delta) \ar@{=>}[r] &
(\gamma) \ar@{<=>}[r] & (\alpha) + (\beta) \\
& (\zeta) \ar@{=>}[ru] & & & & 
}
$$
\end{lemma}

\begin{proof}
The implication $(\gamma) \Leftrightarrow (\alpha) + (\beta)$ is immediate.
The implications in the diamond on the left we have seen in
Section \ref{section-reasonable-decent}.

\medskip\noindent
Assume $(\delta)$. Let $U$ be an affine scheme, and let $U \to X$ be an etale
morphism. By assumption the fibres of the morphism $U \to X$ are universally
bounded. Thus also the fibres of both projections $R = U \times_X U \to U$
are universally bounded, see
Lemma \ref{lemma-base-change-universally-bounded}.
And by Lemma \ref{lemma-composition-universally-bounded} also
the fibres of $R \to X$ are universally bounded.
Hence for any $x \in X$ the fibres of $|U| \to |X|$ and $|R| \to |X|$
over $x$ are finite, see Lemma \ref{lemma-universally-bounded-finite-fibres}.
In other words, the equivalent conditions of
Lemma \ref{lemma-UR-finite-above-x}
hold. This proves that $(\delta) \Rightarrow (\gamma)$.

\medskip\noindent
Let us show that $(\epsilon)$ implies $(\delta)$.
Assume $(\epsilon)$. By
Lemma \ref{lemma-characterize-very-reasonable}
there exists
a Zariski open covering $X = \bigcup X_i$ such that for each $i$
there exists a scheme $U_i$ and a quasi-compact surjective etale morphism
$U_i \to X_i$. Choose an $i$ and an affine open subscheme $W \subset U_i$.
It suffices to show that $W \to X$ has universally bounded fibres, since then
the family of all these morphisms $W \to X$ covers $X$.
To do this we consider the diagram
$$
\xymatrix{
W \times_X U_i \ar[r]_-p \ar[d]_q & U_i \ar[d] \\
W \ar[r] & X
}
$$
Since $W \to X$ factors through $X_i$ we see that
$W \times_X U_i = W \times_{X_i} U_i$, and hence $q$ is quasi-compact.
Since $W$ is affine this implies that the scheme $W \times_X U_i$
is quasi-compact. Thus we may apply
Morphisms, Lemma
\ref{morphisms-lemma-locally-quasi-finite-qc-source-universally-bounded}
and we conclude that $p$ has universally bounded fibres.
We may apply
Lemma \ref{lemma-descent-universally-bounded}
to conclude that $W \to X$ has universally bounded fibres as well.
\end{proof}

\begin{lemma}
\label{lemma-properties-local}
Let $S$ be a scheme.
Let $\mathcal{P}$ be one of the properties
$(\alpha)$, $(\beta)$, $(\gamma)$, $(\delta)$, $(\epsilon)$, or
$(\eta)$ of algebraic spaces
listed in Lemma \ref{lemma-bounded-fibres}.
Then if $X$ is an algebraic space over $S$, and $X = \bigcup X_i$ is a
Zariski open covering such that each $X_i$ has $\mathcal{P}$,
then $X$ has $\mathcal{P}$.
\end{lemma}

\begin{proof}
Let $X$ be an algebraic space over $S$, and let $X = \bigcup X_i$ is a
Zariski open covering such that each $X_i$ has $\mathcal{P}$.
The condition $(\alpha)$ for $X_i$ can be formulated as the condition
that for every $x \in |X_i|$ and every affine scheme $U$, and etale morphism
$\varphi : U \to X_i$ the fibre of $\varphi : |U| \to |X_i|$
over $x$ are finite. Consider $x \in X$, an affine scheme $U$ and
an etale morphism $U \to X$. Since $X = \bigcup X_i$ is a
Zariski open covering there exits a finite affine open covering
$U = U_1 \cup \ldots \cup U_n$ such that each $U_j \to X$ factors through
some $X_{i_j}$. By assumption the fibres of $|U_j | \to |X_{i_j}|$
over $x$ are finite for $j = 1, \ldots, n$. Clearly this means that
the fibre of $|U| \to |X|$ over $x$ is finite.
This proves the result for $(\alpha)$.

\medskip\noindent
Note that $(\gamma) = (\alpha) + (\beta)$ by
Lemma \ref{lemma-bounded-fibres}
hence if we prove the lemma for $(\beta)$ then the lemma follows for
$(\gamma)$.

\medskip\noindent
The lemma for $(\beta)$ is immediate from the definition as $X_i \to X$ is
a monomorphism. The lemma for property $(\delta)$ is clear also since given
schemes $U_{ij}$ and etale morphisms $U_{ij} \to X_i$ with universally
bounded fibres which cover $X_i$, then these schemes also given an
etale surjective morphism $\coprod U_{ij} \to X$ and $U_{ij} \to X$
still has universally bounded fibres. For $(\epsilon)$, see
Lemma \ref{lemma-very-reasonable-Zariski-local}.
For $(\eta)$, see Lemma \ref{lemma-subscheme}.
\end{proof}

\begin{lemma}
\label{lemma-representable-properties}
Let $S$ be a scheme.
Let $\mathcal{P}$ be one of the properties
$(\beta)$, $(\gamma)$, $(\delta)$, $(\epsilon)$, or $(\eta)$
of algebraic spaces listed in Lemma \ref{lemma-bounded-fibres}.
Let $X$, $Y$ be algebraic spaces over $S$.
Let $X \to Y$ be a representable morphism.
If $Y$ has property $\mathcal{P}$, so does $X$.
\end{lemma}

\begin{proof}
Assume $f : X \to Y$ is a representable morphism of algebraic spaces,
and assume that $Y$ has $\mathcal{P}$. Let $x \in |X|$, and set
$y = f(x) \in |Y|$.

\medskip\noindent
If $\mathcal{P}$ is $(\beta)$, then there exists a monomorphism
$\text{Spec}(k) \to Y$ representing $y$. The fibre product
$X_y = \text{Spec}(k) \times_Y X$ is a scheme, and $x$ corresponds
to a point of $X_y$, i.e., to a monomorphism $\text{Spec}(k') \to X_y$.
As $X_y \to X$ is a monomorphism also we see that $x$ is represented
by the monomorphism $\text{Spec}(k') \to X_y \to X$. In other words
$(\beta)$ holds for $X$.

\medskip\noindent
Suppose $\mathcal{P}$ is $(\gamma)$. Since $(\gamma) \Rightarrow (\beta)$
we have seen in the preceding paragraph that $y$ and $x$ can be represented
by monomorphisms as in the following diagram
$$
\xymatrix{
\text{Spec}(k') \ar[r]_-x \ar[d] & X \ar[d] \\
\text{Spec}(k) \ar[r]^-y & Y
}
$$
Also, by definition of property $(\gamma)$ via
Lemma \ref{lemma-UR-finite-above-x} (3)
there exist schemes
$V_i$ and etale morphisms $V_i \to Y$ such that $\coprod V_i \to Y$
is surjective and for each $i$, setting $R_i = V_i \times_Y V_i$
the fibres of both
$$
|V_i| \longrightarrow |Y|
\quad\text{and}\quad
|R_i| \longrightarrow |Y|
$$
over $y$ are finite. This means that the schemes
$(V_i)_y$ and $(R_i)_y$ are finite schemes over $y = \text{Spec}(k)$.
As $X \to Y$ is representable, the fibre products $U_i = V_i \times_Y X$
are schemes. The morphisms $U_i \to X$ are etale, and
$\coprod U_i \to X$ is surjective. Finally, for each $i$ we have
$$
(U_i)_x =
(V_i \times_Y X)_x =
(V_i)_y \times_{\text{Spec}(k)} \text{Spec}(k')
$$
and
$$
(U_i \times_X U_i)_x =
\left((V_i \times_Y X) \times_X (V_i \times_Y X)\right)_x =
(R_i)_y \times_{\text{Spec}(k)} \text{Spec}(k')
$$
hence these are finite over $k'$ as base changes of the finite
schemes $(V_i)_y$ and $(R_i)_y$. This implies that $(\gamma)$ holds for $X$,
again via the third condition of
Lemma \ref{lemma-UR-finite-above-x}.

\medskip\noindent
Suppose $\mathcal{P}$ is $(\delta)$. Let $V \to Y$ be an etale morphism with
$V$ an affine scheme. Since $Y$ has property $(\delta)$ this morphism has
universally bounded fibres. By
Lemma \ref{lemma-base-change-universally-bounded}
the base change $V \times_Y X \to X$ also has universally bounded fibres.
Hence the first part of
Lemma \ref{lemma-U-universally-bounded}
applies and we see that $Y$ also has property $(\delta)$.

\medskip\noindent
In case $\mathcal{P} = (\epsilon)$ the result is
Lemma \ref{lemma-representable-very-reasonable}.
In case $\mathcal{P} = (\eta)$ the result is
Categories, Lemma \ref{categories-lemma-representable-over-representable}.
\end{proof}






\section{Points and specializations}
\label{section-specializations}

\begin{lemma}
\label{lemma-no-specializations-map-to-same-point}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $U \to X$ be an etale morphism from a scheme to $X$.
If $u, u' \in |U|$ map to the same point $x$ of $|X|$, and
$u' \leadsto u$. If the pair $(X, x)$ satisfies the
equivalent conditions for Lemma \ref{lemma-U-finite-above-x}
then $u = u'$.
\end{lemma}

\begin{proof}
Assume the pair $(X, x)$ satisfies the
equivalent conditions for Lemma \ref{lemma-U-finite-above-x}.
Let $U$ be a scheme, $U \to X$ etale, and
let $u, u' \in |U|$ map to $x$ of $|X|$, and
$u' \leadsto u$. We may and do replace $U$ by an affine
neighbourhood of $u$. Let $t, s : R = U \times_X U \to U$
be the etale projection maps.

\medskip\noindent
We finish the proof as follows.
Pick a point $r \in R$ with $t(r) = u$ and $s(r) = u'$.
This is possible by
Lemma \ref{lemma-points-presentation}.
Because generalizations lift along the etale morphism $t$
(Remark \ref{remark-recall}) we can find a specialization $r' \leadsto r$ with
$t(r') = u'$. Set $u'' = s(r')$. Then $u'' \leadsto u'$.
Thus we may repeat and find $r'' \leadsto r'$ with
$t(r'') = u''$. Set $u''' = s(r'')$, and so on.
Here is a picture:
$$
\xymatrix{
& r'' \ar[rd]^s \ar[ld]_t \ar@{~>}[d] & \\
u'' \ar@{~>}[d] & r' \ar[rd]^s \ar[ld]_t \ar@{~>}[d] & u''' \ar@{~>}[d] \\
u' \ar@{~>}[d] & r \ar[rd]^s \ar[ld]_t & u'' \ar@{~>}[d] \\
u & & u'
}
$$
In Remark \ref{remark-recall} we have seen that there are no specializations
among points in the fibres of the etale morphism $s$. Hence if
$u^{(n + 1)} = u^{(n)}$ for some $n$, then also $r^{(n)} = r^{(n - 1)}$ and
hence also (by taking $t$) $u^{(n)} = u^{(n - 1)}$. This then forces the
whole tower to collapse, in particular $u = u'$. Thus we see that if
$u \not = u'$, then all the specializations are strict and
$\{u, u', u'', \ldots\}$ is an infinite set of points in $U$ which map to the
point $x$ in $|X|$. As we chose $U$ affine this contradicts the second part of
Lemma \ref{lemma-U-finite-above-x}, as desired.
\end{proof}

\begin{lemma}
\label{lemma-specialization}
Let $S$ be an algebraic space.
Let $X$ be an algebraic space over $S$.
Let $x, x' \in |X|$ and assume $x' \leadsto x$, i.e., $x$ is a
specialization of $x'$.
Assume the pair $(X, x')$ satisfies the equivalent conditions
of Lemma \ref{lemma-UR-finite-above-x}. Then
for every etale morphism $\varphi : U \to X$ from a scheme $U$ and any
$u \in U$ with $\varphi(u) = x$, exists a point $u'\in U$,
$u' \leadsto u$ with $\varphi(u') = x'$.
\end{lemma}

\begin{proof}
We may replace $U$ by an affine open neighbourhood of $u$.
Hence we may assume that $U$ is affine. As $x$ is in the
image of the open map $|U| \to |X|$, so is $x'$. Thus we may
replace $X$ by the Zariski open subspace corresponding to
the image of $|U| \to |X|$, see
Lemma \ref{lemma-open-subspaces}.
In other words we may assume that
$U \to X$ is surjective and etale.
Let $s, t : R = U \times_X U \to U$ be the projections.
By our assumption that $(X, x')$ satisfies the equivalent conditions
of Lemma \ref{lemma-UR-finite-above-x} we see that the fibres
of $|U| \to |X|$ and $|R| \to |X|$
over $x'$ are finite. Say $\{u'_1, \ldots, u'_n\} \subset U$ and
$\{r'_1, \ldots, r'_m\} \subset R$ form the complete inverse image
of $\{x'\}$.
Consider the closed sets
$$
T = \overline{\{u'_1\}} \cup \ldots \cup \overline{\{u'_n\}} \subset |U|,
\quad
T' = \overline{\{r'_1\}} \cup \ldots \cup \overline{\{r'_m\}} \subset |R|.
$$
Trivially we have $s(T') \subset T$. Because $R$ is an equivalence
relation we also have $t(T') = s(T')$ as the set $\{r_j'\}$
is invariant under the inverse of $R$ by construction. Let $w \in T$
be any point. Then $u'_i \leadsto w$ for some $i$. Choose $r \in R$
with $s(r) = w$. Since generalizations lift along $s : R \to U$, see
Remark \ref{remark-recall}, we can find $r' \leadsto r$ with
$s(r') = u_i'$. Then $r' = r'_j$ for some $j$ and we conclude that
$w \in s(T')$. Hence $T = s(T') = t(T')$ is an $|R|$-invariant closed
set in $|U|$. This means $T$ is the inverse image of a closed (!)
subset $T'' = \varphi(T)$ of $|X|$, see
Lemmas \ref{lemma-points-presentation} and \ref{lemma-topology-points}.
Hence $T'' = \overline{\{x'\}}$.
Thus $T$ contains some point $u_1$ mapping to $x$ as $x \in T''$.
I.e., we see that for some $i$ there exists a specialization
$u'_i \leadsto u_1$ which maps to the given specialization
$x' \leadsto x$.

\medskip\noindent
To finish the proof, choose a point $r \in R$ such that
$s(r) = u$ and $t(r) = u_1$ (using Lemma \ref{lemma-points-cartesian}).
As generalizations lift along $t$, and $u'_i \leadsto u_1$
we can find a specialization $r' \leadsto r$ such that $t(r') = u'_i$.
Set $u' = s(r')$. Then $u' \leadsto u$ and $\varphi(u') = x'$ as
desired.
\end{proof}

\begin{lemma}
\label{lemma-kolmogorov}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Assume that for every $x \in |X|$ the equivalent conditions
of Lemma \ref{lemma-UR-finite-above-x} hold, i.e., $X$ is decent.
Then $|X|$ is Kolmogorov (see
Topology, Definition \ref{topology-definition-generic-point}).
\end{lemma}

\begin{proof}
Let $x_1, x_2 \in |X|$ with $x_1 \leadsto x_2$ and $x_2 \leadsto x_1$.
We have to show that $x_1 = x_2$. Pick a scheme $U$ and an etale morphism
$U \to X$ such that $x_1, x_2$ are both in the image of $|U| \to |X|$.
By Lemma \ref{lemma-specialization} we can find a specialization
$u_1 \leadsto u_2$ in $U$ mapping to $x_1 \leadsto x_2$.
By Lemma \ref{lemma-specialization} we can find
$u_2' \leadsto u_1$ mapping to $x_2 \leadsto x_1$. This means that
$u_2' \leadsto u_2$ is a specialization between points of $U$ mapping to
the same point of $X$, namely $x_2$. This is not possible, unless
$u_2' = u_2$, see
Lemma \ref{lemma-no-specializations-map-to-same-point}. Hence
also $u_1 = u_2$ as desired.
\end{proof}















\section{Points on very reasonable spaces}
\label{section-points-very-reasonable}

\noindent
In this section we prove some properties of points on
very reasonable algebraic spaces.

\begin{lemma}
\label{lemma-very-reasonable-points-monomorphism}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Consider the map
$$
\{\text{Spec}(k) \to X \text{ monomorphism}\}
\longrightarrow
|X|
$$
This map is always injective. If $X$ is very reasonable then this map
is a bijection.
\end{lemma}

\begin{proof}
We have seen in Lemma \ref{lemma-points-monomorphism}
that the map is an injection in general.
By Lemma \ref{lemma-bounded-fibres} it is surjective when $X$ is
very reasonable.
\end{proof}

\noindent
The following lemma is a tiny bit stronger than
Lemma \ref{lemma-point-like-spaces}.

\begin{lemma}
\label{lemma-very-reasonable-point-like-spaces}
Let $S$ be a scheme. Let $k$ be a field.
Let $X$ be an algebraic space over $S$ and assume that there exists
a surjective etale morphism $\text{Spec}(k) \to X$.
If $X$ is very reasonable, then $X \cong \text{Spec}(k')$
where $k' \subset k$ is a finite separable extension.
\end{lemma}

\begin{proof}
This can be proved directly by adding a few words to the proof of
Lemma \ref{lemma-point-like-spaces},
but we think it is fun to deduce it from the results obtained so far.
By Lemma \ref{lemma-very-reasonable-points-monomorphism}
we see that $\text{Spec}(k) \to X$ factors as
$\text{Spec}(k) \to \text{Spec}(k') \to X$ where
$\text{Spec}(k') \to X$ is a monomorphism. But since $\text{Spec}(k) \to X$
is a surjection of sheaves on $(\textit{Sch}/S)_{fppf}$, we see that
also $\text{Spec}(k') \to X$ is surjective (as a map of sheaves). But a
map of sheaves which is both injective and surjective is an isomorphism.
Finally, the fact that $\text{Spec}(k) \to X$ is etale means that
$k \otimes_{k'} k$ is etale over $k$, which implies easily that
$k' \subset k$ is a finite separable extension.
\end{proof}

\noindent
The following lemma shows that specialization of points behaves in a
reasonable manner on very reasonable algebraic spaces.
Spaces, Example \ref{spaces-example-infinite-product}
shows that this is {\bf not} true in general.

\begin{lemma}
\label{lemma-very-reasonable-no-specializations-map-to-same-point}
Let $S$ be a scheme.
Let $X$ be a very reasonable algebraic space over $S$.
Let $U \to X$ be an etale morphism from a scheme to $X$.
If $u, u' \in |U|$ map to the same point of $|X|$, and
$u' \leadsto u$, then $u = u'$.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-bounded-fibres} and
\ref{lemma-no-specializations-map-to-same-point}.
\end{proof}

\begin{lemma}
\label{lemma-very-reasonable-specialization}
Let $S$ be an algebraic space.
Let $X$ be an algebraic space over $S$.
Let $x, x' \in |X|$ and assume $x' \leadsto x$, i.e., $x$ is a
specialization of $x'$.
Assume $X$ is very reasonable. Then for every etale morphism
$\varphi : U \to X$ from a scheme $U$ and any $u \in U$ with
$\varphi(u) = x$, exists a point $u'\in U$, $u' \leadsto u$ with
$\varphi(u') = x'$.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-bounded-fibres} and
\ref{lemma-specialization}.
\end{proof}

\begin{lemma}
\label{lemma-very-reasonable-kolmogorov}
Let $S$ be a scheme.
Let $X$ be a very reasonable algebraic space over $S$.
Then $|X|$ is Kolmogorov (see
Topology, Definition \ref{topology-definition-generic-point}).
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-bounded-fibres} and
\ref{lemma-kolmogorov}.
\end{proof}

\begin{proposition}
\label{proposition-very-reasonable-sober}
Let $S$ be a scheme.
Let $X$ be a very-reasonable algebraic space over $S$.
Then the topological space $|X|$ is sober (see
Topology, Definition \ref{topology-definition-generic-point}).
\end{proposition}

\begin{proof}
We have seen in
Lemma \ref{lemma-very-reasonable-kolmogorov}
that $|X|$ is Kolmogorov.
Hence it remains to show that every irreducible closed subset
$T \subset |X|$ has a generic point. By
Lemma \ref{lemma-reduced-closed-subspace}
there exists a closed subspace $Z \subset X$ with $|Z| = |T|$.
By definition this means that $Z \to X$ is a representable morphism
of algebraic spaces. Hence $Z$ is a very reasonable algebraic space
by Lemma \ref{lemma-representable-very-reasonable}. By
Proposition \ref{proposition-very-reasonable-open-dense-scheme}
we see that there exists an open dense subspace $Z' \subset Z$
which is a scheme. This means that $|Z'| \subset T$ is open dense.
Hence the topological space $|Z'|$ is irreducible, which means that
$Z'$ is an irreducible scheme. By
Schemes, Lemma \ref{schemes-lemma-scheme-sober}
we conclude that $|Z'|$ is the closure of a single point $\eta \in T$
and hence also $T = \overline{\{\eta\}}$, and we win.
\end{proof}










\section{Noetherian spaces}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
\begin{enumerate}
\item We say $X$ is {\it locally Noetherian} if for any surjective etale
morphism $U \to X$, where $U$ is a scheme, the scheme $U$ is
locally Noetherian, see
Definition \ref{definition-type-property} and
Remark \ref{remark-list-properties-local-etale-topology}.
\item We say $X$ is {\it Noetherian}
if $X$ is quasi-compact, quasi-separated and locally Noetherian.
\end{enumerate}
\end{definition}

\noindent
Note that a Noetherian algebraic space $X$ is not just quasi-compact
and locally Noetherian, but also quasi-separated. This will later mean
that an algebraic space of finite type over a Noetherian algebraic space
is not automatically Noetherian.
A Noetherian algebraic space $X$ is very close to being a scheme.
For example $X = [\mathbf{A}^1_k/\mathbf{Z}]$,
as in Spaces, Example \ref{spaces-example-affine-line-translation} is
not Noetherian according to the definition above, but it is locally
Noetherian.




\section{Etale morphisms of algebraic spaces}
\label{section-etale-morphisms}

\noindent
This section really belongs in the chapter on morphisms of algebraic
spaces, but we need the notion of an algebraic space etale over another
in order to define the small etale site of an algebraic space.
Thus we need to do some preliminary work on etale morphisms from schemes to
algebraic spaces, and etale morphisms between algebraic spaces.
For more about etale morphisms of algebraic spaces, see
Morphisms of Spaces, Section \ref{spaces-morphisms-section-etale}.

\begin{lemma}
\label{lemma-etale-over-space}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $U$, $U'$ be schemes over $S$.
\begin{enumerate}
\item If $U \to U'$ is an etale morphism of schemes, and
if $U' \to X$ is an etale morphism from $U'$ to $X$, then the
composition $U \to X$ is an etale morphism from $U$ to $X$.
\item If $\varphi : U \to X$ and $\varphi' : U' \to X$ are
etale morphisms towards $X$, and if $\chi : U \to U'$ is a
morphism of schemes such that $\varphi = \varphi' \circ \chi$,
then $\chi$ is an etale morphism of schemes.
\end{enumerate}
\end{lemma}

\begin{proof}
Recall that our definition of an etale morphism from a scheme into an
algebraic space comes from
Spaces, Definition \ref{spaces-definition-relative-representable-property}
via the fact that any morphism from a scheme into an algebraic space
is representable. Part (1) of the lemma follows from this, the fact that
etale morphisms are preserved under composition
(Morphisms, Lemma \ref{morphisms-lemma-composition-etale})
and
Spaces, Lemmas
\ref{spaces-lemma-morphism-schemes-gives-representable-transformation-property}
and
\ref{spaces-lemma-composition-representable-transformations-property}
(which are formal).
To prove part (2) choose a scheme $W$ over $S$ and a
surjective etale morphism $W \to X$. Consider the base change
$\chi_W : W \times_X U \to W \times_X U'$ of $\chi$.
As $W \times_X U$ and $W \times_X U'$ are etale over $W$, we conclude that
$\chi_W$ is etale, by
Morphisms, Lemma \ref{morphisms-lemma-etale-permanence-two}.
On the other hand, in the commutative diagram
$$
\xymatrix{
W \times_X U \ar[r] \ar[d] & W \times_X U' \ar[d] \\
U \ar[r] & U'
}
$$
the two vertical arrows are etale and surjective.
Hence by
Descent, Lemma \ref{descent-lemma-syntomic-smooth-etale-permanence}
we conclude that $U \to U'$ is etale.
\end{proof}

\begin{definition}
\label{definition-etale}
Let $S$ be a scheme.
A morphism $f : X \to Y$ between algebraic spaces over $S$ is
called {\it etale} if and only if for every etale morphism
$\varphi : U \to X$ where $U$ is a scheme, the composition
$\varphi \circ f$ is etale also.
\end{definition}

\noindent
If $X$ and $Y$ are schemes, then this agree with the usual notion of an
etale morphism of schemes. In fact, whenever $X \to Y$ is a representable
morphism of algebraic spaces, then this agrees with the notion defined via
Spaces, Definition \ref{spaces-definition-relative-representable-property}.
This follows by combining Lemma \ref{lemma-etale-local} below and
Spaces, Lemma \ref{spaces-lemma-representable-morphisms-spaces-property}.

\begin{lemma}
\label{lemma-etale-local}
Let $S$ be a scheme.
Let $f : X \to Y$ be a morphism of algebraic spaces over $S$.
The following are equivalent:
\begin{enumerate}
\item $f$ is etale,
\item there exists a surjective etale morphism $\varphi : U \to X$,
where $U$ is a scheme, such that the composition $f \circ \varphi$ is
etale (as a morphism of algebraic spaces),
\item there exists a surjective etale morphism $\psi : V \to Y$,
where $V$ is a scheme, such that the base change $V \times_X Y \to V$
is etale (as a morphism of algebraic spaces),
\item there exists a commutative diagram
$$
\xymatrix{
U \ar[d] \ar[r] & V \ar[d] \\
X \ar[r] & Y
}
$$
where $U$, $V$ are schemes and the vertical arrows are surjective etale
such that the horizontal arrow is etale.
\end{enumerate}
\end{lemma}

\begin{proof}
Let us prove that (4) implies (1). Assume a diagram as in (4) given.
Let $W \to X$ be an etale morphism with $W$ a scheme. Then we see
that $W \times_X U \to U$ is etale. Hence $W \times_X U \to V$ is etale,
and also $W \times_X U \to Y$ is etale by
Lemma \ref{lemma-etale-over-space} (1). Since also
the projection $W \times_X U \to W$ is surjective and etale, we conclude
from Lemma \ref{lemma-etale-over-space} (2) that $W \to Y$ is etale.

\medskip\noindent
Let us prove that (1) implies (4). Assume (1). Choose a commutative diagram
$$
\xymatrix{
U \ar[d] \ar[r] & V \ar[d] \\
X \ar[r] & Y
}
$$
where $U \to X$ and $V \to Y$ are surjective and etale, see
Spaces, Lemma \ref{spaces-lemma-lift-morphism-presentations}.
By assumption the morphism $U \to Y$ is etale,
and hence $U \to V$ is etale by Lemma \ref{lemma-etale-over-space} (2).

\medskip\noindent
We omit the proof that (2) and (3) are also equivalent to (1).
\end{proof}

\begin{lemma}
\label{lemma-composition-etale}
The composition of two etale morphisms of algebraic spaces
is etale.
\end{lemma}

\begin{proof}
This is immediate from the definition.
\end{proof}

\begin{lemma}
\label{lemma-base-change-etale}
The base change of an etale morphism of algebraic spaces
by any morphism of algebraic spaces is etale.
\end{lemma}

\begin{proof}
Let $X \to Y$ be an etale morphism of algebraic spaces over $S$.
Let $Z \to Y$ be a morphism of algebraic spaces.
Choose a scheme $U$ and a surjective etale morphism $U \to X$.
Choose a scheme $W$ and a surjective etale morphism $W \to Z$.
Then $U \to Y$ is etale, hence in the diagram
$$
\xymatrix{
W \times_Y U \ar[d] \ar[r] & W \ar[d] \\
Z \times_Y X \ar[r] & Z
}
$$
the top horizontal arrow is etale.
Moreover, the left vertical arrow is surjective
and etale (verification omitted). Hence we conclude that the lower
horizontal arrow is etale by Lemma \ref{lemma-etale-local}.
\end{proof}

\begin{lemma}
\label{lemma-etale-permanence}
Let $S$ be a scheme. Let $X, Y, Z$ be algebraic spaces.
Let $g : X \to Z$, $h : Y \to Z$ be etale morphisms and let
$f : X \to Y$ be a morphism such that $h \circ f = g$.
Then $f$ is etale.
\end{lemma}

\begin{proof}
Choose a commutative diagram
$$
\xymatrix{
U \ar[d] \ar[r]_\chi & V \ar[d] \\
X \ar[r] & Y
}
$$
where $U \to X$ and $V \to Y$ are surjective and etale, see
Spaces, Lemma \ref{spaces-lemma-lift-morphism-presentations}.
By assumption the morphisms $\varphi : U \to X \to Z$ and
$\psi : V \to Y \to Z$ are etale. Moreover, $\psi \circ \chi = \varphi$
by our assumption on $f, g, h$.
Hence $U \to V$ is etale by Lemma \ref{lemma-etale-over-space}
part (2).
\end{proof}

\begin{lemma}
\label{lemma-etale-open}
Let $S$ be a scheme.
If $X \to Y$ is an etale morphism of algebraic spaces over $S$,
then the associated map $|X| \to |Y|$ of topological spaces
is open.
\end{lemma}

\begin{proof}
This is clear from the diagram in
Lemma \ref{lemma-etale-local} and Lemma \ref{lemma-topology-points}.
\end{proof}

\noindent
Finally, here is a fun lemma. It is not true that an algebraic space
with an etale morphism towards a scheme is a scheme, see
Spaces, Example \ref{spaces-example-non-representable-descent}.
But it is true if the target is the spectrum of a field.

\begin{lemma}
\label{lemma-etale-over-field-scheme}
Let $S$ be a scheme. Let $X \to \text{Spec}(k)$
be etale morphism over $S$, where $k$ is a field.
Then $X$ is a scheme.
\end{lemma}

\begin{proof}
Let $U$ be an affine scheme, and let $U \to X$ be an etale morphism. By
Definition \ref{definition-etale}
we see that $U \to \text{Spec}(k)$ is an etale
morphism. Hence $U = \coprod_{i = 1, \ldots, n} \text{Spec}(k_i)$
is a finite disjoint union of spectra of finite separable extensions
$k_i$ of $k$, see
Remark \ref{remark-recall}.
The $R = U \times_X U \to U \times_{\text{Spec}(k)} U$ is a monomorphism
and $U \times_{\text{Spec}(k)} U$ is also a finite disjoint union of
spectra of finite separable extensions of $k$. Hence by
Schemes, Lemma \ref{schemes-lemma-mono-towards-spec-field}
we see that $R$ is similarly a finite disjoint union of
spectra of finite separable extensions of $k$.
This $U$ and $R$ are affine and
both projections $R \to U$ are finite locally free.
Hence $U/R$ is a scheme by
Groupoids, Lemma \ref{groupoids-proposition-finite-flat-equivalence}.
By
Spaces, Lemma \ref{spaces-lemma-finding-opens}
it is also an open subspace of $X$. By
Lemma \ref{lemma-subscheme}
we conclude that $X$ is a scheme.
\end{proof}



\section{Special coverings}
\label{section-special-coverings}

\noindent
In this section we collect some straightforward lemmas on the existence
of etale surjective coverings of algebraic spaces.

\begin{lemma}
\label{lemma-cover-by-union-affines}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
There exists a surjective etale morphism $U \to X$ where
$U$ is a disjoint union of affine schemes.
We may in addition assume each of these affines
maps into an affine open of $S$.
\end{lemma}

\begin{proof}
Let $V \to X$ be a surjective etale morphism.
Let $V = \bigcup_{i \in I} V_i$ be a Zariski open covering
such that each $V_i$ maps into an affine open of $S$.
Then set $U = \coprod_{i \in I} V_i$ with induced morphism
$U \to V \to X$. This is etale according to
Lemma \ref{lemma-etale-over-space} and it is clearly surjective.
\end{proof}

\begin{lemma}
\label{lemma-union-of-quasi-compact}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
There exists a Zariski covering $X = \bigcup X_i$
such that each algebraic space $X_i$ has a surjective
etale covering by an affine scheme. We may in addition assume
each $X_i$ maps into an affine open of $S$.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-cover-by-union-affines} we can find a surjective
etale morphism $U = \coprod U_i \to X$, with $U_i$ affine and mapping
into an affine open of $S$. According to
Spaces, Lemma \ref{spaces-lemma-space-presentation},
$R$ is an etale equivalence relation on $U$ and we have $X = U/R$. Set
$R_i = U_i \times_X U_i$; this is also the restriction $R|_{U_i}$ of $R$
to $U_i$. By
Spaces, Lemma \ref{spaces-lemma-finding-opens}
we see that $X_i = U_i/R_i$ is an open subspace of $X$. Since
$X = \bigcup X_i$ is a Zariski covering, we get our covering.
As $U_i \to X_i$ is surjective it follows that $X_i \to S$ maps into
an affine open of $S$.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-affine-cover}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Then $X$ is quasi-compact if and only if
there exists an etale surjective morphism $U \to X$
with $U$ an affine scheme.
\end{lemma}

\begin{proof}
If there exists an etale surjective morphism $U \to X$ with $U$
affine then $X$ is quasi-compact by Definition \ref{definition-quasi-compact}.
Conversely, if $X$ is quasi-compact, then $|X|$ is quasi-compact.
Let $U = \coprod_{i \in I} U_i$ be a disjoint union of affine schemes
with an etale and surjective map $\varphi : U \to X$
(Lemma \ref{lemma-cover-by-union-affines}).
Then $|X| = \bigcup \varphi(|U_i|)$ and
by quasi-compactness there is a finite subset $i_1, \ldots, i_n$
such that $|X| = \bigcup \varphi(|U_{i_j}|)$. Hence
$U_{i_1} \cup \ldots \cup U_{i_n}$ is an affine scheme with a 
finite surjective morphism towards $X$.
\end{proof}

\begin{lemma}
\label{lemma-algebraic-space-affine-cover}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $U$ be an affine scheme, or a disjoint union of affine schemes,
and $U \to X$ surjective etale.
Then $U \to X$ is separated, and $R = U \times_X U$ is a separated scheme.
\end{lemma}

\begin{proof}
Consider the commutative diagram
$$
\xymatrix{
R = U \times_X U \ar[r] \ar[d] & U \ar[d] \\
U \ar[r] & X
}
$$
In the proof of Spaces, Lemma \ref{spaces-lemma-properties-diagonal}
we have seen that $j : R \to U \times_S U$ is separated.
The morphism of schemes $U \to S$ is separated as $U$ is a separated
scheme, see 
Schemes, Lemma \ref{schemes-lemma-compose-after-separated}.
Hence $U \times_S U \to U$ is separated as a base change, see
Schemes, Lemma \ref{schemes-lemma-separated-permanence}.
Hence the scheme $U \times_S U$ is separated (by the same lemma).
Since $j$ is separated we see in the same way that $R$ is separated.
Hence $R \to U$ is a separated morphism (by
Schemes, Lemma \ref{schemes-lemma-compose-after-separated}
again). Thus by
Spaces, Lemma \ref{spaces-lemma-representable-morphisms-spaces-property}
and the diagram above we conclude that $U \to X$ is separated.
\end{proof}

\begin{lemma}
\label{lemma-very-reasonable-quasi-compact-pieces}
Let $S$ be a scheme.
Let $X$ be a very reasonable algebraic space over $S$.
There exists a set of schemes
$U_i$ and morphisms $U_i \to X$ such that
\begin{enumerate}
\item each $U_i$ is a quasi-compact scheme,
\item each $U_i \to X$ is etale,
\item both projections $U_i \times_X U_i \to U_i$ are quasi-compact, and
\item the morphism $\coprod U_i \to X$ is surjective (and etale).
\end{enumerate}
\end{lemma}

\begin{proof}
Definition \ref{definition-very-reasonable}
says that there exist $U_i \to X$ such that (2), (3) and (4) hold.
Fix $i$, and set $R_i = U_i \times_X U_i$, and denote $s, t : R_i \to U_i$
the projections.
For any affine open $W \subset U_i$ the open $W' = t(s^{-1}(W)) \subset U_i$
is a quasi-compact $R_i$-invariant open (see
Groupoids, Lemma \ref{groupoids-lemma-constructing-invariant-opens}).
Hence $W'$ is a quasi-compact scheme, $W' \to X$ is etale, and
$W' \times_X W' = s^{-1}(W') = t^{-1}(W')$ so both projections
$W' \times_X W' \to W'$ are quasi-compact. This means the family of
$W' \to X$, where $W \subset U_i$ runs through the members of affine
open coverings of the $U_i$ gives what we want.
\end{proof}

\begin{lemma}
\label{lemma-quasi-separated-quasi-compact-pieces}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Assume $X$ is Zariski locally quasi-separated over $S$.
There exists a Zariski open covering $X = \bigcup X_i$ such
that for each $i$ there exists an affine scheme
$U_i$ and a separated quasi-compact surjective etale
morphism $U_i \to X_i$.
\end{lemma}

\begin{proof}
There is an immediate reduction to the case where $X$ is quasi-separated. By
Lemma \ref{lemma-union-of-quasi-compact}
we can find a Zariski open covering $X = \bigcup X_i$ such that each
$X_i$ maps into an affine open of $S$, and such that there exist affine
schemes $U_i$ and surjective etale morphisms $U_i \to X_i$. By
Lemma \ref{lemma-algebraic-space-affine-cover}
the morphisms $U_i \to X_i$ are separated. Since $U_i \to S$ maps into
an affine open of $S$ we see that $U_i \times_S U_i$ is affine, see
Schemes, Section \ref{schemes-section-fibre-products}.
As $X$ is quasi-separated over $S$, the morphisms
$$
R_i = U_i \times_{X_i} U_i = U_i \times_X U_i
\longrightarrow
U_i \times_S U_i
$$
as base changes of $\Delta_{X/S}$ are quasi-compact. Hence we conclude
that $R_i$ is a quasi-compact scheme. This in turn implies that each
projection $R_i \to U_i$ is quasi-compact. Hence, applying
Spaces, Lemma \ref{spaces-lemma-representable-morphisms-spaces-property}
to the covering $U_i \to X$ and the morphism $U_i \to X$
we conclude that the morphisms $U_i \to X_i$ are quasi-compact as desired.
\end{proof}









\section{Spaces and fpqc coverings}
\label{section-fpqc}

\noindent
Let $S$ be a scheme.
An algebraic space over $S$ is defined as a sheaf in the fppf topology with
additional properties. Hence it is not clear that it satisfies the sheaf
property for the fpqc topology (see
Topologies, Definition \ref{topologies-lemma-sheaf-property-fpqc}).
In this section we discuss this question. However, when we say that
the algebraic space $X$ satisfies the sheaf property for the fpqc topology
we really only consider fpqc coverings $\{f_i : T_i \to T\}_{i \in I}$ such
that $T, T_i$ are objects of the big site $(\textit{Sch}/S)_{fppf}$ (as per
our conventions, see Section \ref{section-conventions}). We first address the
question as to whether an algebraic space is separated as a presheaf for the
fpqc topology.

\begin{lemma}
\label{lemma-separated-fpqc}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $\{f_i : T_i \to T\}_{i \in I}$ be a fpqc covering of schemes over $S$.
Then the map
$$
\text{Mor}_S(T, X)
\longrightarrow
\prod\nolimits_{i \in I} \text{Mor}_S(T_i, X)
$$
is injective.
\end{lemma}

\begin{proof}
Let $a, b : T \to X$ be two morphisms such that $a \circ f_i = b \circ f_i$
for all $i$. Consider the fibre product
$$
T' = X \times_{\Delta_{X/S}, X \times_S X, (a, b)} T.
$$
By
Spaces, Lemma \ref{spaces-lemma-properties-diagonal}
the morphism $\Delta_{X/S}$ is a representable monomorphism which is
locally of finite type. Hence $T' \to T$ is a monomorphism of schemes which
is locally of finite type. Our assumption that $a \circ f_i = b \circ f_i$
implies that each $T_i \to T$ factors (uniquely) through $T'$. Consider
the commutative diagram
$$
\xymatrix{
T_i \times_T T' \ar[r] \ar[d] & T' \ar[d] \\
T_i \ar[r] \ar@/^5ex/[u] \ar[ru] & T
}
$$
Since the projection $T_i \times_T T' \to T_i$ is a monomorphism
with a section we conclude it is an isomorphism. Hence we conclude that
$T' \to T$ is an isomorphism by
Descent, Lemma \ref{descent-lemma-descending-property-isomorphism}.
This means $a = b$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-sheaf-fpqc-open-covering}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
Let $X = \bigcup_{j \in J} X_j$ be a Zariski covering, see
Spaces, Definition \ref{spaces-definition-Zariski-open-covering}.
If each $X_j$ satisfies the sheaf property for the fpqc topology
then $X$ satisfies the sheaf property for the fpqc topology.
\end{lemma}

\begin{proof}
Assume each $X_j$ satisfies the sheaf property for the fpqc topology.
Let $\{f_i : T_i \to T\}_{i \in I}$ be a fpqc covering of schemes over $S$.
Let $a_i \in \text{Mor}_S(T_i, X)$ be such that
$a_i \circ \text{pr}_0 = a_{i'} \circ \text{pr}_1$ as morphisms
$T_i \times_T T_{i'} \to X$. We have to prove that these morphisms
come from a morphism $a : T \to X$. Consider the open subsets
$T_{i, j} = a_i^{-1}(X_j)$. Then it is clear that
$\text{pr}_0^{-1}(T_{i, j}) = \text{pr}_1^{-1}(T_{i', j})$ as open
subsets of $T_i \times_T T_{i'}$. Hence there exist open subsets
$U_j \subset T$ such that $T_{i, j} = f_i^{-1}(U_j)$, see
Descent, Lemma \ref{descent-lemma-open-fpqc-covering}.
In particular, $\{T_{i, j} \to U_j\}_{i \in I}$ is a fpqc covering
of $U_j$, and the morphisms $a_{i, j} = a_i|_{T_{i, j}}$ are morphisms
into $X_j$. By assumption there exist morphisms $\alpha_j : U_j \to X_j$
such that $T_{i, j} \to U_j \to X_j$ agrees with $a_{i, j}$.
By Lemma \ref{lemma-separated-fpqc} we conclude that
$\alpha_j|_{U_j \cap U_{j'}}$ agrees with $\alpha_{j'}|_{U_j \cap U_{j'}}$.
Hence, since $X$ is a sheaf for the Zariski topology we conclude that
the $\alpha_j$ glue to a morphism $a : T \to X$.
By construction we have $a \circ f_i|_{T_{i, j}} = a_{i, j} = a_i|_{T_{i, j}}$.
Using the sheaf condition for the Zariski topology one more time we
conclude that $a \circ f_i = a_i$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-sheaf-fpqc-quasi-separated}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
If $X$ is Zariski locally quasi-separated over $S$, then $X$ satisfies
the sheaf condition for the fpqc topology.
\end{lemma}

\begin{proof}
By
Lemmas \ref{lemma-quasi-separated-quasi-compact-pieces}
and \ref{lemma-sheaf-fpqc-open-covering}
we may assume there exists an affine scheme $U$ and a
surjective etale separated quasi-compact morphism $\varphi : U \to X$.

\medskip\noindent
Let $\{f_i : T_i \to T\}_{i \in I}$ be a fpqc covering of schemes over $S$.
Let $a_i \in \text{Mor}_S(T_i, X)$ be such that
$a_i \circ \text{pr}_0 = a_j \circ \text{pr}_1$ as morphisms
$T_i \times_T T_j \to X$. We have to prove that these morphisms
come from a morphism $a : T \to X$. Consider the schemes
$$
W_i = T_i \times_{a_i, X, \varphi} U.
$$
The strucure morphisms $W_i \to T_i$ are surjective, separated, quasi-compact
and etale, in particular also quasi-finite (see Remark \ref{remark-recall}).
Hence each $W_i \to T_i$ is quasi-affine, see
More on Morphisms,
Lemma \ref{more-morphisms-lemma-quasi-finite-separated-quasi-affine}.
For each pair of indices $i, j \in I$ we have canonical isomorphisms
\begin{align*}
W_i \times_T T_j & =
(T_i \times_{a_i, X, \varphi} U) \times_T T_j \\
& =
(T_i \times_T T_j) \times_{a_i \circ \text{pr}_0, X, \varphi} U \\
& =
(T_i \times_T T_j) \times_{a_j \circ \text{pr}_1, X, \varphi} U \\
& =
T_i \times_T (T_j \times_{a_j, X, \varphi} U) \\
& =
T_i \times_T W_j.
\end{align*}
These isomorphisms satsify the cocycle condition of
Descent,
Definition \ref{descent-definition-descent-datum-for-family-of-morphisms}
as $a_i$, $a_j$ and $a_k$ agree over $T_i \times_T T_j \times_T T_k$
(some details omitted). By
Descent, Lemma \ref{descent-lemma-quasi-affine}
this descent datum is effective and
we conclude that there exists a scheme $W \to T$ and isomorphisms
$T_i \times_T W = W_i$ compatible with the canonical descent datum
and the one given above. In particular we see that
$\{W_i \to W\}_{i \in I}$ is the base change of a fpqc covering,
and hence a fpqc covering. Note that by construction the
morphisms $b_i : W_i = T_i \times_X U \to U$ have the property
$b_i \circ \text{pr}_0 = b_j \circ \text{pr}_1$ as morphisms
$W_i \times_W W_j \to U$. Hence by
Descent, Lemma \ref{descent-lemma-fpqc-universal-effective-epimorphisms}
we see that there exists a morphism of schemes $b : W \to U$
which restricts to $b_i$ on $W_i$ for all $i$.

\medskip\noindent
By
Descent, Lemmas \ref{descent-lemma-descending-property-surjective}
and \ref{descent-lemma-descending-property-etale}
the morphism $W \to T$ is surjective and etale. Hence, in order to see
that $b$ gives rise to the morphism $a : T \to X$ we are looking for,
it suffices to show that $b \circ \text{pr}_0 = b \circ \text{pr}_1$
as morphisms $W \times_T W \to X$. For this we note that we do know
that $b_i \circ \text{pr}_0 = b_j \circ \text{pr}_1$ as morphisms
$W_i \times_T W_j \to X$, because
$$
W_i \times_T W_j = (T_i \times_T T_j)
\times_{(a_i, a_j), X \times_S X} U \times_S U
$$
and $(a_i, a_j) : T_i \times_T T_j \to X \times_S X$ factors
through $\Delta_{X/S}$ by assumption. In other words we conclude that
over the members of the fpqc covering $\{W_i \times_T W_j \to W \times_T W\}$
the morphisms $b \circ \text{pr}_0$ and $b \circ \text{pr}_1$ agree,
and hence by
Lemma \ref{lemma-separated-fpqc}
they agree. As $X$ is a sheaf for the fppf topology we obtain a unique
morphism $a : T \to X$ whose composition with $W \to T$ agrees with $b$.
We omit the final verification that $a|_{T_i} = a_i$.
\end{proof}

\begin{remark}
\label{remark-proof-works-when}
The proof of
Lemma \ref{lemma-sheaf-fpqc-quasi-separated}
works for any algebraic space which has a
Zariski covering $X = \bigcup X_i$ such that for each $i$ there exists
a surjective etale separated quasi-compact morphism $U_i \to X_i$
where $U_i$ is a scheme. This condition is slightly stronger than the
condition of being very reasonable, and the current proof does not work
even for very reasonable spaces. There are results in the literature, see
David Rydh's paper \cite{rydh_descent} and its references, to remedy this.
On the other hand, it seems that the question for general algebraic spaces
as defined in the stacks project is still open. If this is no longer the
case, please email
\href{mailto:stacks.project@gmail.com}{stacks.project@gmail.com}
so we can update this remark.
\end{remark}








\section{The etale site of an algebraic space}
\label{section-etale-site}

\noindent
In this section we define the small etale site of an algebraic space.
This is the analogue of the small etale site $S_{etale}$ of a scheme.
Lemma \ref{lemma-etale-over-space} implies that in the definition below
any morphism between objects of the etale site of $X$ is etale, and that
any scheme etale over an object of $X_{etale}$ is also an object of
$X_{etale}$.

\begin{definition}
\label{definition-etale-site}
Let $S$ be a scheme.
Let $\textit{Sch}_{fppf}$ be a big fppf site containing $S$,
and let $\textit{Sch}_{etale}$ be the corresponding big etale site
(i.e., having the same underlying category).
Let $X$ be an algebraic space over $S$.
The {\it small etale site $X_{etale}$} of $X$ is defined as follows:
\begin{enumerate}
\item An object of $X_{etale}$ is a morphism $\varphi : U \to X$
where $U \in \text{Ob}((\textit{Sch}/S)_{etale})$ is a scheme and
$\varphi$ is an etale morphism,
\item a morphism $(\varphi : U \to X) \to (\varphi' : U' \to X)$
is given by a morphism of schemes $\chi : U \to U'$ such that
$\varphi = \varphi' \circ \chi$, and
\item a family of morphisms $\{(U_i \to X) \to (U \to X)\}_{i \in I}$
of $X_{etale}$ is a covering if and only if $\{U_i \to U\}_{i \in I}$
is a covering of $(\textit{Sch}/S)_{etale}$.
\end{enumerate}
\end{definition}

\noindent
A consequence of our choice is that the etale site of an algebraic space
in general does not have a final object! On the other hand, if $X$ happens
to be a scheme, then the definition above agrees with
Topologies on Schemes,
Definition \ref{topologies-definition-big-small-etale}.

\medskip\noindent
There are several other choices we could have made here. For example
we could have considered all {\it algebraic spaces} $U$ which are etale
over $X$. We decided not to do so, since we like to think of schemes as
the fundamental objects of algebraic geometry. On the other hand, we
do need this notion also, since the small etale site of an algebraic
space is not sufficiently flexible, especially when discussing functoriality
of the small etale site, see Lemma \ref{lemma-functoriality-etale-site}
below.

\begin{definition}
\label{definition-spaces-etale-site}
Let $S$ be a scheme.
Let $\textit{Sch}_{fppf}$ be a big fppf site containing $S$,
and let $\textit{Sch}_{etale}$ be the corresponding big etale site
(i.e., having the same underlying category).
Let $X$ be an algebraic space over $S$.
The site {\it $X_{spaces, etale}$} of $X$ is defined as follows:
\begin{enumerate}
\item An object of $X_{spaces, etale}$ is a morphism $\varphi : U \to X$
where $U$ is an algebraic space over $S$ and
$\varphi$ is an etale morphism of algebraic spaces over $S$,
\item a morphism $(\varphi : U \to X) \to (\varphi' : U' \to X)$ of
$X_{spaces, etale}$ is given by a morphism of algebraic spaces
$\chi : U \to U'$ such that $\varphi = \varphi' \circ \chi$, and
\item a family of morphisms
$\{\varphi_i : (U_i \to X) \to (U \to X)\}_{i \in I}$
of $X_{spaces, etale}$ is a covering if and only if
$|U| = \bigcup \varphi_i(|U_i|)$.
\end{enumerate}
(As usual we choose a set of coverings of this type, including at least
the coverings in $X_{etale}$, as in Sets, Lemma \ref{sets-lemma-coverings-site}
to turn $X_{spaces, etale}$ into a site.)
\end{definition}

\noindent
Since the identity morphism of $X$ is etale it is clear that
$X_{spaces, etale}$ does have a final object.
Let us show right away that the corresponding topos equals the
small etale topos of $X$.

\begin{lemma}
\label{lemma-compare-etale-sites}
The functor
$$
X_{etale} \longrightarrow X_{spaces, etale}, \quad
U/X \longmapsto U/X
$$
is a special cocontinuous functor
(Sites, Definition \ref{sites-definition-special-cocontinuous-functor})
and hence induces an equivalence of topoi
$\textit{Sh}(X_{etale}) \to \textit{Sh}(X_{spaces, etale})$.
\end{lemma}

\begin{proof}
We have to show that the functor satisfies the assumptions (1) -- (5) of
Sites, Lemma \ref{sites-lemma-equivalence}.
It is clear that the functor is continuous and cocontinuous, which
proves assumptions (1) and (2).
Assumptions (3) and (4) hold simply because the functor is fully faithful.
Assumption (5) holds, because an algebraic space by definition has
a covering by a scheme.
\end{proof}

\begin{remark}
\label{remark-explain-equivalence}
Let us explain the meaning of Lemma \ref{lemma-compare-etale-sites}.
Let $S$ be a scheme, and let $X$ be an algebraic space over $S$.
Let $\mathcal{F}$ be a sheaf on the small etale site $X_{etale}$ of $X$.
The lemma says that there exists a unique sheaf $\mathcal{F}'$ on
$X_{spaces, etale}$ which restricts back to $\mathcal{F}$ on the
subcategory $X_{etale}$. If $U \to X$ is an etale morphism of algebraic
spaces, then how do we compute $\mathcal{F}'(U)$? Well, by definition
of an algebraic space there exists a scheme $U'$ and a surjective
etale morphism $U' \to U$. Then $\{U' \to U\}$ is a covering in
$X_{spaces, etale}$ and hence we get an equalizer diagram
$$
\xymatrix{
\mathcal{F}'(U) \ar[r] &
\mathcal{F}(U') \ar@<1ex>[r] \ar@<-1ex>[r] &
\mathcal{F}(U' \times_U U').
}
$$
Note that $U' \times_U U'$ is a scheme, and hence we may
write $\mathcal{F}$ and not $\mathcal{F}'$.
Thus we see how to compute $\mathcal{F}'$
when given the sheaf $\mathcal{F}$.
\end{remark}

\begin{lemma}
\label{lemma-functoriality-etale-site}
Let $S$ be a scheme.
Let $f : X \to Y$ be a morphism of algebraic spaces over $S$.
\begin{enumerate}
\item The continuous functor
$$
Y_{spaces, etale} \longrightarrow X_{spaces, etale}, \quad
V \longmapsto X \times_Y V
$$
induces a morphism of sites
$$
f_{spaces, etale} : X_{spaces, etale} \to Y_{spaces, etale}.
$$
\item The rule $f \mapsto f_{spaces, etale}$ is compatible with
compositions, in other words $(f \circ g)_{spaces, etale}
= f_{spaces, etale} \circ g_{spaces, etale}$ (see
Sites, Definition \ref{sites-definition-composition-morphisms-sites}).
\item The morphism of topoi associated to $f_{spaces, etale}$
induces, via Lemma \ref{lemma-compare-etale-sites}, a morphism of topoi
$f_{small} : \textit{Sh}(X_{etale}) \to \textit{Sh}(Y_{etale})$
whose construction is compatible with compositions.
\item If $f$ is a representable morphism of algebraic spaces,
then $f_{small}$ comes from a morphism of sites $X_{etale} \to Y_{etale}$,
corresponding to the continuous functor $V \mapsto X \times_Y V$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let us show that the functor described in (1) satisfies the assumptions
of Sites, Proposition \ref{sites-proposition-get-morphism}.
Thus we have to show that
$Y_{spaces, etale}$ has a final object (namely $Y$) and that
the functor transforms this into a final object in $X_{spaces, etale}$
(namely $X$). This is clear as $X \times_Y Y = X$ in any category.
Next, we have to show that $Y_{spaces, etale}$ has fibre products.
This is true since the category of algebraic spaces has fibre products,
and since $V \times_Y V'$ is etale over $Y$ if $V$ and $V'$ are etale
over $Y$ (see Lemmas \ref{lemma-composition-etale} and
\ref{lemma-base-change-etale} above).
OK, so the proposition applies and we see that we get a morphism
of sites as described in (1).

\medskip\noindent
Part (2) you get by unwinding the definitions.
Part (3) is clear by using the equivalences for $X$ and $Y$
from Lemma \ref{lemma-compare-etale-sites} above.
Part (4) follows, because if $f$ is representable, then the
functors above fit into a commutative diagram
$$
\xymatrix{
X_{etale} \ar[r] &
X_{spaces, etale} \\
Y_{etale} \ar[r] \ar[u] &
Y_{spaces, etale} \ar[u]
}
$$
of categories.
\end{proof}

\noindent
We can do a little bit better than the lemma above in describing
the relationship between sheaves on $X$ and sheaves on $Y$.
Namely, we can formulate this in turns of $f$-maps, compare
Sheaves, Definition \ref{sheaves-definition-f-map}, as follows.

\begin{definition}
\label{definition-f-map}
Let $S$ be a scheme.
Let $f : X \to Y$ be a morphism of algebraic spaces over $S$.
Let $\mathcal{F}$ be a sheaf of sets on $X_{etale}$ and
let $\mathcal{G}$ be a sheaf of sets on $Y_{etale}$.
An {\it $f$-map $\varphi : \mathcal{G} \to \mathcal{F}$}
is a collection of maps
$\varphi_{(U,V,g)} : \mathcal{G}(V) \to \mathcal{F}(U)$
indexed by commutative diagrams
$$
\xymatrix{
U \ar[d]_g \ar[r] & X \ar[d]^f \\
V \ar[r] & Y
}
$$
where $U \in X_{etale}$, $V \in Y_{etale}$ such that whenever given
an extended diagram
$$
\xymatrix{
U' \ar[r] \ar[d]_{g'} & U \ar[d]_g \ar[r] & X \ar[d]^f \\
V' \ar[r] & V \ar[r] & Y
}
$$
with $V' \to V$ and $U' \to U$ etale morphisms of schemes the diagram
$$
\xymatrix{
\mathcal{G}(V)
\ar[rr]_{\varphi_{(U, V, g)}}
\ar[d]_{\text{restriction of }\mathcal{G}} & &
\mathcal{F}(U)
\ar[d]^{\text{restriction of }\mathcal{F}} \\
\mathcal{G}(V')
\ar[rr]^{\varphi_{(U', V', g')}} & &
\mathcal{F}(U')
}
$$
commutes.
\end{definition}

\begin{lemma}
\label{lemma-f-map}
Let $S$ be a scheme.
Let $f : X \to Y$ be a morphism of algebraic spaces over $S$.
Let $\mathcal{F}$ be a sheaf of sets on $X_{etale}$ and
let $\mathcal{G}$ be a sheaf of sets on $Y_{etale}$.
There are canonical bijections between the following three sets:
\begin{enumerate}
\item The set of maps $\mathcal{G} \to f_{small, *}\mathcal{F}$.
\item The set of maps $f_{small}^{-1}\mathcal{G} \to \mathcal{F}$.
\item The set of $f$-maps $\varphi : \mathcal{G} \to \mathcal{F}$.
\end{enumerate}
\end{lemma}

\begin{proof}
Note that (1) and (2) are the same because the functors $f_{small, *}$
and $f_{small}^{-1}$ are a pair of adjoint functors.
Suppose that $\alpha : f_{small}^{-1}\mathcal{G} \to \mathcal{F}$
is a map of sheaves on $Y_{etale}$. Let a diagram
$$
\xymatrix{
U \ar[d]_g \ar[r]_{j_U} & X \ar[d]^f \\
V \ar[r]^{j_V} & Y
}
$$
as in Definition \ref{definition-f-map} be given.
By the commutativity of the diagram we also get a map
$g_{small}^{-1}(j_V)^{-1}\mathcal{G} \to (j_U)^{-1}\mathcal{F}$
(compare Sites, Section \ref{sites-section-localization} for the
description of the localization functors). Hence we certainly
get a map
$\varphi_{(V, U, g)} :
\mathcal{G}(V) = (j_V)^{-1}\mathcal{G}(V) 
\to
(j_U)^{-1}\mathcal{F}(U) = \mathcal{F}(U)$.
We omit the verification that this rule is compatible with
further restrictions and defines an $f$-map from $\mathcal{G}$ to
$\mathcal{F}$.

\medskip\noindent
Conversely, suppose that we are given an $f$-map
$\varphi = (\varphi_{(U, V, g)})$.
Let $\mathcal{G}'$ (resp.\ $\mathcal{F}'$) denote the extension of
$\mathcal{G}$ (resp.\ $\mathcal{F}$) to $Y_{spaces, etale}$
(resp.\ $X_{spaces, etale}$), see Lemma \ref{lemma-compare-etale-sites}.
Then we have to construct a map of sheaves
$$
\mathcal{G}' \longrightarrow (f_{spaces, etale})_*\mathcal{F}'
$$
To do this, let $V \to Y$ be an etale morphism of algebraic spaces.
We have to construct a map of sets
$$
\mathcal{G}'(V) \to \mathcal{F}'(X \times_Y V)
$$
Choose an etale surjective morphism $V' \to V$ with $V'$ a scheme,
and after that choose an etale surjective morphsm
$U' \to X \times_U V'$ with $U'$ a scheme. We get a morphism of
schemes $g' : U' \to V'$ and also a morphism of schemes
$$
g'' : U' \times_{X \times_Y V} U' \longrightarrow V' \times_V V'
$$
Consider the following diagram
$$
\xymatrix{
\mathcal{F}'(X \times_Y V) \ar[r] &
\mathcal{F}(U') \ar@<1ex>[r] \ar@<-1ex>[r] &
\mathcal{F}(U' \times_{X \times_Y V} U') \\
\mathcal{G}'(X \times_Y V) \ar[r] \ar@{..>}[u] &
\mathcal{G}(V') \ar@<1ex>[r] \ar@<-1ex>[r] \ar[u]_{\varphi_{(U', V', g')}} &
\mathcal{G}(V' \times_V V') \ar[u]_{\varphi_{(U'', V'', g'')}}
}
$$
The compatibility of the maps $\varphi_{...}$
with restriction shows that the two right squares commute.
The definition of coverings in $X_{spaces, etale}$ shows that
the horizontal rows are equalizer diagrams. Hence we get
the dotted arrow. We leave it to the reader to show that these
arrows are compatible with the restriction mappings.
\end{proof}

\noindent
If the morphism of algebraic spaces $X \to Y$ is etale, then the morphism
of topoi $\textit{Sh}(X_{etale}) \to \textit{Sh}(Y_{etale})$
is a localization. Here is a statement.

\begin{lemma}
\label{lemma-etale-morphism-topoi}
Let $S$ be a scheme, and let $f : X \to Y$ be a morphism of algebraic spaces
over $S$. Assume $f$ is etale. In this case there is a functor
$$
j : X_{etale} \to Y_{etale},\quad
(\varphi : U \to X) \mapsto (f \circ \varphi : U \to Y)
$$
which is cocontinuous. The morphism of topoi $f_{small}$ is the
morphism of topoi associated to $j$, see
Sites, Lemma \ref{sites-lemma-cocontinuous-morphism-topoi}.
Moreover, $j$ is continuous as well, hence
Sites, Lemma \ref{sites-lemma-when-shriek}
applies. In particular $f_{small}^{-1}\mathcal{G}(U) = \mathcal{G}(jU)$
for all sheaves $\mathcal{G}$ on $Y_{etale}$.
\end{lemma}

\begin{proof}
Note that by our very definition of an etale morphism of algebraic spaces
(Definition \ref{definition-etale}) it is
indeed the case that the rule given defines a functor $j$ as indicated.
It is clear that $j$ is cocontinuous and continuous, simply because an
covering $\{U_i \to U\}$ of $j(\varphi : U \to X)$ in $Y_{etale}$ is the
same thing as a covering of $(\varphi : U \to X)$ in $X_{etale}$. It
remains to show that $j$ induces the same morphism of topoi as $f_{small}$.
To see this we consider the diagram
$$
\xymatrix{
X_{etale} \ar[r] \ar[d]^j &
X_{spaces, etale} \ar@/_/[d]_{j_{spaces}} \\
Y_{etale} \ar[r] &
Y_{spaces, etale} \ar@/_/[u]_{v : V \mapsto X \times_Y V}
}
$$
of categories. Here the functor $j_{spaces}$ is the obvious extension of $j$
to the category $X_{spaces, etale}$. Thus the inner square is commutative.
In fact $j_{spaces}$ can be identified with the
localization functor $j_X : Y_{spaces, etale}/X \to Y_{spaces, etale}$
discussed in
Sites, Section \ref{sites-section-localization}.
Hence, by
Sites, Lemma \ref{sites-lemma-localization-given-products}
the cocontinuous functor $j_{spaces}$ and the functor $v$ of the diagram
induce the same morphism of topoi. By
Sites, Lemma \ref{sites-lemma-composition-cocontinuous}
the commutativity of the inner square (consisting of cocontinuous functors
between sites) gives a commutative diagram of associated morphisms of topoi.
Hence, by the construction of $f_{small}$ in
Lemma \ref{lemma-functoriality-etale-site} we win.
\end{proof}

\noindent
The lemma above says that the pullback of $\mathcal{G}$ via an etale morphism
$f : X \to Y$ of algebraic spaces is simply the restriction of $\mathcal{G}$
to the category $X_{etale}$. We will often use the short hand
\begin{equation}
\label{equation-restrict}
\mathcal{G}|_{X_{etale}} = f_{small}^{-1}\mathcal{G}
\end{equation}
to indicate this. Note that the functor $X_{etale} \to Y_{etale}$
in this situation is faithful, but not fully faithful in general.

\begin{lemma}
\label{lemma-pushforward-etale-base-change}
Let $S$ be a scheme. Let
$$
\xymatrix{
X' \ar[r] \ar[d]_{f'} & X \ar[d]^f \\
Y' \ar[r]^g & Y
}
$$
be a cartesian square of algebraic spaces over $S$. Let
$\mathcal{F}$ be a sheaf on $X_{etale}$. If $g$ is etale, then
$f'_*(\mathcal{F}|_{X'}) = (f_*\mathcal{F})|_{Y'}$ in
$\textit{Sh}(Y'_{etale})$.
\end{lemma}

\begin{proof}
Consider the following diagram of functors
$$
\xymatrix{
X'_{spaces, etale} \ar[r]_j &
X_{spaces, etale} \\
Y'_{spaces, etale} \ar[r]^j \ar[u]^{V' \mapsto V' \times_{Y'} X'} &
Y_{spaces, etale} \ar[u]_{V \mapsto V \times_Y X}
}
$$
The horizontal arrows are localizations and the vertical arrows induce
morphisms of sites. Hence the last statement of
Sites, Lemma \ref{sites-lemma-morphism-sites-localization}
gives what we want.
\end{proof}

\noindent
The following lemma says that you can think of a sheaf on the small
etale site of an algebraic space as a compatible collection of sheaves
on the small etale sites of schemes etale over the space. Please note
that all the comparison mappings $c_f$ in the lemma are isomorphisms,
which is compatible with
Topologies on Schemes,
Lemma \ref{topologies-lemma-characterize-sheaf-big-etale}
and the fact that all morphisms between objects of $X_{etale}$
are etale.

\begin{lemma}
\label{lemma-characterize-sheaf-small-etale}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
A sheaf $\mathcal{F}$ on $X_{etale}$ is given by the following data:
\begin{enumerate}
\item for every $U \in \text{Ob}(X_{etale})$ a sheaf
$\mathcal{F}_U$ on $U_{etale}$,
\item for every $f : U' \to U$ in $X_{etale}$ an isomorphism
$c_f : f_{small}^{-1}\mathcal{F}_U \to \mathcal{F}_{U'}$.
\end{enumerate}
These data are subject to the condition that given any $f : U' \to U$
and $g : U'' \to U'$ in $X_{etale}$ the composition
$g_{small}^{-1}c_f \circ c_g$ is equal to $c_{f \circ g}$.
\end{lemma}

\begin{proof}
Given a sheaf $\mathcal{F}$ on $X_{etale}$ and an object
$\varphi : U \to X$ of
$X_{etale}$ we set $\mathcal{F}_U = \varphi_{small}^{-1}\mathcal{F}$.
If $\varphi' : U' \to X$ is a second object of $X_{etale}$, and
$f : U' \to U$ is a morphism between them, then
the isomorphism $c_f$ comes from the fact that
$f_{small}^{-1} \circ \varphi_{small}^{-1} = (\varphi')^{-1}_{small}$, see
Lemma \ref{lemma-functoriality-etale-site}. The condition on the
transitivity of the isomorphisms $c_f$ follows from the functoriality
of the small etale sites also; verification omitted.

\medskip\noindent
Conversely, suppose we are given a collection of data $(\mathcal{F}_U, c_f)$
as in the lemma. In this case we simply define $\mathcal{F}$ by the rule
$U \mapsto \mathcal{F}_U(U)$. Details omitted.
\end{proof}









\section{Sheaves of modules on algebraic spaces}
\label{section-modules}

\noindent
By the results of
Descent, Section \ref{descent-section-quasi-coherent-sheaves}
we may think of a quasi-coherent sheaf $\mathcal{F}$ on a scheme
$X$ as a quasi-coherent sheaf of $\mathcal{O}$-modules on the small
etale site $X_{etale}$. This is our motivation for the definition of
a quasi-coherent sheaf on an algebraic space.

\begin{lemma}
\label{lemma-sheaf-condition-holds}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
The rule $U \mapsto \Gamma(U, \mathcal{O}_U)$ defines
a sheaf of rings on $X_{etale}$.
\end{lemma}

\begin{proof}
Immediate from the definition of a covering and
Descent, Lemma \ref{descent-lemma-sheaf-condition-holds}.
\end{proof}

\begin{definition}
\label{definition-structure-sheaf}
Let $S$ be a scheme.
Let $X$ be an algebraic space over $S$.
The {\it structure sheaf} of $X$
is the sheaf of rings $\mathcal{O}_X$
on the small etale site $X_{etale}$ described in
Lemma \ref{lemma-sheaf-condition-holds}.
\end{definition}

\noindent
According to Lemma \ref{lemma-characterize-sheaf-small-etale} the sheaf
$\mathcal{O}_X$ corresponds to a system of etale sheaves $(\mathcal{O}_X)_U$
for $U$ ranging through the objects of $X_{etale}$. It is clear from the proof
of that lemma and our definition that we have simply
$(\mathcal{O}_X)_U = \mathcal{O}_U$ where $\mathcal{O}_U$ is the structure
sheaf of $U_{etale}$ as introduced in
Descent, Definition \ref{descent-definition-structure-sheaf}.
In particular, if $X$ is a scheme we recover the sheaf $\mathcal{O}_X$
on the small etale site of $X$.

\medskip\noindent
Via the equivalence $\textit{Sh}(X_{etale}) = \textit{Sh}(X_{spaces, etale})$
of Lemma \ref{lemma-compare-etale-sites} we may also think of
$\mathcal{O}_X$ as a sheaf of rings on $X_{spaces, etale}$. It is explained
in Remark \ref{remark-explain-equivalence} how to compute $\mathcal{O}_X(Y)$,
and in particular $\mathcal{O}_X(X)$, when $Y \to X$ is an object of
$X_{spaces, etale}$.

\begin{lemma}
\label{lemma-morphism-ringed-topoi}
Let $S$ be a scheme.
Let $f : X \to Y$ be a morphism of algebraic spaces over $S$.
Then there is a canonical map
$f^\sharp : f_{small}^{-1}\mathcal{O}_Y \to \mathcal{O}_X$ such that
$$
(f_{small}, f^\sharp) :
(X_{etale}, \mathcal{O}_X)
\to
(Y_{etale}, \mathcal{O}_Y)
$$
is a morphism of ringed topoi. Furthermore,
\begin{enumerate}
\item The construction $f \mapsto (f_{small}, f^\sharp)$ is compatible with
compositions.
\item If $f$ is a morphism of schemes, then $f^\sharp$ is the map described in
Descent, Remark \ref{descent-remark-change-topologies-ringed-sites}.
\end{enumerate}
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-f-map} it suffices to give an $f$-map from
$\mathcal{O}_Y$ to $\mathcal{O}_X$. In other words, for every
commutative diagram
$$
\xymatrix{
U \ar[d]_g \ar[r] & X \ar[d]^f \\
V \ar[r] & Y
}
$$
where $U \in X_{etale}$, $V \in Y_{etale}$ we have to give a map of
rings
$
(f^\sharp)_{(U, V, g)} :
\Gamma(V, \mathcal{O}_V)
\to
\Gamma(U, \mathcal{O}_U).
$
Of course we just take $(f^\sharp)_{(U, V, g)} = g^\sharp$.
It is clear that this is compatible with restriction mappings
and hence indeed gives and $f$-map.
We omit checking compatibility with compositions and agreement with the
construction in
Descent, Remark \ref{descent-remark-change-topologies-ringed-sites}.
\end{proof}

\noindent
Thus, by
Modules on Sites, Definition \ref{sites-modules-definition-pushforward}
we see that given a morphism $f : X \to Y$ of algebraic spaces
we get well defined pullback and direct image functors
\begin{equation}
\label{equation-push-pull}
f^* :
\textit{Mod}(\mathcal{O}_Y)
\longrightarrow
\textit{Mod}(\mathcal{O}_X), \quad
f_* :
\textit{Mod}(\mathcal{O}_X)
\longrightarrow
\textit{Mod}(\mathcal{O}_Y)
\end{equation}
which are adjoint in the usual way. If $g : Y \to Z$ is another morphism
of algebraic spaces over $S$, then we have
$(g \circ f)^* = f^* \circ g^*$ and $(g \circ f)_* = g_* \circ f_*$
simply because the morphisms of ringed topoi compose in the corresponding
way (by the lemma).

\begin{lemma}
\label{lemma-etale-exact-pullback}
Let $S$ be a scheme.
Let $f : X \to Y$ be an etale morphism of algebraic spaces over $S$.
Then $f^{-1}\mathcal{O}_Y = \mathcal{O}_X$, and
$f^*\mathcal{G} = f_{small}^{-1}\mathcal{G}$ for any sheaf of
$\mathcal{O}_Y$-modules $\mathcal{G}$. In particular,
$f^* : \textit{Mod}(\mathcal{O}_X) \to \textit{Mod}(\mathcal{O}_Y)$
is exact.
\end{lemma}

\begin{proof}
By the description of inverse image in Lemma \ref{lemma-etale-morphism-topoi}
and the definition of the structure sheaves it is clear that
$f_{small}^{-1}\mathcal{O}_Y = \mathcal{O}_X$. Since the pullback
$$
f^*\mathcal{G} =
f_{small}^{-1}\mathcal{G} \otimes_{f_{small}^{-1}\mathcal{O}_Y}
\mathcal{O}_X
$$
by definition we conclude that $f^*\mathcal{G} = f_{small}^{-1}\mathcal{G}$.
The exactness is clear because $f_{small}^{-1}$ is exact, as $f_{small}$
is a morphism of topoi.
\end{proof}

\noindent
We continue our abuse of notation introduced in
Equation (\ref{equation-restrict})
by writing
\begin{equation}
\label{equation-restrict-modules}
\mathcal{G}|_{X_{etale}}
= f^*\mathcal{G}
= f_{small}^{-1}\mathcal{G}
\end{equation}
in the situation of the lemma above.

\begin{lemma}
\label{lemma-pushforward-etale-base-change-modules}
Let $S$ be a scheme. Let
$$
\xymatrix{
X' \ar[r] \ar[d]_{f'} & X \ar[d]^f \\
Y' \ar[r]^g & Y
}
$$
be a cartesian square of algebraic spaces over $S$. Let
$\mathcal{F} \in \text{Mod}(\mathcal{O}_X)$. If $g$ is etale, then
$f'_*(\mathcal{F}|_{X'}) = (f_*\mathcal{F})|_{Y'}$ in
$\text{Mod}(\mathcal{O}_{Y'})$.
\end{lemma}

\begin{proof}
This is a reformulation of
Lemma \ref{lemma-pushforward-etale-base-change}
in the case of modules.
\end{proof}

\begin{lemma}
\label{lemma-characterize-module-small-etale}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
A sheaf $\mathcal{F}$ of $\mathcal{O}_X$-modules is given by the following
data:
\begin{enumerate}
\item for every $U \in \text{Ob}(X_{etale})$ a sheaf
$\mathcal{F}_U$ of $\mathcal{O}_U$-modules on $U_{etale}$,
\item for every $f : U' \to U$ in $X_{etale}$ an isomorphism
$c_f : f_{small}^*\mathcal{F}_U \to \mathcal{F}_{U'}$.
\end{enumerate}
These data are subject to the condition that given any $f : U' \to U$
and $g : U'' \to U'$ in $X_{etale}$ the composition
$g_{small}^{-1}c_f \circ c_g$ is equal to $c_{f \circ g}$.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-etale-exact-pullback}
and \ref{lemma-characterize-sheaf-small-etale}, and use the fact that
any morphism between objects of $X_{etale}$ is an etale morphism of schemes.
\end{proof}





\section{Quasi-coherent sheaves on algebraic spaces}
\label{section-quasi-coherent}

\noindent
In
Descent, Section \ref{descent-section-quasi-coherent-sheaves}
we have seen that for a scheme $U$, there is no difference between a
quasi-coherent $\mathcal{O}_U$-module on $U$, or a quasi-coherent
$\mathcal{O}$-module on the small etale site of $U$. Hence the following
definition is compatible with our original notion of a quasi-coherent sheaf
on a scheme
(Schemes, Section \ref{schemes-section-quasi-coherent}),
when applied to a representable algebraic space.

\begin{definition}
\label{definition-quasi-coherent}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
A {\it quasi-coherent} $\mathcal{O}_X$-module 
is a quasi-coherent module on the ringed site $(X_{etale}, \mathcal{O}_X)$
in the sense of
Modules on Sites,
Definition \ref{sites-modules-definition-site-local}.
\end{definition}

\noindent
Note that as being quasi-coherent is an intrinsic notion (see
Modules on Sites, Lemma \ref{sites-modules-lemma-special-locally-free})
this is equivalent to saying that the corresponding $\mathcal{O}_X$-module
on $X_{spaces, etale}$ is quasi-coherent.

\medskip\noindent
As usual, quasi-coherent sheaves behave well with respect to pullback.

\begin{lemma}
\label{lemma-pullback-quasi-coherent}
Let $S$ be a scheme.
Let $f : X \to Y$ be a morphism of algebraic spaces over $S$.
The pullback functor
$f^* : \textit{Mod}(\mathcal{O}_Y) \to \textit{Mod}(\mathcal{O}_X)$
preserves quasi-coherent sheaves.
\end{lemma}

\begin{proof}
This is a general fact, see
Modules on Sites, Lemma \ref{sites-modules-lemma-local-pullback}.
\end{proof}

\noindent
Note that this pullback functor agrees with the usual pullback functor
between quasi-coherent sheaves of modules if $X$ and $Y$ happen to be
schemes, see
Descent, Proposition
\ref{descent-proposition-equivalence-quasi-coherent-functorial}.
Here is the obligatory lemma comparing this with quasi-coherent sheaves
on the objects of the small etale site of $X$.

\begin{lemma}
\label{lemma-characterize-quasi-coherent-small-etale}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
A quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$
is given by the following data:
\begin{enumerate}
\item for every $U \in \text{Ob}(X_{etale})$ a quasi-coherent
$\mathcal{O}_U$-module $\mathcal{F}_U$ on $U_{etale}$,
\item for every $f : U' \to U$ in $X_{etale}$ an isomorphism
$c_f : f_{small}^*\mathcal{F}_U \to \mathcal{F}_{U'}$.
\end{enumerate}
These data are subject to the condition that given any $f : U' \to U$
and $g : U'' \to U'$ in $X_{etale}$ the composition
$g_{small}^{-1}c_f \circ c_g$ is equal to $c_{f \circ g}$.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-pullback-quasi-coherent} and
\ref{lemma-characterize-module-small-etale}.
\end{proof}

\begin{lemma}
\label{lemma-characterize-quasi-coherent}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $\mathcal{F}$ be a sheaf of $\mathcal{O}_X$-modules.
The following are equivalent
\begin{enumerate}
\item $\mathcal{F}$ is a quasi-coherent $\mathcal{O}_X$-module,
\item there exists an etale morphism $f : Y \to X$ of
algebraic spaces over $S$ with $|f| : |Y| \to |X|$ surjective
such that $f^*\mathcal{F}$ is quasi-coherent on $Y$,
\item there exists a scheme $U$ and a surjective etale morphism
$\varphi : U \to X$ such that $\varphi^*\mathcal{F}$ is a quasi-coherent
$\mathcal{O}_U$-module, and
\item for every affine scheme $U$ and etale morphism $\varphi : U \to X$ the
restriction $\varphi^*\mathcal{F}$ is a quasi-coherent $\mathcal{O}_U$-module.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that (1) implies (2) by considering $\text{id}_X$.
Assume $f : Y \to X$ is as in (2), and let $V \to Y$ be a surjective
etale morphism from a scheme towards $Y$. Then the composition $V \to X$ is
surjective etale as well
and by Lemma \ref{lemma-pullback-quasi-coherent} the pullback of $\mathcal{F}$
to $V$ is quasi-coherent as well. Hence we see that (2) implies (3).

\medskip\noindent
Let $U \to X$ be as in (3). Let us use the abuse of notation introduced
in Equation (\ref{equation-restrict-modules}).
As $\mathcal{F}|_{U_{etale}}$ is quasi-coherent there exists an etale covering
$\{U_i \to U\}$ such that $\mathcal{F}|_{U_{i, etale}}$ has a
global presentation, see
Modules on Sites, Definition \ref{sites-modules-definition-global} and
Lemma \ref{sites-modules-lemma-local-final-object}.
Let $V \to X$ be an object of $X_{etale}$. Since $U \to X$ is surjective and
etale, the family of maps $\{U_i \times_X V \to V\}$ is an etale covering
of $V$. Via the morphisms $U_i \times_X V \to U_i$ we can restrict the
global presentations of $\mathcal{F}|_{U_{i, etale}}$ to get a global
presentation of $\mathcal{F}|_{(U_i \times_X V)_{etale}}$
Hence the sheaf $\mathcal{F}$ on $X_{etale}$ satisfies the condition of
Modules on Sites, Definition \ref{sites-modules-definition-site-local}
and hence is quasi-coherent.

\medskip\noindent
The equivalence of (3) and (4) comes from the fact that any scheme has
an affine open covering.
\end{proof}

\begin{lemma}
\label{lemma-properties-quasi-coherent}
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
The category $\text{QCoh}(X)$ of quasi-coherent sheaves on $X$ has
the following properties:
\begin{enumerate}
\item Any direct sum of quasi-coherent sheaves is quasi-coherent.
\item Any colimit of quasi-coherent sheaves is quasi-coherent.
\item The kernel and cokernel of a morphism of quasi-coherent sheaves
is quasi-coherent.
\item Given a short exact sequence of $\mathcal{O}_X$-modules
$0 \to \mathcal{F}_1 \to \mathcal{F}_2 \to \mathcal{F}_3 \to 0$
if two out of three are quasi-coherent so is the third.
\item Given two quasi-coherent $\mathcal{O}_X$-modules
the tensor product is quasi-coherent.
\item Given two quasi-coherent $\mathcal{O}_X$-modules
$\mathcal{F}$, $\mathcal{G}$ such that $\mathcal{F}$
is of finite presentation, then the internal hom
$\textit{Hom}_{\mathcal{O}_X}(\mathcal{F}, \mathcal{G})$
is quasi-coherent.
\end{enumerate}
\end{lemma}

\begin{proof}
Choose a scheme $U$ and a surjective etale morphism $\varphi : U \to X$.
We have a commutative diagram
$$
\xymatrix{
\text{QCoh}(X) \ar[r] \ar[d] & \text{QCoh}(U) \ar[d] \\
\text{Mod}(\mathcal{O}_X) \ar[r] & \text{Mod}(\mathcal{O}_U)
}
$$
where the bottom horizontal arrow is the restriction functor
(\ref{equation-restrict-modules})
$\mathcal{G} \mapsto \mathcal{G}|_{U_{etale}}$ which commutes
with all limits and colimits (because it has both a left adjoint and
a right adjoint, see
Modules on Sites, Section \ref{sites-modules-section-localization}).
Moreover, we know that an object of $\text{Mod}(\mathcal{O}_X)$ is in
$\text{QCoh}(X)$ if and only if its restriction to $U$ is in
$\text{QCoh}(U)$. Hence the result follows from the corresponding
result on quasi-coherent modules on schemes, see
Schemes, Section \ref{schemes-section-quasi-coherent}.
\end{proof}

\noindent
It is in general not the case that the pushforward of a quasi-coherent sheaf
along a morphism of algebraic spaces is quasi-coherent. We will return to this
issue in
Morphisms of Spaces, Section \ref{spaces-morphisms-section-pushforward}.







\section{Quasi-coherent sheaves and presentations}
\label{section-quasi-coherent-presentation}

\noindent
Let $S$ be a scheme. Let $X$ be an algebraic space over $S$.
Let $X = U/R$ be a presentation of $X$ coming from any surjective
etale morphism $\varphi : U \to X$, see
Spaces, Definition \ref{spaces-definition-presentation}.
In particular, we obtain a groupoid $(U, R, s, t, c)$, such that
$j = (t, s) : R \to U \times_S U$, see
Groupoids, Lemma \ref{groupoids-lemma-equivalence-groupoid}.
In
Groupoids, Definition \ref{groupoids-definition-groupoid-module}
we have the defined the notion of a quasi-coherent sheaf
on an arbitrary groupoid. With these notions in place we have
the following observation.

\begin{proposition}
\label{proposition-quasi-coherent}
With $S$, $\varphi : U \to X$, and $(U, R, s, t, c)$ as above.
For any quasi-coherent $\mathcal{O}_X$-module $\mathcal{F}$ the
sheaf $\varphi^*\mathcal{F}$ comes equipped with a canonical
isomorphism
$$
\alpha : t^*\varphi^*\mathcal{F} \longrightarrow s^*\varphi^*\mathcal{F}
$$
which satisfies the conditions of 
Groupoids, Definition \ref{groupoids-definition-groupoid-module}
and therefore defines a quasi-coherent sheaf on $(U, R, s, t, c)$.
The functor $\mathcal{F} \mapsto (\varphi^*\mathcal{F}, \alpha)$
defines an equivalence of categories
$$
\begin{matrix}
\text{Quasi-coherent} \\
\mathcal{O}_X\text{-modules}
\end{matrix}
\longleftrightarrow
\begin{matrix}
\text{Quasi-coherent modules}\\
\text{on }(U, R, s, t, c)
\end{matrix}
$$
\end{proposition}

\begin{proof}
In the statement of the proposition, and in this proof we think of a
quasi-coherent sheaf on a scheme as a quasi-coherent sheaf on the small
etale site of that scheme. This is permissible by the results of
Descent, Section \ref{descent-section-quasi-coherent-sheaves}.

\medskip\noindent
The existence of $\alpha$ comes from the fact that
$\varphi \circ t = \varphi \circ s$ and that pullback is
functorial in the morphism, see discussion surrounding
Equation (\ref{equation-push-pull}). In exacty the same way, i.e., by
functoriality of pullback, we see that the isomorphism $\alpha$ satisfies
condition (1) of
Groupoids, Definition \ref{groupoids-definition-groupoid-module}.
To see condition (2) of the definition it suffices to see that $\alpha$
is an isomorphism which is clear. The construction
$\mathcal{F} \mapsto (\varphi^*\mathcal{F}, \alpha)$
is clearly functorial in the quasi-coherent sheaf $\mathcal{F}$.
Hence we obtain the functor from left to right in the displayed
formula of the lemma.

\medskip\noindent
Conversely, suppose that $(\mathcal{F}, \alpha)$ is a quasi-coherent
sheaf on $(U, R, s, t, c)$. Let $V \to X$ be an object of $X_{etale}$.
In this case the morphism $V' = U \times_X V \to V$ is a surjective etale
morphism of schemes, and hence $\{V' \to V\}$ is an etale
covering of $V$. Moreover, the quasi-coherent sheaf $\mathcal{F}$
pulls back to a quasi-coherent sheaf $\mathcal{F}'$ on $V'$.
Since $R = U \times_X U$ with $t = \text{pr}_0$ and $s = \text{pr}_0$
we see that $V' \times_V V' = R \times_X V$ with projection maps
$V' \times_V V' \to V'$ equal to the pullbacks of $t$ and $s$. Hence
$\alpha$ pulls back to an isomorphism
$\alpha' : \text{pr}_0^*\mathcal{F}' \to \text{pr}_1^*\mathcal{F}'$, and
the pair $(\mathcal{F}', \alpha')$ is a descend datum for quasi-coherent
sheaves with respect to $\{V' \to V\}$. By
Descent, Lemma \ref{descent-proposition-fpqc-descent-quasi-coherent}
this descent datum is effective, and we obtain a quasi-coherent
$\mathcal{O}_V$-module $\mathcal{F}_V$ on $V_{etale}$.
To see that this gives a quasi-coherent sheaf on $X_{etale}$ we have
to show (by
Lemma \ref{lemma-characterize-quasi-coherent-small-etale})
that for any morphism $f : V_1 \to V_2$ in $X_{etale}$
there is a canonical isomorphism
$c_f : \mathcal{F}_{V_1} \to \mathcal{F}_{V_2}$
compatible with compositions of morphisms. We omit the verification.
We also omit the verification that this defines a functor from the
category on the right to the category on the left which is inverse
to the functor described above.
\end{proof}












\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
