\input{preamble}

% OK, start here.
%
\begin{document}

\title{Hypercoverings}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Hypercoverings can be used to compute cohomology of abelian sheaves on sites
without recourse to injective resolutions. See \cite[Expose V, Sec. 7]{SGA4}.
A nice manuscript on cohomological descent is the text by Brian Conrad,
see \url{http://www.math.lsa.umich.edu/~bdconrad/papers/hypercover.pdf}.
Probably it is useless to try to improve on Brian's article, so we look
at the question a little differently (more naively).

\section{The category $\Delta$}
\label{section-Delta}

\noindent
The category $\Delta$ is the category with
\begin{enumerate}
\item objects $[0], [1], [2], \ldots$ with
$[n] = \{0, 1, 2, \ldots, n\}$ and
\item morphism $[n] \to [m]$ is the set of nondecreasing
maps of sets $\{0, 1, 2, \ldots, n\} \to \{0, 1, 2, \ldots, m\}$.
\end{enumerate}
Here {\it nondecreasing} for a map $\varphi : [n] \to [m]$
means by definition that $\varphi(i) \geq \varphi(j)$ if $i \geq j$.
In other words, $\Delta$ is a category equivalent to the
``big'' category of finite totally ordered sets and nondecreasing maps.
There are exactly $n + 1$ morphisms $[0] \to [n]$ and
there is exactly $1$ morphism $[n] \to [0]$. There are
exactly $(n + 1)(n + 2)/2$ morphisms $[1] \to [n]$ and there are
exactly $n + 2$ morphisms $[n] \to [1]$. And so on and so forth.

\begin{definition}
\label{definition-face-degeneracy}
For any integer $n\geq 1$, and any $0\leq j \leq n$ we let $\delta^n_j : [n-1]
\to [n]$ denote the injective order preserving map skipping $j$. For any
integer $n\geq 0$, and any $0\leq j \leq n$ we denote $\sigma^n_j : [n+1] 
\to [n]$ the surjective order preserving map with 
$(\sigma^n_j)^{-1}(\{j\}) = \{j, j+1\}$.
\end{definition}

\begin{lemma}
\label{lemma-face-degeneracy}
Any morphism in $\Delta$ can be written as a composition
of an identity morphism, and the morphisms $\delta^n_j$ and $\sigma^n_j$.
\end{lemma}

\begin{proof}
Let $\varphi : [n] \to [m]$ be a morphism of $\Delta$.
If $j \not \in \text{Im}(\varphi)$, then we can write
$\varphi$ as $\delta^m_j \circ \psi$ for some morphism
$\psi : [n] \to [m - 1]$. If $\varphi(j) = \varphi(j + 1)$
then we can write $\varphi$ as $\psi \circ \sigma^{n - 1}_j$
for some morphism $\psi : [n - 1] \to [m]$.
The result follows because each replacement
as above lowers $n + m$ and hence at some point
$\varphi$ is both injective and surjective, hence
an identity morphism.
\end{proof}

\begin{lemma}
\label{lemma-relations-face-degeneracy}
The morphisms $\delta^n_j$ and $\sigma^n_j$ satisfy the following relations.
\begin{enumerate}
\item If $0 \leq i < j \leq n + 1$, then
$\delta^{n + 1}_j \circ \delta^n_i =
\delta^{n + 1}_i \circ \delta^n_{j - 1}$.
In other words the diagram
$$
\xymatrix{
& [n] \ar[rd]^{\delta^{n + 1}_j} & \\
[n - 1] \ar[ru]^{\delta^n_i} \ar[rd]_{\delta^n_{j - 1}} & &
[n + 1] \\
& [n] \ar[ru]_{\delta^{n + 1}_i} & 
}
$$
commutes.
\item If $0 \leq i < j \leq n - 1$, then
$\sigma^{n - 1}_j \circ \delta^n_i =
\delta^{n - 1}_i \circ \sigma^{n - 2}_{j - 1}$.
In other words the diagram
$$
\xymatrix{
& [n] \ar[rd]^{\sigma^{n - 1}_j} & \\
[n - 1] \ar[ru]^{\delta^n_i} \ar[rd]_{\sigma^{n - 2}_{j - 1}} & &
[n - 1] \\
& [n - 2] \ar[ru]_{\delta^{n - 1}_i} & 
}
$$
commutes.
\item If $0 \leq j \leq n - 1$, then
$\sigma^{n - 1}_j \circ \delta^n_j = \text{id}_{[n - 1]}$
and
$\sigma^{n - 1}_j \circ \delta^n_{j + 1} = \text{id}_{[n - 1]}$.
In other words the diagram
$$
\xymatrix{
& [n] \ar[rd]^{\sigma^{n - 1}_j} & \\
[n - 1]
\ar[ru]^{\delta^n_j}
\ar[rd]_{\delta^n_{j + 1}}
\ar[rr]^{\text{id}_{[n - 1]}} & & [n - 1] \\
& [n] \ar[ru]_{\sigma^{n - 1}_j} &
}
$$
commutes.
\item If $0 < j + 1 < i \leq n$, then
$\sigma^{n - 1}_j \circ \delta^n_i =
\delta^{n - 1}_{i - 1} \circ \sigma^{n - 2}_j$.
In other words the diagram
$$
\xymatrix{
& [n] \ar[rd]^{\sigma^{n - 1}_j} & \\
[n - 1] \ar[ru]^{\delta^n_i} \ar[rd]_{\sigma^{n - 2}_j} & &
[n - 1] \\
& [n - 2] \ar[ru]_{\delta^{n - 1}_{i - 1}} & 
}
$$
commutes.
\item If $0 \leq i \leq j \leq n - 1$, then
$\sigma^{n - 1}_j \circ \sigma^n_i =
\sigma^{n - 1}_i \circ \sigma^n_{j + 1}$.
In other words the diagram
$$
\xymatrix{
& [n] \ar[rd]^{\sigma^{n - 1}_j} & \\
[n + 1] \ar[ru]^{\sigma^n_i} \ar[rd]_{\sigma^n_{j + 1}} & &
[n - 1] \\
& [n] \ar[ru]_{\sigma^{n - 1}_i} & 
}
$$
commutes.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-face-degeneracy-category}
The category $\Delta$ is the universal category
with objects $[n]$, $n \geq 0$ and morphisms
$\delta^n_j$ and $\sigma^n_j$ such that (a) every morphism is
a composition of these morphisms, (b) the relations
listed in Lemma \ref{lemma-relations-face-degeneracy} are satisfied,
and (c) any relation among the morphisms is a consquence of
those relations.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}







\section{Simplicial objects}
\label{section-simplicial-object}

\begin{definition}
\label{definition-simplicial-object}
Let $\mathcal{C}$ be a category.
\begin{enumerate}
\item A {\it simplicial object $U$ of $\mathcal{C}$}
is a contravariant functor $U$ from $\Delta$ to
$\mathcal{C}$, in a formula:
$$
U : \Delta^{opp} \longrightarrow \mathcal{C}
$$
\item If $\mathcal{C}$ is the category of sets, then we call
$U$ a {\it simplicial set}.
\item If $\mathcal{C}$ is the category of abelian groups,
then we call $U$ a {\it simplicial abelian group}.
\item A {\it morphism of simplicial objects $U \to U'$}
is a transformation of functors.
\item The {\it category of simplicial objects of $\mathcal{C}$}
is denoted $\text{Simp}(\mathcal{C})$.
\end{enumerate}
\end{definition}

\noindent
This means there are objects $U([0]), U([1]), U([2]), \ldots$
and morphisms $U(\varphi) : U([n]) \to U([m])$,
where $\varphi$ is any nondecreasing map $\varphi : [m] \to [n]$. 

\medskip\noindent
In particular there is a unique morphism $U([0]) \to U([n])$ and there are
exactly $n + 1$ morphisms $U([n]) \to U([0])$ corresponding to
the $n + 1$ maps $[0] \to [n]$. Obviously we need some more notation
to be able to talk 
intelligently about these simplicial objects. We do this by considering
the morphisms we singled out in Section \ref{section-Delta} above.

\begin{lemma}
\label{lemma-characterize-simplicial-object}
Let $\mathcal{C}$ be a category.
\begin{enumerate}
\item Given a simplicial object $U$ in $\mathcal{C}$
we obtain a sequence of objects $U_n = U([n])$ endowed
with the morphisms $d^n_j = U(\delta^n_j) : U_n \to U_{n-1}$ and
$s^n_j = U(\sigma^n_j) : U_n \to U_{n + 1}$. These morphisms
satisfy the opposites of the relations displayed in
Lemma \ref{lemma-relations-face-degeneracy}.
\item Conversely, given a sequence of objects $U_n$ and morphisms
$d^n_j$, $s^n_j$ satisfying these relations there exists a unique
a simplicial object $U$ in $\mathcal{C}$ such that $U_n = U([n])$,
$d^n_j = U(\delta^n_j)$, and $s^n_j = U(\sigma^n_j)$.
\item A morphism between simplicial objects $U$ and $U'$
is given by a family of morphisms $U_n \to U'_n$ commuting
with the morphisms $d^n_j$ and $s^n_j$.
\end{enumerate}
\end{lemma}

\begin{proof}
This follows from Lemma \ref{lemma-face-degeneracy-category}.
\end{proof}

\begin{remark}
By abuse of notation we sometimes write $d_i : U_n \to U_{n - 1}$
instead of $d^n_i$, and similarly for $s_i : U_n \to U_{n + 1}$.
The relations among the morphisms $d^n_i$ and $s^n_i$
may be expressed as follows:
\begin{enumerate}
\item If $i < j$, then $d_i \circ d_j = d_{j - 1} \circ d_i$.
\item If $i < j$, then $d_i \circ s_j = s_{j - 1} \circ d_i$.
\item We have $\text{id} = d_j \circ s_j = d_{j + 1} \circ s_j$.
\item If $i > j + 1$, then $d_i \circ s_j = s_j \circ d_{i - 1}$.
\item If $i \leq j$, then $s_i \circ s_j = s_{j + 1} \circ s_i$.
\end{enumerate}
This means that whenever the compositions on both the left and the
right are defined then the corresponding equality should hold.
\end{remark}

\noindent
We get a unique morphism $s^0_0 = U(\sigma^0_0) : U_0 \to U_1$ and
two morphisms $d^1_0 = U(\delta^1_0)$, and
$d^1_1 = U(\delta^1_1)$ which are morphisms $U_1 \to U_0$.
There are two morphisms $s^1_0 = U(\sigma^1_0)$, $s^1_1 = U(\sigma^1_1)$
which are morphsms $U_1 \to U_2$. Three morphisms
$d^2_0 = U(\delta^2_0)$, $d^2_1 = U(\delta^2_1)$, $d^2_2 = U(\delta^2_2)$
which are morphisms $U_3 \to U_2$. And so on.

\medskip\noindent
Pictorially we think of $U$ as follows:
$$
\xymatrix{
U_2
\ar@<2ex>[r]
\ar@<0ex>[r]
\ar@<-2ex>[r]
&
U_1 
\ar@<1ex>[r]
\ar@<-1ex>[r]
\ar@<1ex>[l]
\ar@<-1ex>[l]
&
U_0
\ar@<0ex>[l]
}
$$
Here the $d$-morphisms are the arrows pointing right and the 
$s$-morphisms are the arrows pointing left.

\begin{example}
\label{example-constant-simplicial-object}
The simplest example is the {\it constant} simplicial object with
value $X \in \text{Ob}(\mathcal{C})$. In other words, $U_n=X$ and
all maps are $\text{id}_X$.
\end{example}

\begin{example}
\label{example-fibre-products-simplicial-object}
Suppose that $Y\to X$ is a morphism of $C$ such that all
the fibred products $Y\times_X Y \times_X \ldots \times_X Y$ exist.
Then we set $U_n$ equal to the $(n + 1)$-fold fibre product,
and we let $\varphi: [n] \to [m]$ correspond to the map
(on ``coordinates'')
$(y_0,\ldots, y_m) \mapsto (y_{\varphi(0)},\ldots, y_{\varphi(n)})$.
In other words, the map $U_0 = Y \to U_1 = Y\times_X Y$ is the
diagonal map. The two maps $U_1 = Y\times_X Y \to U_0 = Y$ are the
projection maps.
\end{example}

\noindent
Geometrically Example \ref{example-fibre-products-simplicial-object}
above is an important example. It tells us that it is a good
idea to think of the maps $d^n_j : U_{n + 1} \to U_n$
as projection maps (forgetting the $j$th component),
and to think of the maps $s^n_j : U_n \to U_{n + 1}$
as diagonal maps (repeating the $j$th coordinate).
We will return to this in the sections below.

\section{Simplicial objects as presheaves}
\label{section-simplicial-presheaves}

\noindent
Another observation is that we may think of a simplicial
object of $\mathcal{C}$ as a presheaf with values in $\mathcal{C}$
over $\Delta$. See
Sites, Definition \ref{sites-definition-presheaf}.
And in fact, if $U$, $U'$ are simplicial objects
of $\mathcal{C}$, then we have
\begin{equation}
\label{simplicial-set-presheaf}
\text{Mor}(U, U') = \text{Mor}_{\textit{PSh}(\Delta)}(U, U').
\end{equation}

\section{Products of simplicial objects}
\label{section-products}

\noindent
Of course we should define the product of simplicial objects
as the product in the category of simplicial objects. This
may lead to the potentially confusing situation where the product exists
but is not described as below. To avoid this we define the product
directly as follows.

\begin{definition}
\label{definition-product}
Let $\mathcal{C}$ be a category.
Let $U$ and $V$ be simplicial objects of $\mathcal{C}$.
Assume the products $U_n \times V_n$ exist in $\mathcal{C}$.
The {\it product of $U$ and $V$} is the simplicial object
$U\times V$ defined as follows:
\begin{enumerate}
\item $(U \times V)_n = U_n \times V_n$,
\item $d^n_i = (d^n_i, d^n_i)$, and
\item $s^n_i = (s^n_i, s^n_i)$.
\end{enumerate}
In other words, $U\times V$ is the product of the presheaves
$U$ and $V$ on $\Delta$.
\end{definition}

\begin{lemma}
\label{lemma-product}
If $U$ and $V$ are simplicial objects in the category $\mathcal{C}$,
and if $U\times V$ exists, then we have
$$
\text{Mor}(W, U\times V) = 
\text{Mor}(W, U) \times
\text{Mor}(W, V)
$$
for any third simplicial object $W$ of $\mathcal{C}$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}


\section{Homotopies}
\label{section-homotopy}

\noindent
Consider the simplicial sets $\Delta[0]$ and $\Delta[1]$.
Recall that there are two morphisms
$$
e_i : \Delta[0] \longrightarrow \Delta[1],
$$
coming from the morphisms $[0] \to [1]$ mapping 
$0$ to $i \in \{0, 1\}$. Recall also that each
set $\Delta[1]_k$ is finite. Hence, if the category
$\mathcal{C}$ has finite coproducts, then we can
form the product
$$
U \times \Delta[1]
$$
for any simplicial object $U$ of $\mathcal{C}$, exactly
as in Definition \ref{definition-product}. (More generally
this works if finite coproducts $\coprod_{i=1}^N U_n$
of the objects $U_n$ exist.)
Note that $\Delta[0]$ has the property that $\Delta[0]_k = \{*\}$
is a singleton for all $k \geq 0$. Hence $U \times \Delta[0]
= U$. Thus $e_i$ above gives rise to morphisms
$$
e_i : U \to U \times \Delta[1].
$$

\begin{definition}
\label{definition-homotopy}
Suppose that $U$ and $V$ are two simplicial objects
of $\mathcal{C}$. Assume that $U \times \Delta[1]$ exists.
We say morphisms $a, b : U \to V$ are {\it homotopic}
if there exists a morphism
$$
h : U \times \Delta[1] \longrightarrow V
$$
such that $a = h \circ e_0$ and $b = h \circ e_1$.
In this case $h$ is called a {\it homotopy connecting
$a$ and $b$}.
\end{definition}

\noindent
We are going to spell out what this means.
By definition $\Delta[1]_n = \text{Mor}_{\Delta}([n], [1])$.
There are $n$ surjective morphisms $[n] \to [1]$, call
them $\pi_1, \ldots, \pi_n$ where $\pi_i$ is the map such that
$\pi_i(j) = 0$ for $j < i$ and $\pi_i(j) = 1$ for $j \geq i$.
Thus a morphism
$$
h : U \times \Delta[1] \longrightarrow V
$$
in particular gives rise to $n$ morphisms $h^n_i : U_n \to V_n$
defined as the composition
$U_n = U_n \times \{\pi_i\} \hookrightarrow U_n \times \Delta[1]_n
\to V_n$.

\begin{lemma}
\label{lemma-relations-homotopy}
Let $U, V, a, b, h$ be as in Definition \ref{definition-homotopy}.
The morphisms $h^n_i$ satsify the following relations.
\begin{enumerate}
\item 
\end{enumerate}
\end{lemma}





























\section{Simplicial sets}
\label{section-simplicial-set}

\noindent
Let $U$ be a simplical set. It is a good idea to think of
$U_0$ as the {\it $0$-simplices}, the set $U_1$ as the
{\it $1$-simplices},
the set $U_2$ as the {\it $2$-simplices}, and so on.

\medskip\noindent
We think of the maps $s^n_j : U_n \to U_{n + 1}$ as
the map that associates to an $n$-simplex $A$ the degenerate
$(n + 1)$-simplex $B$ whose $(j, j + 1)$-edge is collapsed
to the vertex $j$ of $A$. We think of the map $d^n_j : U_n \to U_{n - 1}$
as the map that associates to an $n$-simplex $A$ one of the
faces, namely the face that omits the vertex $j$.
In this way it become possible to visualize the relations
among the maps $s^n_j$ and $d^n_j$ geometrically.

\begin{definition}
\label{definition-terminology-simplicial-sets}
Let $U$ be a simplicial set. 
We say {\it $x$ is a $n$-simplex of $U$} to signify that
$x$ is an element of $U_n$. We say that {\it $y$ is the $j$the
face of $x$} to signify that $d^n_jx = y$. We say that
{\it $z$ is the $j$th degeneracy of $x$} if $z = s^n_jx$.
A simplex is called {\it degenerate} if it is the degeneracy
of another simplex.
\end{definition}

\noindent
Here are a few fundamental examples.

\begin{example}
\label{example-simplex-simplicial-set}
For every $n \geq 0$ we denote $\Delta[n]$ the simplicial set
\begin{align*}
\Delta^{opp} & \longrightarrow \textit{Sets} \\
[k] & \longmapsto \text{Mor}_{\Delta}([k], [n])
\end{align*}
We leave it to the reader to verify the following statements.
Every $m$-simplex of $\Delta[n]$ with $m > n$ is degenerate.
There is a unique nondegenerate $n$-simplex of $\Delta[n]$,
namely $\text{id}_{[n]}$.
\end{example}

\begin{lemma}
\label{lemma-simplex-map}
Let $U$ be a simplicial set. Let $n \geq 0$ be an integer.
There is a canonical bijection
$$
\text{Mor}(\Delta[n], U)
\longrightarrow
U_n
$$
which maps a morphism $\varphi$ to the value of $\varphi$
on the unique nondegenerate $n$-simplex of $\Delta[n]$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{example}
\label{example-simplex-category}
Consider the category $\Delta/[n]$ of objects over $[n]$
in $\Delta$, see
Categories, Example \ref{categories-example-comma-category}.
There is a functor $p : \Delta/[n] \to \Delta$.
The fibre category of $p$ over $[k]$, see
Categories, Section \ref{categories-section-fibred-groupoids},
has as objects the
set $\Delta[n]_k$ of $k$-simplices in $\Delta[n]$, and as
morphisms only identities. For every morphism
$\varphi : [k] \to [l]$ of $\Delta$, and every object $\psi : [l] \to [n]$
in the fibre category over $[l]$ there is a unique
object over $[k]$ with a morphism covering $\varphi$, namely
$\psi \circ \varphi : [k] \to [n]$. Thus $\Delta/[n]$
is fibred in sets over $\Delta$. In other words, we may
think of $\Delta/[n]$ as a presheaf of sets over $\Delta$.
See also, Categories,
Example \ref{categories-example-fibred-category-from-functor-of-points}.
And this presheaf of sets agrees with the simplicial set
$\Delta[n]$. In particular, from Equation
(\ref{simplicial-set-presheaf}) and 
Lemma \ref{lemma-simplex-map} above
we get the formula
$$
\text{Mor}_{\textit{PSh}(\Delta)}(\Delta/[n], U) = U_n
$$
for any simplicial set $U$.
\end{example}


\section{Splitting simplicial objects}
\label{section-splitting}

\noindent
A subobject $N$ of an object $X$ of the category $\mathcal{C}$
is an object $N$ of $\mathcal{C}$ together with a monomorphism
$N \to X$. Of course we say (by abouse of notation) that
the subobjects $N$, $N'$ are equal if there exists an isomorphism
$N \to N'$ compatible with the morphisms to $X$. The collection
of subobjects forms a partially ordered set. (Because of our
conventions on categories; not true for category of spaces
up to homotopy for example.)

\begin{definition}
\label{definition-split}
Let $\mathcal{C}$ be a category which admits finite nonempty coproducts.
We say a simplicial object $U$ of $\mathcal{C}$ is split
if there exist subobjects $N(U_m)$ of $U_m$, $m \geq 0$
with the property that
\begin{equation}
\label{equation-splitting}
\coprod\nolimits_{\varphi : [n] \to [m]\text{ surjective}}
N(U_m)
\longrightarrow
U_n
\end{equation}
is an isomorphism for all $n \geq 0$.
\end{definition}

\noindent
If this is the case, then $N(U_0) = U_0$. Next, we have
$U_1 = U_0 \coprod N(U_1)$. Second we have
$$
U_2 = U_0 \coprod N(U_1) \coprod N(U_1) \coprod N(U_2).
$$
It turns out that in many categories $\mathcal{C}$
every simplicial object is split.

\begin{lemma}
\label{lemma-splitting-simplicial-sets}
Let $U$ be a simplicial set.
Then $U$ has a canonical splitting
with $N(U_m)$ equal to the set of 
nondegenerate $m$-simplices.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\section{Skelet and coskelet functors}
\label{section-skelet}

\noindent
Let $\Delta_{\leq n}$ denote the full subcategory of
$\Delta$ with objects $[0], [1], [2], \ldots, [n]$.
Let $\mathcal{C}$ be a category.

\begin{definition}
\label{definition-truncated-simplicial-object}
An {\it $n$-truncated simplicial object of $\mathcal{C}$} 
is a contravariant functor from $\Delta_{\leq n}$ to
$\mathcal{C}$. A {\it morphism of $n$-truncated
simplicial objects} is a transformation of functors.
We denote the category of $n$-truncated
simplicial objects of $\mathcal{C}$ by
the symbol $\text{Simp}_n(\mathcal{C})$.
\end{definition}

\noindent
Given a simplicial object $U$ of $\mathcal{C}$
the truncation $\text{sk}_n U$ is the restriction
of $U$ to the subcategory $\Delta_{\leq n}$.
This defines a {\it skelet functor}
$$
\text{sk}_n :
\text{Simp}(\mathcal{C}) \longrightarrow \text{Simp}_n(\mathcal{C})
$$
from the category of simplicial objects of $\mathcal{C}$
to the category of $n$-truncated simplicial objects of $\mathcal{C}$.

\medskip\noindent
The {\it coskelet functor} (if it exists) is a functor
$$
\text{cosk}_n :
\text{Simp}(\mathcal{C}) \longrightarrow \text{Simp}_n(\mathcal{C})
$$
which is right adjoint to the skelet functor. In a formula
\begin{equation}
\label{equation-cosk}
\text{Mor}_{\text{Simp}(\mathcal{C})}(U, \text{cosk}_n V)
=
\text{Mor}_{\text{Simp}_n(\mathcal{C})}(\text{sk}_n U, V)
\end{equation}
Given a $n$-truncated simplicial object $V$ we 
say that {\it $\text{cosk}_nV$ exists} if there
exists a $\text{cosk}_nV \in \text{Ob}(\text{Simp}(\mathcal{C}))$
such that the displayed formula holds, in other words
if the functor $U \mapsto \text{Mor}_{\text{Simp}_n(\mathcal{C})}(\text{sk}_n U, V)$ is representable. If it exists it
is unique up to unique isomorphism by the Yoneda lemma.
See Categories, Section \ref{categories-section-opposite}.

\begin{example}
\label{example-cosk0}
Suppose the category $\mathcal{C}$ has finite nonempty self products.
A $0$-truncated simplicial object of $\mathcal{C}$ is the same
as an object $X$ of $\mathcal{C}$. In this case
we claim that $\text{cosk}_0(X)$ is the simplicial
object $U$ with $U_n = X^{n + 1}$ the $(n + 1)$-fold self
product of $X$, and structure of simplicial object
as in Example \ref{example-fibre-products-simplicial-object}.
Namely, a morphism $V \to U$ where $V$ is a simplicial
object is given by morphisms $V_n \to X^{n + 1}$, such
that all the diagrams
$$
\xymatrix{
V_n \ar[r] \ar[d]_{V([0] \to [n], 0 \mapsto i)} &
X^{n + 1} \ar[d]^{\text{pr}_i} \\
V_0 \ar[r] &
X
}
$$
commute. Clearly this means that the map determines and is determined
by a unique morphism $V_0 \to X$. This proves that formula
(\ref{equation-cosk}) holds.
\end{example}

\noindent
Recall the category $\Delta/[n]$, see Example \ref{example-simplex-category}.
We let $(\Delta/[n])_{\leq m}$ denote the full subcategory
of $\Delta/[n]$ consisting of objects $[k] \to [n]$
of $\Delta/[n]$ with $k \leq m$. In other words we have
the following commutative diagram of categories and functors
$$
\xymatrix{
(\Delta/[n])_{\leq m} \ar[r] \ar[d] &
\Delta/[n] \ar[d] \\
\Delta_{\leq m} \ar[r] &
\Delta
}
$$
Given a $m$-truncated
simplicial object $U$ of $\mathcal{C}$
we define a functor
$$
U(n) : (\Delta/[n])_{\leq m}^{opp} \longrightarrow \mathcal{C}
$$
by the rules
\begin{eqnarray*}
([k] \to [n]) & \longmapsto & U_k \\
(\psi : ([k] \to [n]) \to ([k'] \to [n])) &
\longmapsto &
U(\psi) : U_{k'} \to U_k
\end{eqnarray*}
For a given morphism $\varphi : [n] \to [n']$ of $\Delta$
we have an associated functor
$$
"\varphi" : (\Delta/[n])_{\leq m} \longrightarrow (\Delta/[n'])_{\leq m}
$$
which maps $\alpha : [k] \to [n]$ to
$\varphi \circ \alpha : [k] \to [n']$.
The composition $U(n') \circ "\varphi"$ is
equal to the functor $U(n)$.

\begin{lemma}
\label{lemma-existence-cosk}
If the category $\mathcal{C}$ has finite limits, then
$\text{cosk}_m$ functors exist for all $m$. Moreover,
for any $m$-truncated simplicial object $U$ the
simplicial object $\text{cosk}_mU$ is described
by the formula
$$
(\text{cosk}_mU)_n = \text{lim}_{(\Delta/[n])_{\leq m}^{opp}}\ U(n)
$$
and for $\varphi : [n] \to [n']$ the map
$\text{cosk}_mU(\varphi)$ comes from the
identification $U(n') \circ "\varphi" = U(n)$ above 
via Categories, Lemma \ref{categories-lemma-functorial-limit}.
\end{lemma}

\begin{proof}
Suppose that $V$ is a simplicial object.
A morphism $\gamma : V \to \text{cosk}_mU$ is given by a sequence
of morphisms $\gamma_n : V_n \to (\text{cosk}_mU)_n$.
By definition of a limit, this is given by a
collection of morphisms $\gamma(\alpha) : V_n \to U_k$
where $\alpha$ ranges over all $\alpha : [k] \to [n]$
with $k \leq m$. These morphisms then also satisfy
the rules that
$$
\xymatrix{
V_n \ar[r]_{\gamma(\alpha)} &  U_k \\
V_{n'} \ar[r]^{\gamma(\alpha')} \ar[u]^{V(\varphi)} & U_{k'} \ar[u]_{U(\psi)}
}
$$
are commutative, given any $0 \leq k, k' \leq m$, $0 \leq n, n'$
and any $\psi : [k] \to [k']$, $\varphi : [n] \to [n']$,
$\alpha : [k] \to [n]$ and $\alpha' : [k'] \to [n']$ in $\Delta$
such that $\varphi \circ \alpha = \alpha' \circ \psi$.
Taking $n = k$, $\varphi = \alpha'$, and $\alpha = \psi = \text{id}_{[k]}$
we deduce that $\gamma(\alpha') = \gamma(\text{id}_{[k]}) \circ V(\alpha')$.
In other words, the morphisms $\gamma(\text{id}_{[k]})$, $k \leq m$
determine the morphism $\gamma$. And it is easy to see that these
morphisms form a morphism $\text{sk}_m V \to U$.

\medskip\noindent
Conversely, given a morphism $\gamma : \text{sk}_m V \to U$, 
we obtain a family of morphsms $\gamma(\alpha)$
where $\alpha$ ranges over all $\alpha : [k] \to [n]$
with $k \leq m$ by setting $\gamma(\alpha) = 
\gamma(\text{id}_{[k]}) \circ V(\alpha)$. These morphisms
satisfy all the displayed commutativity restraints pictured
above, and hence give rise to a morphism $V \to \text{cosk}_m U$.
\end{proof}

\begin{lemma}
\label{lemma-trivial-cosk}
Let $\mathcal{C}$ be a category.
Let $U$ be an $m$-truncated simplicial object of $\mathcal{C}$.
For $n \leq m$ the limit $\text{lim}_{(\Delta/[n])_{\leq m}^{opp}}\ U(n)$
exists and is canonically isomorphic to $U_n$.
\end{lemma}

\begin{proof}
This is true because the category $(\Delta/[n])_{\leq m}$
has an final object in this case, namely the identity
map $[n] \to [n]$.
\end{proof}

\noindent
Let us describe the coskelet functor in more detail.
By abuse of notation we will denote $\text{sk}_n$
also the restriction functor
$\text{Simp}_{n'}(\mathcal{C}) \to \text{Simp}_{n'}(\mathcal{C})$
for any $n' \geq n$. We will give a description of a right adjoint
of this functor if it exists.
For $n \geq 1$, $0 \leq i < j \leq n + 1$
define $\delta^{n + 1}_{i,j} : [n - 1] \to [n + 1]$
to be the increasing map omitting $i$ and $j$.
Note that
$\delta^{n + 1}_{i,j} =
\delta^{n + 1}_j \circ \delta^n_i =
\delta^{n + 1}_i \circ \delta^n_{j - 1}$, see
Lemma \ref{lemma-relations-face-degeneracy}. This motivates
the following lemma.

\begin{lemma}
\label{lemma-work-out}
Let $n$ be an integer $\geq 2$. Let $U$ be a $n$-truncated
simplicial object of $\mathcal{C}$. Consider the
contravariant functor from $\mathcal{C}$ to $\textit{Sets}$
which associates to an object $T$ the set
$$
\{ (f_0,\ldots,f_{n + 1}) \in \text{Mor}_{\mathcal{C}}(T, U_n)
\mid
d^n_{j - 1} \circ f_i = d^n_i \circ f_j\ 
\forall\ 0\leq i < j\leq n + 1\}
$$
If this functor is representable by some object $U_{n + 1}$
of $\mathcal{C}$, then there exists an $(n + 1)$-truncated
simplicial object $\tilde U$, with $\text{sk}_n \tilde U = U$
and $\tilde U_{n + 1} = U_{n + 1}$ such that the following
adjointness holds
$$
\text{Mor}_{\text{Simp}_{n + 1}(\mathcal{C})}(V, \tilde U)
=
\text{Mor}_{\text{Simp}_n(\mathcal{C})}(\text{sk}_nV, U)
$$
\end{lemma}

\begin{proof}
Denote the representing object $U_{n + 1}$. Denote the maps
$U_{n + 1} \to U_n$, given on functors as
$(f_0,\ldots,f_{n + 1}) \mapsto f_i$ by
$d^{n + 1}_i$. Consider the $(n + 1)$-truncated
simplicial object $\tilde U$ given by $U_0, \ldots, U_n, U_{n + 1}$, and
maps defined as follows. For $\varphi : [k] \to [l]$, $k,l \leq n$
use the morphisms $U(\varphi) : U_l \to U_k$.
For $\varphi : [k] \to [n + 1]$ with $k \leq n$ choose
an $i$ not in the image of $\varphi$ and write
$\varphi = \delta^{n + 1}_i \circ \varphi'$. In this case take
the morphism $U_{n + 1} \to U_n \to U_k$ which is
the composition of $d^{n + 1}_i$ and $U(\varphi')$.
For $\varphi : [n + 1] \to [k]$ consider the maps
$\varphi \circ \delta^{n + 1}_i : [n] \to [k]$ which
give morphisms $f_i = U(\varphi \circ \delta^n_i) : U_k \to U_{n - 1}$.
If we check these satisfy the relations in the definition
of $U_{n + 1}$ then we obtain the desired morphism $U_k \to U_{n + 1}$.
To see this it suffices to check that
$$
\varphi \circ \delta^{n + 1}_i \circ \delta^n_{j - 1}
=
\varphi \circ \delta^{n + 1}_j \circ \delta^n_i
$$
which is true by the discussion above the lemma.
Finally, given a map $\varphi : [n + 1] \to [n + 1]$
if it is not the identity then we can factor it
as $[n + 1] \to [n] \to [n + 1]$ and use the definitions
above.

\medskip\noindent
We leave it to the reader to verify that this indeed
defines a contravariant functor $\Delta_{\leq n + 1}$.
Alternatively, the reader may verify that the object $U_{n + 1}$
defined above represents the limit
$\text{lim}_{(\Delta/[n + 1])_{\leq n}^{opp}}\ U(n)$,
and use this in combination with Lemma \ref{lemma-trivial-cosk} to define
the maps above.

\medskip\noindent
To see the adjointness we argue that any element
$\gamma$ of the right hand side of the formula
gives rise to a unique morphism $V_{n + 1} \to U_{n + 1}$
corresponding to setting $f_i : V_{n+1} \to U_n$
equal to the morphism $\gamma_n \circ d^{n+1}_i : V_{n+1} \to V_n \to U_n$.
Conversely, given a morphsm $\gamma'$ of the left hand side
we can simply restrict to $\Delta_{\leq n}$ to get an element
of the right hand side.
Details left to the reader, see also
Remark \ref{remark-cosk-simplicial-sets}.
\end{proof}

\begin{remark}
\label{remark-explicit-face-degeneracy}
Let $U$, and $U_{n + 1}$ be as in Lemma \ref{lemma-work-out}.
On $T$-valued points we can easily describe the face
and degeneracy maps of $\tilde U$.
Explicitly, the maps $d^{n + 1}_i : U_{n + 1} \to U_n$
are given by
$$
(f_0, \ldots, f_{n + 1}) \longmapsto f_i.
$$
And the maps $s^n_i : U_n \to U_{n + 1}$ are given by
\begin{eqnarray*}
f & \longmapsto & (
s^{n - 1}_{i + 1} \circ d^{n - 1}_0 \circ f,\ 
s^{n - 1}_{i + 1} \circ d^{n - 1}_1 \circ f,\ 
\ldots,\ 
s^{n - 1}_{i + 1} \circ d^{n - 1}_{i - 1} \circ f, \\
& &
f,\ 
f, \\
& &
s^{n - 1}_i \circ d^{n - 1}_{i + 1} \circ f,\ 
s^{n - 1}_i \circ d^{n - 1}_{i + 2} \circ f,\ 
\ldots,\ 
s^{n - 1}_i \circ d^{n - 1}_n \circ f
)
\end{eqnarray*}
where we leave it to the reader to verify that the RHS
is an element of the displayed set of Lemma \ref{lemma-work-out}.
\end{remark}


\begin{remark}
\label{remark-cosk-simplicial-sets}
The construction of Lemma \ref{lemma-work-out}
above in the case of simplicial
sets is the following. Given an $n$-truncated simplicial
set $U$, we make a canonical $(n + 1)$-truncated simplicial
set $\tilde U$ as follows. We add a set of $(n + 1)$-simplices
$U_{n + 1}$ by the formula of the lemma. Namely,
an element of $U_{n + 1}$ is a numbered collection of
$(f_0,\ldots,f_{n + 1})$ of $n$-simplices,
with the property that they glue
as they would in a $(n + 1)$-simplex. In other words,
the $i$th face of $f_j$ is the $(j-1)$st face of $f_i$
for $i < j$. Geometrically it is obvious how to define the
face and degeneracy maps for $\tilde U$.
If $V$ is an $(n + 1)$-truncated simplicial set,
then its $(n + 1)$-simplices give rise to compatible collections
of $n$-simplices $(f_0, \ldots, f_{n + 1})$ with $f_i \in V_n$.
Hence there is a natural map
$\text{Mor}(\text{sk}_nV, U) \to \text{Mor}(V, \tilde U)$
which is inverse to the canonical restriction mapping
the other way.

\medskip\noindent
Also, it is enough to do the combinatorics of the
construction in the case of truncated simplicial sets.
Namely, for any object $T$ of the category $\mathcal{C}$,
and any $n$-truncated simplicial object $U$ of $\mathcal{C}$
we can consider the $n$-truncated simplicial set
$\text{Mor}(T, U)$. We may apply the construction to this,
and take its set of $(n + 1)$-simplices, and require this to be
representable. This is a good way to think about
the result of Lemma \ref{lemma-work-out}.
\end{remark}

\begin{lemma}
\label{lemma-cosk-product}
Let $U$, $V$ be $n$-truncated simplicial objects of a
category $\mathcal{C}$. Then
$$
\text{cosk}_n (U \times V) = \text{cosk}_nU \times \text{cosk}_nV
$$
whenever the left and right hand sides exist.
\end{lemma}

\begin{proof}
Let $W$ be a simplicial object. We have
\begin{eqnarray*}
\text{Mor}(W, \text{cosk}_n (U \times V))
& = &
\text{Mor}(\text{sk}_n W, U \times V) \\
& = &
\text{Mor}(\text{sk}_n W, U)
\times
\text{Mor}(\text{sk}_nW, V) \\
& = &
\text{Mor}(W, \text{cosk}_n U)
\times
\text{Mor}(W, \text{cosk}_n V) \\
& = &
\text{Mor}(W, \text{cosk}_n U \times \text{cosk}_n V)
\end{eqnarray*}
The lemma follows.
\end{proof}

\begin{lemma}
\label{lemma-simplex-cosk}
The canonical map
$\Delta[n] \to \text{cosk}_1 \text{sk}_1 \Delta[n]$
is an isomorphism.
\end{lemma}

\begin{proof}
Consider a simplicial set $U$ and a morphism
$f : U \to \Delta[n]$. This is a rule that associates
to each $u \in U_i$ a map $f_u : [i] \to [n]$ in $\Delta$.
Furthermore, these maps should have the property that
$f_u \circ \varphi = f_{U(\varphi)(u)}$ for any 
$\varphi : [j] \to [i]$. Denote $\epsilon^i_j : [0] \to [i]$
the map which maps $0$ to $j$. Denote $F : U_0 \to [n]$
the map $u \mapsto f_u(0)$. Then we see that
$$
f_u(j) = F(\epsilon^i_j(u))
$$
for all $0 \leq j \leq i$ and $u \in U_i$.
In particular, if we know the function $F$
then we know the maps $f_u$ for all $u\in U_i$ all $i$.
Conversely, given a map $F : U_0 \to [n]$,
we can set for any $i$, and any $u \in U_i$ 
and any $0 \leq j \leq i$
$$
f_u(j) = F(\epsilon^i_j(u))
$$
This does not in general define a morphism $f$ of simplicial sets
as above. Namely, the condition is that all the maps $f_u$ are
nondecreasing. This clearly is equivalent to the condition
that $F(\epsilon^i_j(u)) \leq F(\epsilon^i_{j'}(u))$
whenever $0 \leq j \leq j' \leq i$ and $u \in U_i$. But in this
case the morphisms
$$
\epsilon^i_j, \epsilon^i_{j'} : [0] \to [i]
$$
both factor through the map
$\epsilon^i_{j, j'} : [1] \to [i]$ defined by the rules
$0 \mapsto j$, $1 \mapsto j'$.
In other words, it is enough to check the inequalities for
$i = 1$ and $u \in X_1$. In other words, we have
$$
\text{Mor}(U, \Delta[n])
=
\text{Mor}(\text{sk}_1 U, \text{sk}_1 \Delta[n])
$$
as desired.
\end{proof}






\section{A homotopy equivalence}
\label{section-homotopy-equivalence}

\noindent
Suppose that $A$, $B$ are sets, and that $f : A \to B$
is a map. Consider the associated map of
simplicial sets
$$
\xymatrix{
\text{cosk}_0(A) \ar@{=}[r] &
\Big(
\ldots
A\times A \times A
\ar[d]
\ar@<2ex>[r]
\ar@<0ex>[r]
\ar@<-2ex>[r]
&
A \times A
\ar[d]
\ar@<1ex>[r]
\ar@<-1ex>[r]
\ar@<1ex>[l]
\ar@<-1ex>[l]
&
A
\ar[d]
\ar@<0ex>[l]
\Big)
\\
\text{cosk}_0(B) \ar@{=}[r] &
\Big(
\ldots
B\times B \times B
\ar@<2ex>[r]
\ar@<0ex>[r]
\ar@<-2ex>[r]
&
B \times B
\ar@<1ex>[r]
\ar@<-1ex>[r]
\ar@<1ex>[l]
\ar@<-1ex>[l]
&
B
\ar@<0ex>[l]
\Big)
}
$$
See Example \ref{example-cosk0}.
The case $n = 0$ of the following lemma
says that this map of simplicial sets
has a section if $f$ is surjective.
The proof: choose a section of $f$.

\begin{lemma}
\label{lemma-section}
Let $f : V \to U$ be a morphism of simplicial sets.
Let $n \geq 0$ be an integer.
Assume
\begin{enumerate}
\item The map $f_i : V_i \to U_i$ is a bijection for $i < n$.
\item The map $f_n : V_n \to U_n$ is a surjection.
\item The canonical morphism $U \to \text{cosk}_n \text{sk}_n U$
is an isomorphism.
\item The canonical morphism $V \to \text{cosk}_n \text{sk}_n V$
is an isomorphism.
\end{enumerate}
Then there exists a morphism of simplicial sets $g : U \to V$
such that $f \circ g = \text{id}_U$.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-splitting-simplicial-sets}
both $U$ and $V$ have canonical splittings with $N(U_i)$
and $N(V_i)$ equal to the sets of nondegenerate simplices.
We have to find maps $g_m : U_m \to V_m$ for $m \geq 0$ such
that
\begin{eqnarray}
d^k_i \circ g_k & = & g_{k - 1} \circ d^k_i \label{cd}\\
s^k_i \circ g_k & = & g_{k + 1} \circ s^k_i \label{cs}
\end{eqnarray}
for all $k$. By induction on $m$ we will show that we can find maps
$g_0, \ldots, g_m$ such that (\ref{cd}) holds for
$1 \leq k \leq m$ and (\ref{cs}) holds for $0 \leq k \leq m - 1$.
We set $g_i$ equal to the inverse of $f_i$ for $i = 0, \ldots, n - 1$.
Clearly the induction hypothesis holds for $m = n - 1$.
We define $g_n : U_n \to V_n$ as follows.
Pick $u \in U_n$, then
\begin{enumerate}
\item if $u$ is degenerate, write  $u = U(\varphi)(u')$
for some nondegenerate $u' \in U_m$ and some
surjective $\varphi : [n] \to [m]$. We set
$g_n(u) = V(\varphi)(g_m(u'))$. This is well defined
as the pair $(\varphi, u')$ is unique.
\item if $u$ is nondegenerate, we choose any $v \in V_n$
mapping to $u$ and we set $g_n(u) = v$.
\end{enumerate}
This choice of $g_n$ garantees that the induction hypothesis
holds for $m = n$. Namely, we forced (\ref{cs}) with $k = n - 1$
by our choice of $g_n$ on degenerate simplices, and (\ref{cd})
with $k = n$ holds because the equality takes place in
$V_{n - 1} = U_{n - 1}$.

\medskip\noindent
One way to finish the proof at this point is to show
that the family of maps $g_0, \ldots, g_n$ defines
a morphism of $n$-truncated simplicial sets
$\text{sk}_n U \to \text{sk}_n V$ which is
a right inverse to $\text{sk}_nf$. Then since
$\text{cosk}_n$ is a functor and by the hypothesis
of the lemma we get $g$ as $\text{cosk}_n(g_0, \ldots, g_n)$.
But we can also see this directly as follows.

\medskip\noindent
Given the induction hypothesis for $m \geq n$
we inductively define $g_{m + 1}$ as follows.
Since $U \to \text{cosk}_n \text{sk}_n U$
is an isomorphism, we see that also
$U \to \text{cosk}_m \text{sk}_m U$ is an
isomorphism. Hence elements of $U_{m + 1}$
are $(m + 2)$-tuples $(u_0, \ldots, u_{m + 1})$ with
$u_i \in U_m$ satisfying the equalities
$d^m_{j - 1}(u_i) = d^m_i(u_j)\ \forall\ 0\leq i < j\leq m + 1$.
Similarly for $V_{m + 1}$.
Thus we may simply map the element
$(u_0, \ldots, u_{m + 1})$ to the element
$(g_m(u_0), \ldots, g_m(u_{m + 1}))$.
To verify the induction hypothesis for $m + 1$ with
this choice of $g_{m + 1}$ we will use the
explicit form of the maps $d_i$ and $s_i$
as given in Remark \ref{remark-explicit-face-degeneracy}.
This remark shows immediately that the commutation of
$g_0, \ldots, g_m$ with $d_i$ and $s_i$ implies the
desired commutation for $g_{m + 1}$.
\end{proof}

\noindent
Let $A, B$ be sets. Let $f^0, f^1 : \text{cosk}_0(A) \to \text{cosk}_0(B)$
be maps of simplicial sets. The following lemma for $n = 0$
says that $f_0$ is homotopic to $f_1$. In fact, the
homotopy is given by the map $h : \text{cosk}_0(A) \times
\Delta[1] \to \text{cosk}_0(A)$ with components
\begin{eqnarray*}
h_m : A \times \ldots \times A \times \text{Mor}_{\Delta}([m], [1])
& \longrightarrow &
A \times \ldots \times A, \\
(a_0, \ldots, a_m, \alpha) & \longmapsto &
(f^{\alpha(0)}(a_0), \ldots, f^{\alpha(m)}(a_m))
\end{eqnarray*}
To check that this works, note that for a map $\varphi : [k] \to [m]$
the induced maps are
$(a_0, \ldots, a_m) \mapsto (a_{\varphi(0)}, \ldots, a_{\varphi(k)})$
and $\alpha \mapsto \alpha \circ \varphi$. Thus $h = (h_m)_{m \geq 0}$
is clearly a map of simplicial sets as desired.

\begin{lemma}
\label{lemma-homotopy}
Let $f^0, f^1 : V \to U$ be maps of a simplicial sets.
Let $n \geq 0$ be an integer.
Assume
\begin{enumerate}
\item The maps $f^j_i : V_i \to V_i$, $j = 0, 1$ are equal for $i < n$.
\item The canonical morphism $U \to \text{cosk}_n \text{sk}_n U$
is an isomorphism.
\item The canonical morphism $V \to \text{cosk}_n \text{sk}_n V$
is an isomorphism.
\end{enumerate}
Then $f^0$ is homotopic to $f^1$.
\end{lemma}

\begin{proof}
The case $n = 0$ was dealt with above the lemma.
Thus we may assume that $n \geq 1$.
The map $\Delta[1] \to \text{cosk}_1 \text{sk}_1 \Delta[1]$
is an isomorphism, see Lemma \ref{lemma-simplex-cosk}.
Thus we see that $\Delta[1] \to \text{cosk}_n \text{sk}_n \Delta[1]$
is an isomorphism, as $n \geq 1$. And hence $V \times \Delta[1] \to
\text{cosk}_n \text{sk}_n (V \times \Delta[1])$
is an isomorphism too, see Lemma \ref{lemma-cosk-product}.
In other words, in order to construct the homotopy
it suffices to construct a suitable
morphism of $n$-truncated simplicial sets
$h : \text{sk}_n V \times \text{sk}_n \Delta[n] \to \text{sk}_n U$.

\medskip\noindent
For $k = 0, \ldots, n - 1$ we define $h_k$ by the
formula $h_k(v, \alpha) = f^0(v) = f^1(v)$.
The map $h_n : V_n \times \text{Mor}_{\Delta}([k], [1]) \to U_n$
is defined as follows. Pick $v \in V_n$ and $\alpha : [n] \to [1]$:
\begin{enumerate}
\item If $\text{Im}(\alpha) = \{0\}$, then we set $h_n(v, \alpha) = f^0(v)$.
\item If $\text{Im}(\alpha) = \{0, 1\}$, then we set $h_n(v, \alpha) = f^0(v)$.
\item If $\text{Im}(\alpha) = \{1\}$, then we set $h_n(v, \alpha) = f^1(v)$.
\end{enumerate}
Let $\varphi : [k] \to [l]$ be a morphism of $\Delta_{\leq n}$.
We will show that the diagram
$$
\xymatrix{
V_{[l]} \times \text{Mor}([l], [1]) \ar[r] \ar[d] &
U_{[l]} \ar[d] \\
V_{[k]} \times \text{Mor}([k], [1]) \ar[r] &
U_{[k]}
}
$$
commutes.
Pick $v \in V_{[l]}$ and $\alpha : [l] \to [1]$.
The commutativity means that
$$
h_k(V(\varphi)(v), \alpha \circ \varphi)
=
U(\varphi)(h_l(v, \alpha)).
$$
In almost every case this holds because
$h_k(V(\varphi)(v), \alpha \circ \varphi) = f^0(V(\varphi)(v))$
and $U(\varphi)(h_l(v, \alpha)) = U(\varphi)(f^0(v))$, combined
with the fact that $f^0$ is a morphism of simplicial sets.
The only cases where this does not hold is when
either $\text{Im}(\alpha) = \{1\}$ and $l = n$
or $\text{Im}(\alpha \circ \varphi) = \{1\}$ and $k = n$.
Observe moreover that necessarily $f^0(v) = f^1(v)$
for any degenerate $n$-simplex of $V$.
Thus we can narrow the cases above down even further
to the cases (A) $\text{Im}(\alpha) = \{1\}$, $l = n$
and $v$ nondegenerate, and (B)
$\text{Im}(\alpha \circ \varphi) = \{1\}$, $k = n$
and $V(\varphi)(v)$ nondegenerate.




This is clear if $l, k < n$. Suppose $k = n$ and $l < n$.






Observe that necessarily $f^0(v) = f^1(v)$
for any degenerate $n$-simplex of $V$. Thus
$h_n(v, \alpha) = f^0(v) = f^1(v)$ whenever $(v, \alpha)$ is a degenerate
$n$-simplex of $V \times \Delta[1]$. This shows that
$h_0, \ldots, h_n$ satisfy (\ref{csa}) for $k = m - 1$.
The correctness of (\ref{cda}) for $k = m$ is clear because
the equality takes place in $V_{n - 1}$.








\medskip\noindent
We will construct a homotopy, i.e., a map of simplicial sets
$h : V \times \Delta[1] \to V$. In other words we will find
a sequence of maps $h_m : V_m \times \text{Mor}_{\Delta}([m], [1])
\to V_m$ with the following properties
\begin{eqnarray}
d^k_i \circ h_k & = & h_{k - 1} \circ d^k_i \label{cda}\\
s^k_i \circ h_k & = & h_{k + 1} \circ s^k_i \label{csa}\\
h_k( v \times (i \mapsto 0)) & = & f^0(v) \nonumber \\
h_k( v \times (i \mapsto 1)) & = & f^1(v) \nonumber
\end{eqnarray}
By induction on $m$ we will show that we can find maps
$h_0, \ldots, h_m$ such that (\ref{cda}) holds for
$1 \leq k \leq m$ and (\ref{csa}) holds for $0 \leq k \leq m - 1$,
and such that the last two properties hold whenever $k \leq m$.
For $k = 0, \ldots, n - 1$ we define $h_k$ by the
formula $h_k(v, \alpha) = f^0(v) = f^1(v)$.
It is clear that the induction hypothesis holds for
$m = n - 1$. The map $h_n : V_n \times \text{Mor}_{\Delta}([k], [1]) \to V_n$
is defined as follows. Pick $v \in V_n$ and $\alpha : [n] \to [1]$:
\begin{enumerate}
\item If $\text{Im}(\alpha) = \{0\}$, then we set $h_n(v, \alpha) = f^0(v)$.
\item If $\text{Im}(\alpha) = \{0, 1\}$, then we set $h_n(v, \alpha) = f^0(v)$.
\item If $\text{Im}(\alpha) = \{1\}$, then we set $h_n(v, \alpha) = f^1(v)$.
\end{enumerate}
Observe that necessarily $f^0(v) = f^1(v)$
for any degenerate $n$-simplex of $V$. Thus
$h_n(v, \alpha) = f^0(v) = f^1(v)$ whenever $(v, \alpha)$ is a degenerate
$n$-simplex of $V \times \Delta[1]$. This shows that
$h_0, \ldots, h_n$ satisfy (\ref{csa}) for $k = m - 1$.
The correctness of (\ref{cda}) for $k = m$ is clear because
the equality takes place in $V_{n - 1}$.

\medskip\noindent



\end{proof}




\begin{lemma}
\label{lemma-equiv}
With assumptions and notation as in Lemma \ref{lemma-section}
above. The composition $g \circ f$ is homotopy equivalent
to the identity on $V$.
\end{lemma}

\begin{proof}


\end{proof}















\section{Covering simplicial objects}
\label{section-making-simplicial}

\noindent
Let $\mathcal{C}$ be a category.
Let $U$ be a simplicial object of $\mathcal{C}$.
Suppose $n\geq 0$, and suppose $\pi : V \to U_n$ is
a representable morphism of $\mathcal{C}$. This
means that the fibre products $V \times_{U_n} W$
exist for all morphisms $W \to U_n$.

\medskip\noindent
For any $k \geq 0$ consider the fibre product over $U_k$
$$
U'_k = \prod\nolimits_{\varphi \in \text{Mor}_\Delta([n],[k])}
V\times_{U_n, U(\varphi)} U_k.
$$
By our assumption on the morphism $V \to U_n$ this fibre product
exists. For any $T \in \text{Ob}(\mathcal{C})$ the set of morphism
$T \to U'_k$ is given by the following formula
$$ 
\{
(f : T \to U_k, (f_\varphi : T \to V)_{\varphi \in \text{Mor}_\Delta([n],[k])})
\mid
\pi \circ f_{\varphi} = U(\varphi) \circ f\ \forall \varphi
\}
$$
For any $\psi : [l] \to [k]$ there is a canonical morphism
$U'_k \to U'_l$ coming from the map $\text{Mor}_\Delta([n],[l])
\to \text{Mor}_\Delta([n],[k]), \varphi \mapsto \varphi \circ \psi$,
the identity map on $V$ and the morphism
$U(\psi) : U_k \to U_l$. In terms of the $T$-valued points
it maps $(f, (f_\varphi)_\varphi)$ to the collection
$(U(\psi) \circ f, (f_{\varphi \circ \psi})_{\varphi})$.

\medskip\noindent
Clearly, this gives rise to a simplicial object $U'$ of
$\mathcal{C}$. The natural morphisms $U'_m \to U_m$ give rise to a
morphism of simplicial objects $U' \to U$. Note that
the morphism $U'_n \to U_n$ factors throught the morphism $V \to U_n$
by projection onto the factor corresponding to $\varphi=\text{id}_{[n]}$.

\begin{lemma}
\label{lemma-construct-new-covers}
Suppose that $U$ and $V\to U_n$ are as above.
The morphism of simplicial objects 
$U' \to U$ constructed above has the following 
properties:
(1) The morphism $U'_n \to U_n$ factors trough $V \to U_n$.
(2) For any $m$ the morphism $U'_m \to U_m$
is a fibre product over $U_m$ of base changes
of the morphism $V \to U_n$.
\end{lemma}





\section{Hypercoverings}

\noindent
Assume that $\mathcal{C}$ is a site with the property
that the set of coverings consisting of $1$ morphism is cofinal.
Let $\mathcal{F}$ be a sheaf of abelian groups on
the site $\mathcal{C}$ which is assumed to have the property
that the set of coverings consisting of $1$ morphism is cofinal.
Choose an injective resolution $\mathcal{F} \to \mathcal{J}^\bullet$
(for example a canonical one, see 
Injectives, Section \ref{injectives-section-injectives-sheaves}).
Let $X$ be an object of $\mathcal{C}$. We want to compute 
$R\Gamma(X, \mathcal{F}) = \Gamma(X, \mathcal{J}^\bullet)$
or at least the cohomology groups $H^j(X, \mathcal{F})$.
The idea is to construct simplicial objects $U_\bullet$ 
augmented towards $X$, so $U_\bullet \to X$, such that 
$$
R\Gamma(X, \mathcal{F}) 
= \text{Tot}(R\Gamma(U_\bullet, \mathcal{J}^\bullet))
\leqno{(*)}
$$
is a quasi-isomorphism (for any $\mathcal{F}$). On the right hand 
side this is the total complex associated to the double complex. 
(The maps are always canonical since we have the resolution over 
all of $\mathcal{C}$.)
The complex $\Gamma(U_\bullet, \mathcal{F})$ maps into the
complex on the right. We will show that for any
element $\eta \in H^j(X, \mathcal{F})$ there exists a choice
of $U_\bullet \to X$ such that $\eta$ comes from an element
in $H^j(U_\bullet, \mathcal{F})$. This is a first step and
it already allows us to define cup products for example.
The starting point is the following.

\begin{lemma}
\label{lemma-product-hypercovering}
Suppose that $\{Y \to X\}$ is a covering in the topology of
$\mathcal{C}$. Let $U_n = Y^n_{/X}$ be the simplicial
object defined in Example \ref{example-fibre-products-simplicial-object}.
The augmentation $U_\bullet \to X$ has the property
that $(*)$ is a quasi-isomorphism for all $\mathcal{F}$.
\end{lemma}

\begin{proof}
FIXME.
\end{proof}


\section{Doubly simplicial stuff}
\label{section-doubly-simplicial}

\noindent
A doubly simplicial object of $\mathcal{C}$ is a functor
$U_{\bullet,\bullet} : (\Delta\times\Delta)^\circ \to \mathcal{C}$.
By subdividing we can make this into a simplicial object 
$W(U_{\bullet,\bullet})$ with the same cohomology. FIXME: Explain this.

\noindent
Suppose that $U'_\bullet \to U_\bullet$ is a morphism of simplicial
objects of $\mathcal{C}$ such that each of the morphisms $U'_n \to
U_n$ is representable. Then we can construct a doubly-simplicial
object $U'_{\bullet,\bullet}$ by setting $U'_{n,0}= U'_n$,
$$
U'_{n,1} = U'_n \times_{U_n} U'_n,
$$
etc. Compare Example \ref{example-fibre-products-simplicial-object}. 
Out of this object we can construct a single simplicial object
$W(U'_{\bullet,\bullet})$ as explained above. Construct the 
natural morphism of simplicial objects 
$W(U'_{\bullet,\bullet}) \to U_\bullet$.

\begin{lemma}
Suppose that every $\{U'_n \to U_n\}$ is a covering for the topology
of $\mathcal{C}$. Suppose that $\mathcal{F}$ is a sheaf on 
$\mathcal{C}$. Then there is a natural
morphism of complexes
$$
R\Gamma(U_\bullet, \mathcal{F}) \to 
R\Gamma(W(U_{\bullet,\bullet}), \mathcal{F})
$$
which is a quasi-isomorphism. FIXME: Something like this in any case.
\end{lemma}

\section{The general case}

\noindent
Mention how things work more generally, for example if $\mathcal{C}$
does not have the property that coverings consisting of a single map
are cofinal. State the theorem in the correct generality.

\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
