\input{preamble}

% OK, start here.
%
\begin{document}

\title{Hypercoverings}

%\begin{abstract}
%\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Let $\mathcal{C}$ be a site, see Sites, Definition \ref{sites-definition-site}.
Let $X$ be an object of $\mathcal{C}$.
Given an abelian sheaf $\mathcal{F}$
on $\mathcal{C}$ we would like to compute
its cohomology groups
$$
H^i(X, \mathcal{F}).
$$
According to our general definitions
(insert future reference here)
this cohomology group is computed by
choosing an injective resolution
$$
0 \to \mathcal{F} \to \mathcal{I}^0 \to \mathcal{I}^1 \to \ldots
$$
and setting
$$
H^i(X, \mathcal{F})
=
H^i(
\Gamma(X, \mathcal{I}^0) \to
\Gamma(X, \mathcal{I}^1) \to
\Gamma(X, \mathcal{I}^2)\to \ldots)
$$
We will have to do quite a bit of work to prove that we
may also compute these cohomology groups without
choosing an injective resolution. Also, we will only do this
in case the site $\mathcal{C}$ has fibre products.

\medskip\noindent
A hypercovering in a site is a generalization of a covering.
See \cite[Expose V, Sec. 7]{SGA4}. A hypercovering is a special
case of a simplicial augmentation where one has cohomological
descent, see \cite[Expose Vbis]{SGA4}. A nice manuscript on
cohomological descent is the text by Brian Conrad, see
\url{http://math.stanford.edu/~conrad/papers/hypercover.pdf}.
Brian's text follows the exposition in \cite[Expose Vbis]{SGA4}, and in
particular discusses a more general kind of hypercoverings, such as
proper hypercoverings of schemes used to compute etale cohomology
for example. A proper hypercovering can be seen as a hypercovering
in the category of schemes endowed with a different topology than
the etale topology, but still they can be used to compute the etale
cohomology.





























\section{Hypercoverings}
\label{section-hypercoverings}

\noindent
In order to start we make the following definition.
The letters ``SR'' stand for Semi-Representable.

\begin{definition}
\label{definition-SR}
Let $\mathcal{C}$ be a site with fibre products.
Let $X \in \text{Ob}(\mathcal{C})$ be an object of $\mathcal{C}$.
We denote $\text{SR}(\mathcal{C}, X)$ the category with
\begin{enumerate}
\item objects are families of morphisms
$\{U_i \to X\}_{i \in I}$, and
\item morphisms $\{U_i \to X\}_{i \in I} \to
\{V_j \to X\}_{j \in J}$ are given by
a map $\alpha : I \to J$ and for each $i \in I$
a morphism $f_i : U_i \to V_{\alpha(i)}$ over $X$.
\end{enumerate}
\end{definition}

\noindent
This definition is different from the one in
\cite[Expose V, Sec. 7]{SGA4}, but it seems flexible
enough to do all the required arguments.
Note that this is a ``big'' category. We will later
``bound'' the size of the index sets $I$ that we need
and we can then redefine $\text{SR}(\mathcal{C}, X)$ 
to become a category.

\begin{definition}
\label{definition-SR-F}
Let $\mathcal{C}$ be a site with fibre products.
Let $X \in \text{Ob}(\mathcal{C})$ be an object of $\mathcal{C}$.
We denote $F$ the functor
\begin{eqnarray*}
F : \text{SR}(\mathcal{C}, X) & \longrightarrow & \text{PSh}(\mathcal{C}) \\
\{U_i \to X\}_{i \in I} & \longmapsto & \amalg_{i\in I} h_{U_i}
\end{eqnarray*}
where $h_U$ denotes the representable presheaf associated to
the object $U$.
\end{definition}

\noindent
Given a morphism $U \to X$ we obtain a morphism
$h_U \to h_X$ of representable presheaves.
Thus it makes more sense to think of $F$ as a functor
into the category of presheaves of sets over $h_X$,
namely $\textit{PSh}(\mathcal{C})/h_X$.

\begin{lemma}
\label{lemma-coprod-prod-SR}
Let $\mathcal{C}$ be a site with fibre products.
Let $X \in \text{Ob}(\mathcal{C})$ be an object of $\mathcal{C}$.
The category $\text{SR}(\mathcal{C}, X)$ has
coproducts and finite limits. Moreover, the functor $F$ commutes
with coproducts and fibre products, and transforms products
into fibre products over $h_X$. In other words, it commutes
with finite limits as a functor into $\textit{PSh}(\mathcal{C})/h_X$.
\end{lemma}

\begin{proof}
It is clear that the coproduct of
$\{U_i \to X\}_{i \in I}$ and $\{V_j \to X\}_{j \in J}$
is $\{U_i \to X\}_{i \in I} \amalg \{V_j \to X\}_{j \in J}$
and similarly for coproducts of
families of families of morphisms with target $X$.
The object $\{X \to X\}$ is a final
object of $\text{SR}(\mathcal{C}, X)$.
Suppose given a morphism
$(\alpha, f_i) : \{U_i \to X\}_{i \in I} \to \{V_j \to X\}_{j \in J}$
and a morphism
$(\beta, g_k) : \{W_k \to X\}_{k \in K} \to \{V_j \to X\}_{j \in J}$.
The fibred product of these morphisms is given by
$$
\{ U_i \times_{f_i, V_j, g_k} W_k \to X \}_{(i,j,k) \in I\times J\times K
\text{ such that } k = \alpha(i) = \beta(j)}
$$
The fibre products exist by the assumption that
$\mathcal{C}$ has fibre products.
Thus $\text{SR}(\mathcal{C}, X)$ has finite limits,
see Categories, Lemma \ref{categories-lemma-finite-limits-exist}.
The statements on the functor $F$ are clear from the constructions
above.
\end{proof}

\begin{definition}
\label{definition-covering-SR}
Let $\mathcal{C}$ be a site with fibred products.
Let $X$ be an object of $\mathcal{C}$.
Let $f = (\alpha, f_i) : \{U_i \to X\}_{i \in I} \to \{V_j \to X\}_{j \in J}$
be a morphism in the category $\text{SR}(\mathcal{C}, X)$.
We say that {\it $f$ is a covering} if for every $j \in J$ the
family of morphisms $\{U_i \to V_j\}_{i \in I, \alpha(i) = j}$
is a covering for the site $\mathcal{C}$.
\end{definition}

\begin{lemma}
\label{lemma-covering-permanence}
Let $\mathcal{C}$ be a site with fibred products.
Let $X \in \text{Ob}(\mathcal{C})$.
\begin{enumerate}
\item A composition of coverings in $\text{SR}(\mathcal{C}, X)$
is a covering.
\item A base change of coverings is a covering.
\end{enumerate}
\end{lemma}

\begin{proof}
Immediate from the axioms of a site.
\end{proof}

\noindent
According to the results in the chapter on simplicial methods the
coskelet of a truncated simplicial object of
$\text{SR}(\mathcal{C}, X)$ exists. Hence the following
definition makes sense.

\begin{definition}
\label{definition-hypercovering}
Let $\mathcal{C}$ be a site.
Let $X \in \text{Ob}(\mathcal{C})$ be an object of $\mathcal{C}$.
A {\it hypercovering} of $X$ is a simplicial object
$K$ in the category $\text{SR}(\mathcal{C}, X)$ such that
\begin{enumerate}
\item The object $K_0$ is a covering of $X$ for the site $\mathcal{C}$.
\item For every $n \geq 0$ the canonical morphism
$$
K_{n + 1} \longrightarrow (\text{cosk}_n \text{sk}_n K)_{n + 1}
$$
is a covering in the sense defined above.
\end{enumerate}
\end{definition}

\noindent
Condition (1) makes sense since each object of
$\text{SR}(\mathcal{C}, X)$ is after all a family
of morphisms with target $X$. It could also be
formulated as saying that the morphism of $K_0$ to
the final object of $\text{SR}(\mathcal{C}, X)$
is a covering.

\begin{example}
\label{example-cech}
Let $\{U_i \to X\}_{i \in I}$ be a covering of the site $\mathcal{C}$.
Set $K_0 = \{U_i \to X\}_{i \in I}$.
Then $K_0$ is a $0$-truncated simplicial object of
$\text{SR}(\mathcal{C}, X)$. Hence we may form
$$
K = \text{cosk}_0 K_0.
$$
Clearly $K$ passes condition (1) of Definition \ref{definition-hypercovering}.
Since all the morphisms $K_{n + 1} \to (\text{cosk}_n \text{sk}_n K)_{n + 1}$
are isomorphisms it also passes condition (2). Note that
the terms $K_n$ are the usual
$$
K_n = \{
U_{i_0} \times_X U_{i_1} \times_X \ldots \times_X U_{i_n} \to X
\}_{(i_0, i_1, \ldots, i_n) \in I^{n + 1}}
$$
\end{example}

\begin{lemma}
\label{lemma-hypercoverings-set}
Let $\mathcal{C}$ be a site with fibre products.
Let $X \in \text{Ob}(\mathcal{C})$ be an object of $\mathcal{C}$.
The collection of all hypercoverings of $X$ forms a set.
\end{lemma}

\begin{proof}
Since $\mathcal{C}$ is a site, the set of all coverings of
$S$ forms a set. Thus we see that the collection
of possible $K_0$ forms a set. Suppose we have shown that
the collection of all possible $K_0, \ldots, K_n$ form
a set. Then it is enough to show that given
$K_0, \ldots, K_n$ the collection of all possible
$K_{n + 1}$ forms a set. And this is clearly true since
we have to choose $K_{n + 1}$ among all possible coverings
of $(\text{cosk}_n \text{sk}_n K)_{n + 1}$.
\end{proof}

\begin{remark}
\label{remark-hypercoverings-really-set}
The lemma does not just say that there is a cofinal
system of choices of hypercoverings that is a set,
but that really the hypercoverings form a set.
\end{remark}

\noindent
The category of presheaves on $\mathcal{C}$ has
finite (co)limits. Hence the functors $\text{cosk}_n$
exists for presheaves of sets.

\begin{lemma}
\label{lemma-hypercovering-F}
Let $\mathcal{C}$ be a site with fibre products.
Let $X \in \text{Ob}(\mathcal{C})$ be an object of $\mathcal{C}$.
Let $K$ be a hypercovering of $X$.
Consider the simplicial object $F(K)$ of $\textit{PSh}(\mathcal{C})$,
endowed with its augmentation to the constant simplicial presheaf $h_X$.
\begin{enumerate}
\item The morphism of presheaves $F(K)_0 \to h_X$ becomes
a surjection after sheafification.
\item The morphism
$$
(d^1_0, d^1_1) :
F(K)_1
\longrightarrow
F(K)_0 \times_{h_X} F(K)_0
$$
becomes a surjection after sheafification.
\item For every $n \geq 1$ the morphism
$$
F(K)_{n + 1} \longrightarrow (\text{cosk}_n \text{sk}_n F(K))_{n + 1}
$$
turns into a surjection after sheafification.
\end{enumerate}
\end{lemma}

\begin{proof}
We will use the fact that if
$\{U_i \to U\}_{i \in I}$ is a covering of the site
$\mathcal{C}$, then the morphism
$$
\amalg_{i \in I} h_{U_i} \to h_U
$$
becomes surjective after sheafification, see
Sites, Lemma \ref{sites-lemma-covering-surjective-after-sheafification}.
Thus the first assertion follows immediately.

\medskip\noindent
For the second assertion, note that according to
Simplicial, Example \ref{simplicial-example-cosk0}
the simplicial object $\text{cosk}_0 \text{sk}_0 K$
has terms $K_0 \times \ldots \times K_0$. Thus
according to the definition of a hypercovering we
see that $(d^1_0, d^1_1) : K_1 \to K_0 \times K_0$ is a
covering. Hence (2) follows from the claim above
and the fact that $F$ transforms products into fibred
products over $h_X$.

\medskip\noindent
For the third, we claim that
$\text{cosk}_n \text{sk}_n F(K) =
F(\text{cosk}_n \text{sk}_n K)$ for $n \geq 1$.
To prove this, denote temporarily $F'$ the functor
$\text{SR}(\mathcal{C}, X) \to \text{PSh}(\mathcal{C})/h_X$.
By Lemma \ref{lemma-coprod-prod-SR} the functor
$F'$ commutes with finite limits.
By our description of the $\text{cosk}_n$ functor in 
Simplicial, Section \ref{simplicial-section-skelet}
we see that $\text{cosk}_n \text{sk}_n F'(K) =
F'(\text{cosk}_n \text{sk}_n K)$.
Recall that the category used in the description of
$(\text{cosk}_n U)_m$ in
Simplicial, Lemma \ref{simplicial-lemma-existence-cosk}
is the category $(\Delta/[m])^{opp}_{\leq n}$. It is an
amusing exercise to show that $(\Delta/[m])_{\leq n}$ is
a connected category (see
Categories, \ref{categories-definition-category-connected})
as soon as $n \geq 1$. Hence,
Categories, Lemma \ref{categories-lemma-connected-limit-over-X}
shows that $\text{cosk}_n \text{sk}_n F'(K) =
\text{cosk}_n \text{sk}_n F(K)$. Whence the claim.
Property (2) follows from this, because now we see that
the morphism in (2) is the result of applying the
functor $F$ to a covering as in Definition \ref{definition-covering-SR},
and the result follows from the first fact mentioned
in this proof.
\end{proof}



\section{Acyclicity}
\label{section-acyclicity}

\noindent
Let $\mathcal{C}$ be a site.
For a presheaf of sets $\mathcal{F}$ we denote $\mathbf{Z}_\mathcal{F}$
the presheaf of abelian groups defined by the rule
$$
\mathbf{Z}_\mathcal{F}(U) = \text{free abelian group on }\mathcal{F}(U).
$$
We will sometimes call this the {\it free abelian presheaf on $\mathcal{F}$}.
Of course the construction $\mathcal{F} \mapsto \mathbf{Z}_\mathcal{F}$
is a functor and it is left adjoint to the forgetful functor
$\textit{PAb}(\mathcal{C}) \to \textit{PSh}(\mathcal{C})$.
Of course the sheafification $\mathbf{Z}_\mathcal{F}^\#$ is
a sheaf of abelian groups, and the functor
$\mathcal{F} \mapsto \mathbf{Z}_\mathcal{F}^\#$ is a
left adjoint as well. We sometimes call $\mathbf{Z}_\mathcal{F}^\#$
the {\it free abelian sheaf on $\mathcal{F}$}.

\medskip\noindent
For an object $X$ of the site $\mathcal{C}$ we denote
$\mathbf{Z}_X$ the free abelian presheaf on $h_X$, and
we denote $\mathbf{Z}_X^\#$ its sheafification.

\begin{definition}
\label{definition-homology}
Let $\mathcal{C}$ be a site.
Let $K$ be a simplicial object of $\text{PSh}(\mathcal{C})$.
By the above we get a simplicial object $\mathbf{Z}_K^\#$ of
$\textit{Ab}(\mathcal{C})$. We can take its associated
complex of abelian presheaves $s(\mathbf{Z}_K^\#)$, see
Simplicial, Section \ref{simplicial-section-complexes}.
The {\it homology of $K$} is the homology of the
complex of abelian sheaves $s(\mathbf{Z}_K^\#)$.
\end{definition}

\noindent
In other words, the {\it $i$th homology $H_i(K)$ of $K$}
is the sheaf of abelian groups $H_i(K) = H_i(s(\mathbf{Z}_K^\#))$.
In this section we worry about the homology in case $K$
is a hypercovering of an object $X$ of $\mathcal{C}$.

\begin{lemma}
\label{lemma-compare-cosk0}
Let $\mathcal{C}$ be a site.
Let $\mathcal{F} \to \mathcal{G}$ be a morphism
of presheaves of sets. Denote $K$ the simplicial
object of $\text{PSh}(\mathcal{C})$ whose $n$th
term is the $(n + 1)$st fibre product of $\mathcal{F}$
over $\mathcal{G}$, see
Simplicial, \ref{simplicial-example-fibre-products-simplicial-object}.
Then, if $\mathcal{F} \to \mathcal{G}$ is surjective after
sheafification, we have
$$
H_i(K) = 
\left\{
\begin{matrix}
0 & \text{if} & i > 0\\
\mathbf{Z}_\mathcal{G}^\# & \text{if} & i = 0
\end{matrix}
\right.
$$
The isomorphism in degree $0$ is given by the
morphsm $H_0(K) \to \mathbf{Z}_\mathcal{G}^\#$
coming from the map $(\mathbf{Z}_K^\#)_0 = 
\mathbf{Z}_\mathcal{F}^\# \to \mathbf{Z}_\mathcal{G}^\#$.
\end{lemma}

\begin{proof}
Let $\mathcal{G}' \subset \mathcal{G}$ be the image of
the morphism $\mathcal{F} \to \mathcal{G}$.
Let $U \in \text{Ob}(\mathcal{C})$. Set
$A = \mathcal{F}(U)$ and $B = \mathcal{G}'(U)$.
Then the simplicial set $K(U)$ is equal to the simplicial
set with $n$-simplices given by
$$
A \times_B A \times_B \ldots \times_B A\ (n + 1 \text{ factors)}.
$$
By Simplicial, Lemma \ref{simplicial-lemma-cosk-minus-one-equivalence}
the morphism $K(U) \to B$ is a homotopy equivalence. Hence
applying the functor ``free abelian group on'' to this
we deduce that
$$
\mathbf{Z}_K(U) \longrightarrow \mathbf{Z}_B
$$
is a homotopy equivalence. Note that $s(\mathbf{Z}_B)$ is
the complex
$$
\ldots \to
\bigoplus\nolimits_{b \in B}\mathbf{Z} \xrightarrow{0}
\bigoplus\nolimits_{b \in B}\mathbf{Z} \xrightarrow{1}
\bigoplus\nolimits_{b \in B}\mathbf{Z} \xrightarrow{0}
\bigoplus\nolimits_{b \in B}\mathbf{Z} \to 0
$$
see Simplicial, Lemma \ref{simplicial-lemma-homology-eilenberg-maclane}.
Thus we see that
$H_i(s(\mathbf{Z}_K(U))) = 0$ for $i > 0$, and
$H_0(s(\mathbf{Z}_K(U))) = \bigoplus_{b \in B}\mathbf{Z}
= \bigoplus_{s \in \mathcal{G}'(U)} \mathbf{Z}$.
These identifications are compatible with restriction
maps.

\medskip\noindent
We conclude that $H_i(s(\mathbf{Z}_K)) = 0$ for $i > 0$ and
$H_0(s(\mathbf{Z}_K)) = \mathbf{Z}_{\mathcal{G}'}$, where here
we compute homology groups in $\textit{PAb}(\mathcal{C})$. Since
sheafification is an exact functor we deduce the result
of the lemma. Namely, the exactness implies
that $H_0(s(\mathbf{Z}_K))^\# = H_0(s(\mathbf{Z}_K^\#))$,
and similarly for other indices.
\end{proof}

\begin{lemma}
\label{lemma-acyclicity}
Let $\mathcal{C}$ be a site.
Let $f : L \to K$ be a morphism of
simplicial objects of $\textit{PSh}(\mathcal{C})$.
Let $n \geq 0$ be an integer.
Assume that
\begin{enumerate}
\item For $i < n$ the morphism $L_i \to K_i$ is an isomorphism.
\item The morphism $L_n \to K_n$ is surjective after sheafification.
\item The canonical map $L \to \text{cosk}_n \text{sk}_n L$ is an isomorphism.
\item The canonical map $K \to \text{cosk}_n \text{sk}_n K$ is an isomorphism.
\end{enumerate}
Then $H_i(f) : H_i(L) \to H_i(K)$ is an isomorphism.
\end{lemma}

\begin{proof}
This proof is exactly the same as the proof of
Lemma \ref{lemma-compare-cosk0} above. Namely,
we first let $K_n' \subset K_n$ be the sub presheaf
which is the image of the map $L_n \to K_n$. Assumption
(2) means that the sheafification of $K_n'$ is equal to
the sheafification of $K_n$. Moreover, since $L_i = K_i$
for all $i < n$ we see that get an $n$-truncated
simplicial presheaf $U$ by taking
$U_0 = L_0 = K_0, \ldots, U_{n - 1} = L_{n - 1} = K_{n - 1}, U_n = K'_n$.
Denote $K' = \text{cosk}_n U$, a simplicial presheaf.
Because we can construct $K'_m$ as a finite limit, and
since sheafification is exact, we see that
$(K'_m)^\# = K_m$. In other words, $(K')^\# = K^\#$.
We conclude, by exactness of sheafification once more,
that $H_i(K) = H_i(K')$. Thus it suffices to prove the lemma
for the morphism $L \to K'$, in other words, we may
assume that $L_n \to K_n$ is a surjective morphism
of {\it presheaves}!

\medskip\noindent
In this case, for any object $U$ of $\mathcal{C}$ we
see that the morphism of simplicial sets
$$
L(U) \longrightarrow K(U)
$$
satisfies all the assumptions of
Simplicial, Lemma \ref{simplicial-lemma-equiv}.
Hence it is a homotopy equivalence, and
thus 
$$
\mathbf{Z}_L(U) \longrightarrow \mathbf{Z}_K(U)
$$
is a homotopy equivalence too. This for all $U$.
The result follows.
\end{proof}

\begin{lemma}
\label{lemma-acyclic-hypercover-sheaves}
Let $\mathcal{C}$ be a site.
Let $K$ be a simplicial presheaf.
Let $\mathcal{G}$ be a presheaf. 
Let $K \to \mathcal{G}$ be an augmentation of $K$
towards $\mathcal{G}$. Assume that
\begin{enumerate}
\item The morphism of presheaves $K_0 \to \mathcal{G}$ becomes
a surjection after sheafification.
\item The morphism
$$
(d^1_0, d^1_1) :
K_1
\longrightarrow
K_0 \times_{\mathcal{G}} K_0
$$
becomes a surjection after sheafification.
\item For every $n \geq 1$ the morphism
$$
K_{n + 1} \longrightarrow (\text{cosk}_n \text{sk}_n K)_{n + 1}
$$
turns into a surjection after sheafification.
\end{enumerate}
Then $H_i(K) = 0$ for $i > 0$ and
$H_0(K) = \mathbf{Z}_\mathcal{G}^\#$.
\end{lemma}

\begin{proof}
Denote $K^n = \text{cosk}_n \text{sk}_n K$ for $n \geq 1$.
Define $K^0$ as the simplicial object with terms
$(K^0)_n$ equal to the $(n + 1)$-fold fibred product
$K_0 \times_{\mathcal{G}} \ldots \times_{\mathcal{G}} K_0$,
see Simplicial,
Example \ref{simplicial-example-fibre-products-simplicial-object}.
We have morphisms
$$
K \longrightarrow \ldots \to K^n \to K^{n - 1} \to \ldots \to K^1 \to K^0.
$$
The morphisms $K \to K^i$, $K^j \to K^i$ for $j \geq i \geq 1$ come
from the universal properties of the $\text{cosk}_n$ functors.
The morphism $K^1 \to K^0$ is the canonical morphism
from Simplicial, Example \ref{simplicial-remark-augmentation}.
We also recall that $K^0 \to \text{cosk}_1 \text{sk}_1 K^0$
is an isomorphism, see Simplicial, Lemma \ref{simplicial-lemma-cosk-minus-one}.

\medskip\noindent
By Lemma \ref{lemma-compare-cosk0} we see that
$H_i(K^0) = 0$ for $i > 0$ and $H_0(K^0) = \mathbf{Z}_\mathcal{G}^\#$.

\medskip\noindent
Pick $n \geq 1$. Consider the morphism $K^n \to K^{n - 1}$.
It is an isomorphism on terms of degree $< n$.
Note that $K^n \to \text{cosk}_n \text{sk}_n K^n$ and
$K^{n - 1} \to \text{cosk}_n \text{sk}_n K^{n - 1}$
are isomorphisms. Note that $(K^n)_n = K_n$ and
that $(K^{n - 1})_n = (\text{cosk}_{n - 1} \text{sk}_{n - 1} K)_n$.
Hence by assumption, we have that $(K^n)_n \to (K^{n - 1})_n$
is a morphism of presheaves which becomes surjective after
sheafification. By Lemma \ref{lemma-acyclicity} we conclude that
$H_i(K^n) = H_i(K^{n - 1})$.
Combined with the above this proves the lemma.
\end{proof}

\begin{lemma}
\label{lemma-hypercovering-acyclic}
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of of $\mathcal{C}$.
Let $K$ be a hypercovering of $X$.
The homology of the simplicial presheaf $F(K)$ is
$0$ in degrees $> 0$ and equal to $\mathbf{Z}_X^\#$
in degree $0$.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-acyclic-hypercover-sheaves}
and \ref{lemma-hypercovering-F}.
\end{proof}







\section{Covering hypercoverings}
\label{section-covering}




\begin{lemma}
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of $\mathcal{C}$.
Let $K, L, M$ be hypercoverings of $X$.
Let $a : K \to L$, $b : M \to L$ be morphisms.
Assume that for all $n \geq 0$ in the diagram
$$
\xymatrix{
M_{n + 1} \ar[dd] \ar[rr] \ar[rd]^\gamma &
&
(\text{cosk}_n \text{sk}_n M)_{n + 1} \ar[dd] \\
& 
L_{n + 1}
\times_{(\text{cosk}_n \text{sk}_n L)_{n + 1}}
(\text{cosk}_n \text{sk}_n M)_{n + 1}
\ar[ld] \ar[ru]
& \\
L_{n + 1} \ar[rr] & & (\text{cosk}_n \text{sk}_n L)_{n + 1}
}
$$
the arrow $\gamma$ is a covering. Then the fibre
product $K \times_L M$
is a hypercovering of $X$.
\end{lemma}

\begin{proof}
As $(K \times_L M)_0 = K_0 \times_{L_0} M_0$ we see
that it is a covering of the final object $\{X \to X\}$
of $\text{SR}(\mathcal{C}, X)$, see Lemma \ref{lemma-covering-permanence}.

\medskip\noindent
We have to check that
$$
(K \times_L M)_{n + 1}
\longrightarrow
(\text{cosk}_n \text{sk}_n (K\times_L M))_{n + 1}
$$
is a covering. We abbreviate as follows:
$A = (\text{cosk}_n \text{sk}_n K)_{n + 1}$,
$B = (\text{cosk}_n \text{sk}_n L)_{n + 1}$, and
$C = (\text{cosk}_n \text{sk}_n M)_{n + 1}$. 
Since $\text{cosk}_n \text{sk}_n$ commutes with fibre products,
see Simplicial, Lemma \ref{simplicial-lemma-cosk-fibre-product}
we have that the right hand side above is equal to
$A \times_B C$. We get the following
huge diagram
$$
\xymatrix{
K_{n + 1} \times_{L_{n + 1}} M_{n + 1} \ar[r] \ar[d] &
M_{n + 1} \ar[d] \ar[rd]_\gamma \ar[rrd] &
& \\
K_{n + 1} \ar[r] \ar[rd] &
L_{n + 1} \ar[rrd] &
L_{n + 1} \times_B C \ar[l] \ar[r] &
C \ar[d] \\
&
A \ar[rr] &
&
B
}
$$
This diagram shows that
$$
K_{n + 1} \times_{L_{n + 1}} M_{n + 1}
=
(K_{n + 1} \times_B C)
\times_{(L_{n + 1} \times_B C), \gamma} 
M_{n + 1}
$$
Now, $K_{n + 1} \times_B C \to A\times_B C$
is a base change of the covering $K_{n + 1} \to A$
via the morphism $A \times_B C \to A$, hence is a
covering. Then the morphism $\gamma$ is a covering
and hence the morphism
$$
(K_{n + 1} \times_B C)
\times_{(L_{n + 1} \times_B C), \gamma} 
M_{n + 1}
\longrightarrow
K_{n + 1} \times_B C
$$
is a covering (as a base change of a covering).
The lemma follows as a composition of coverings
is a covering.
\end{proof}






\begin{lemma}
\label{lemma-covering}
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of $\mathcal{C}$.
Let $K$ be a hypercovering of $X$.
Let $n \geq 0$ be an integer.
Let $u : \mathcal{F} \to F(K_n)$ be a morphism
of presheaves which becomes surjective
on sheafification.
Then there exists a morphism of hypercoverings
$f: L \to K$ such that $F(f_n) : F(L_n) \to F(K_n)$
factors through $u$.
\end{lemma}


\section{Adding simplices}
\label{section-adding-simplices}

\noindent
In this section we prove some technical lemmas which we will need later.
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of $\mathcal{C}$.
Since the category $\text{SR}(\mathcal{C}, X)$ has coproducts and
finite limits, it is permissible to speak about the objects
$U \times K$ and $\text{Hom}(U, K)$ for certain simplicial sets $U$ 
and any simplicial object $K$ of $\text{SR}(\mathcal{C}, X)$.
See Simplicial, Sections
\ref{simplicial-section-product-with-simplicial-sets} and
\ref{simplicial-section-hom-from-simplicial-sets}.


\begin{lemma}
\label{lemma-one-more-simplex}
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of $\mathcal{C}$.
Let $K$ be a hypercovering of $X$.
Let $U \subset V$ be simplicial sets, with $U_n, V_n$
finite nonempty for all $n$.
Assume that $U$ has finitely many nondegenerate simplices.
Suppose $n \geq 0$ and $x \in V_n$,
$x \not \in U_n$ are such that
\begin{enumerate}
\item $V_i = U_i$ for $i < n$,
\item $V_n = U_n \cup \{x\}$,
\item any $z \in V_j$, $z \not \in U_j$ for $j > n$
is degenerate.
\end{enumerate}
Then the morphism 
$$
\text{Hom}(V, K)_0
\longrightarrow
\text{Hom}(U, K)_0
$$
of $\text{SR}(\mathcal{C}, X)$ is a covering.
\end{lemma}

\begin{proof}
If $n = 0$, then it follows easily that $V = U \amalg \Delta[0]$
(see below). In this case $\text{Hom}(V, K)_0 = 
\text{Hom}(U, K)_0 \times K_0$. The result, in this case, then follows
from Lemma \ref{lemma-covering-permanence}.

\medskip\noindent
Let $a : \Delta[n] \to V$ be the morphism associated to $x$
as in Simplicial, Lemma \ref{simplicial-lemma-simplex-map}.
Let us write $\partial \Delta[n] = i_{(n-1)!} \text{sk}_{n - 1} \Delta[n]$
for the $(n - 1)$-skeleton of $\Delta[n]$.
Let $b : \partial \Delta[n] \to U$ be the restriction
of $a$ to the $(n - 1)$ skeleton of $\Delta[n]$.
By Lemma \ref{simplicial-lemma-glue-simlex}
we have $V = U \amalg_{\partial \Delta[n]} \Delta[n]$.
By Simplicial, Lemma \ref{simplicial-lemma-hom-from-coprod} we get
that
$$
\xymatrix{
\text{Hom}(V, K)_0 \ar[r] \ar[d] &
\text{Hom}(U, K)_0 \ar[d] \\
\text{Hom}(\Delta[n], K)_0 \ar[r] &
\text{Hom}(\partial \Delta[n], K)_0
}
$$
is a fibre product square. Thus it suffices to show that
the bottom horizontal arrow is a covering. By 
Simplicial, Lemma \ref{simplicial-lemma-cosk-shriek}
this arrow is identified with
$$
K_n \to (\text{cosk}_{n - 1} \text{sk}_{n - 1} K)_n
$$
and hence is a covering by definition of a hypercovering.
\end{proof}

\begin{lemma}
\label{lemma-add-simplices}
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of $\mathcal{C}$.
Let $K$ be a hypercovering of $X$.
Let $U \subset V$ be simplicial sets, with $U_n, V_n$
finite nonempty for all $n$.
Assume that $U$ and $V$ have finitely many nondegenerate simplices.
Then the morphism 
$$
\text{Hom}(V, K)_0
\longrightarrow
\text{Hom}(U, K)_0
$$
of $\text{SR}(\mathcal{C}, X)$ is a covering.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-one-more-simplex}
above, it suffices to prove a simple lemma
about inclusions of simplicial sets $U \subset V$ as in the
lemma. And this is exactly the result of
Simplicial, Lemma \ref{simplicial-lemma-add-simplices}.
\end{proof}




\section{Homotopies}
\label{section-homotopies}

\noindent
Let $\mathcal{C}$ be a site with fibre products.
Let $X$ be an object of $\mathcal{C}$.
Let $K, L$ be hypercoverings of $X$.
Let $a, b : K \to L$ be morphisms of hypercoverings.
Our goal is to find a morphism of hypercoverings
$c : K' \to K$ such that $a \circ c$ is homotopic
to $b \circ c$.

\medskip\noindent
According to
Simplicial, Lemma \ref{simplicial-lemma-exists-hom-from-simplicial-set-finite}
there exists an object $\text{Hom}(\Delta[1], L)$
in the category $\text{Simp}(\text{SR}(\mathcal{C}, X))$ which represents the
functor
$$
T
\longmapsto
\text{Mor}_{\text{Simp}(\text{SR}(\mathcal{C}, X))}(\Delta[1] \times T, L)
$$
There is a canonical morphism $\text{Hom}(\Delta[1], L) \to L \times L$
coming from $e_i : \Delta[0] \to \Delta[1]$ and the identification
$\text{Hom}(\Delta[0], L) = L$. Consider the following picture:
$$
\xymatrix{
K' \ar@{-->}[r] \ar@{-->}[d]_c & \text{Hom}(\Delta[1], L) \ar[d] \\
K \ar[r]^{(a, b)} & L \times L 
}
$$
We have the objects $K$, $L$, $\text{Hom}(\Delta[1], L)$
and the solid arrows. We want to construct the object $K'$ and
the dotted arrows. Of course we could simply let $K'$ be the
fibre product of the diagram; the problem is that
$K'$ so defined may not be a hypercovering of $X$.

\medskip\noindent
Instead, we are going to construct $K'$ in terms of its
truncations. First of all, note that
$\text{Hom}(\Delta[1], L)_0$ is equal to $L_1$.
Set $K'_0 = K_0 \times_{L_0 \times L_0} L_1$.
In other words, in degree $0$ we obtain the commutative
diagram
$$
\xymatrix{
K'_0 \ar[r] \ar[d] & L_1 \ar[d] \\
K_0 \ar[r] & L_0 \times L_0
}
$$
According to Lemma \ref{lemma-covering-permanence} the 
morphism from $K'_0$ to the final object of
$\text{SR}(\mathcal{C}, X)$ is a covering because
$L_1 \to L_0 \times L_0$ is a covering and
because $L_0$ is a covering of the final object.

\medskip\noindent
We introduce the following induction hypothesis:
\begin{list}{$IH_n$}{}
\item There exists an $n$-truncated simplicial object
$K'(n)$ with terms $K'_0, \ldots, K'_n$
equipped with a morphism $c : K'(n) \to \text{sk}_n K$
and a morphism $K'(n) \to \text{sk}_n \text{Hom}(\Delta[1], L)$
fitting into a diagram as above, such that
$K'(n)_0$ is a covering of $X$, and such that
each morphism
$K'(n)_{i + 1} \to (\text{cosk}_i \text{sk}_i K'(n))_{i + 1}$
is a covering for $i = 0, \ldots, n - 1$.
\end{list}
Above we saw that $IH_0$ is true.
We will assume that $IH_n$ is true and prove $IH_{n + 1}$.
To do this we formulate an intermediate result.

\begin{lemma}
\label{lemma-hom-hypercovering}
In the situation above. Consider the commutative diagram
\begin{equation}
\label{equation-diagram}
\xymatrix{
\text{Hom}(\Delta[1], L)_{n + 1} \ar[r] \ar[d] &
(\text{cosk}_n \text{sk}_n \text{Hom}(\Delta[1], L))_{n + 1} \ar[d] \\
(L \times L)_{n + 1} \ar[r] &
(\text{cosk}_n \text{sk}_n (L \times L))_{n + 1}
}
\end{equation}
We can identify the terms in this diagram as follows,
where
$\partial \Delta[n + 1] = i_{n!}\text{sk}_n \Delta[n + 1]$
is the $n$-skeleton of the $(n + 1)$-simplex:
\begin{eqnarray*}
\text{Hom}(\Delta[1], L)_{n + 1}
& = &
\text{Hom}(\Delta[1] \times \Delta[n + 1], L)_0 \\
(\text{cosk}_n \text{sk}_n \text{Hom}(\Delta[1], L))_{n + 1}
& = &
\text{Hom}(\Delta[1] \times \partial \Delta[n + 1], L)_0 \\
(L \times L)_{n + 1}
& = &
\text{Hom}(
(\Delta[n + 1] \amalg \Delta[n + 1], L)_0 \\
(\text{cosk}_n \text{sk}_n (L \times L))_{n + 1} 
& = &
\text{Hom}(
\partial \Delta[n + 1]
\amalg
\partial \Delta[n + 1], L)_0
\end{eqnarray*}
and the morphism between these objects of $\text{SR}(\mathcal{C}, X)$
come from the commutative diagram of simplicial sets
\begin{equation}
\label{equation-dual-diagram}
\xymatrix{
\Delta[1] \times \Delta[n + 1] &
\Delta[1] \times \partial\Delta[n + 1] \ar[l] \\
\Delta[n + 1] \amalg \Delta[n + 1] \ar[u] &
\partial\Delta[n + 1] \amalg \partial\Delta[n + 1]
\ar[l] \ar[u]
}
\end{equation}
Moreover the fibre product of the bottom arrow and the
right arrow in (\ref{equation-diagram}) is equal to
$$
\text{Hom}(U, L)_0
$$
where $U \subset \Delta[1] \times \Delta[n + 1]$
is the smallest simplicial subset such that both
$\Delta[n + 1] \amalg \Delta[n + 1]$ and
$\Delta[1] \times \partial\Delta[n + 1]$ map into it.
\end{lemma}

\begin{proof}
The first and third equalities are 
Simplicial, Lemma \ref{simplicial-lemma-exists-hom-from-simplicial-set-finite}.
The second and fourth follow from the cited lemma combined with
Simplicial, Lemma \ref{simplicial-lemma-cosk-shriek}.
The last assertion follows from the fact that
$U$ is the push-out of the bottom and right arrow of the
diagram (\ref{equation-dual-diagram}), via
Simplicial, Lemma \ref{simplicial-lemma-hom-from-coprod}.
To see that $U$ is equal to this push-out it suffices
to see that the intersection of
$\Delta[n + 1] \amalg \Delta[n + 1]$ and
$\Delta[1] \times \partial\Delta[n + 1]$
in $\Delta[1] \times \Delta[n + 1]$ is equal to
$\partial\Delta[n + 1] \amalg \partial\Delta[n + 1]$.
This we leave to the reader.
\end{proof}










\section{The general case}

\noindent
Mention how things work more generally.
State the theorem in the correct generality.

\input{chapters}

\bibliography{my}
\bibliographystyle{alpha}

\end{document}
