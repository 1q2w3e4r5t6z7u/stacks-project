\input{preamble}

% OK, start here.
%
\begin{document}

\title{Etale Cohomology: Sheaves}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents



\section{Sheaf theory}
\label{section-sheaf-theory}
%9.10.09

\noindent
At this point we start talking about sites and sheaves in earnest.
There is an amazing amount of useful abstract material that could fit
in the next few sections. Some of this material is worked out in earlier
chapters, such as the chapter on sites, modules on sites, and cohomology
on sites. We try to refrain from adding to much material here, just
enough so the material later in this chapter makes sense.




\section{Presheaves}
\label{section-presheaves}

\noindent
A reference for this section is
Sites, Section \ref{sites-section-presheaves}.

\begin{definition}
\label{definition-presheaf}
Let $\mathcal{C}$ be a category. A {\it presheaf of sets} (respectively, an
{\it abelian presheaf}) on $\mathcal{C}$ is a functor $\mathcal{C}^{opp} \to
\textit{Sets}$ (resp.\ $\textit{Ab}$).
\end{definition}

\noindent
{\bf Terminology.} If $U \in \text{Ob}(\mathcal{C})$, then elements of
$\mathcal{F}(U)$ are called {\it sections} of $\mathcal{F}$ on
$U$; for $\varphi: V \to U$ in $\mathcal{C}$, the
map $\mathcal{F}(\varphi) : \mathcal{F}(V) \to
\mathcal{F}(U)$ is denoted $s \mapsto \mathcal{F}(\varphi) (s) =
\varphi^* (s) = s |_V $ and called {\it restriction mapping}. This
last notation is ambiguous since the restriction map depends on $\varphi$, but
it is a standard abuse of notation. We also use the notation
$\Gamma(U, \mathcal{F}) = \mathcal{F}(U)$.

\medskip\noindent
Saying that $\mathcal{F}$ is a functor means that if
$W \to V \to U$ are morphisms in $\mathcal{C}$ and
$s \in \Gamma(U,\mathcal{F})$ then
$(s|_V)|_W = s |_W$, with the abuse of
notation just seen. Moreover, the restriction mappings corresponding to
the identity morphisms $\text{id}_U : U \to U$ are the identity.

\medskip\noindent
The category of presheaves of sets (respectively of abelian presheaves) on
$\mathcal{C}$ is denoted $\textit{PSh} (\mathcal{C})$ (resp. $\textit{PAb}
(\mathcal{C})$). It is the category of functors from $\mathcal{C}^{opp}$ to
$\textit{Sets}$ (resp. $\textit{Ab}$), which is to say that the morphisms of
presheaves are natural transformations of functors. We only consider the
categories $\textit{PSh}(\mathcal{C})$ and $\textit{PAb}(\mathcal{C})$
when the category $\mathcal{C}$ is small. (Our convention is that a category
is small unless otherwise mentioned, and if it isn't small it should be
listed in Categories, Remark \ref{categories-remark-big-categories}.)

\begin{example}
\label{example-representable-presheaf}
Given an object $X \in \text{Ob}(\mathcal{C})$, we consider the functor
$$
\begin{matrix}
h_X : & \mathcal{C}^{opp} & \longrightarrow & \textit{Sets} \\
& U & \longmapsto & h_X(U) = \text{Mor}_\mathcal{C}(U,X) \\
& V \xrightarrow{\varphi} U & \longmapsto &
\varphi \circ - : h_X(U) \to h_X(V).
\end{matrix}
$$
It is a presheaf, called the {\it representable presheaf associated to $X$.}
It is not true that representable presheaves are sheaves in every topology on
every site.
\end{example}

\begin{lemma}
\label{lemma-yoneda}
(Yoneda)
Let $\mathcal{C}$ be a category, and $X,Y \in
\text{Ob}(\mathcal{C})$. There is a natural bijection
$$
\begin{matrix}
\text{Mor}_\mathcal{C}(X,Y) &
\longrightarrow &
\text{Mor}_{\textit{PSh}(\mathcal{C})} (h_X,h_Y) \\
\psi &
\longmapsto &
h_\psi = \psi \circ - : h_X \to h_Y.
\end{matrix}
$$
\end{lemma}

\begin{proof}
See
Categories, Lemma \ref{categories-lemma-yoneda}.
\end{proof}




\section{Sites}
\label{section-sites}


\begin{definition}
\label{definition-family-morphisms-fixed-target}
Let $\mathcal{C}$ be a category. A {\it family of morphisms with fixed target}
$\mathcal{U} = \{\varphi_i : U_i \to U\}_{i\in I}$ is the data of
\begin{enumerate}
\item an object $U \in \mathcal{C}$ ;
\item a set $I$ (possibly empty) ; and
\item for all $i\in I$, a morphism $\varphi_i : U_i \to U$ of $\mathcal{C}$
with target $U$.
\end{enumerate}
\end{definition}

\noindent
There is a notion of a {\it morphism of families of morphisms with fixed
target}. A special case of that is the notion of a {\it refinement}.
A reference for this material is
Sites, Section \ref{sites-section-refinements}.

\begin{definition}
\label{definition-site}
A {\it site}\footnote{What we call a site is a called a category endowed with
a pretopology in \cite[Exposee II, Definition 1.3]{SGA4}.
In \cite{ArtinTopologies} it is called a category with a Grothendieck
topology.} consists of a category $\mathcal{C}$ and a set
$\text{Cov}(\mathcal{C})$ consising of families of morphisms with fixed target
called {\it coverings}, such that
\begin{enumerate}
\item (isomorphism) if $\varphi : V \to U$ is an isomorphism in $\mathcal{C}$,
then $\{\varphi : V \to U\}$ is a covering,
\item (locality) if $\{\varphi_i : U_i \to U\}_{i\in I}$ is a covering and
for all $i \in I$ we are given a covering
$\{\psi_{ij} : U_{ij} \to U_i \}_{j\in I_i}$, then
$$
\{
\varphi_i \circ \psi_{ij} : U_{ij} \to U
\}_{(i,j)\in \prod_{i\in I} \{i\} \times I_i}
$$
is also a covering, and
\item (base change) if $\{U_i \to U\}_{i\in I}$
is a covering and $V \to U$ is a morphism in $\mathcal{C}$, then
\begin{enumerate}
\item for all $i \in I$ the fibre product
$U_i \times_U V$ exists in $\mathcal{C}$, and
\item $\{U_i \times_U V \to V\}_{i\in I}$ is a covering.
\end{enumerate}
\end{enumerate}
\end{definition}

\noindent
For us the category underlying a site is aways ``small'', i.e., its
collection of objects form a set, and the collection of coverings of
a site is a set as well (as in the definition above). We will mostly,
in this chapter, leave out the arguments that cut down the collection
of objects and coverings to a set. For further discussion, see
Sites, Remark \ref{sites-remark-no-big-sites}.

\begin{example}
\label{example-site-topological-space}
If $X$ is a topological space, then it has an associated site $\mathcal{T}_X$
defined as follows: the objects of $\mathcal{T}_X$ are the open subsets of $X$,
the morphisms between these are the inclusion mappings, and the coverings are
the usual topological (surjective) coverings. Observe that if
$U, V \subset W \subset X$ are open subsets then $U \times_W V = U \cap V$
exists: this category has fiber products. All the verifications are trivial and
everything works as expected.
\end{example}




\section{Sheaves}
\label{section-sheaves}

\begin{definition}
\label{definition-sheaf}
A presheaf $\mathcal{F}$ of sets (resp. abelian presheaf) on a site
$\mathcal{C}$ is said to be a {\it separated presheaf} if for all coverings
$\{\varphi_i : U_i \to U\}_{i\in I} \in \text{Cov} (\mathcal{C})$
the map 
$$
\mathcal{F}(U) \longrightarrow \prod\nolimits_{i\in I} \mathcal{F}(U_i)
$$
is injective. Here the map is $s \mapsto (s|_{U_i})_{i\in I}$.
The presheaf $\mathcal{F}$ is a {\it sheaf} if for all coverings
$\{\varphi_i : U_i \to U\}_{i\in I} \in \text{Cov} (\mathcal{C})$, the
diagram
\begin{equation}
\label{equation-sheaf-axiom}
\xymatrix{
\mathcal{F}(U) \ar[r] &
\prod_{i\in I} \mathcal{F}(U_i) \ar@<1ex>[r] \ar@<-1ex>[r] &
\prod_{i,j \in I} \mathcal{F}(U_i \times_U U_j),
}
\end{equation}
where the first map is $s \mapsto (s|_{U_i})_{i\in I}$ and the two
maps on the right are
$(s_i)_{i\in I} \mapsto (s_i |_{U_i \times_U U_j})$ and
$(s_i)_{i\in I} \mapsto (s_j |_{U_i \times_U U_j})$,
is an equalizer diagram in the category of sets (resp.\ abelian groups).
\end{definition}

\begin{remark}
\label{remark-empty-covering}
For the empty covering (where $I = \emptyset$), this implies that
$\mathcal{F}(\emptyset)$ is an empty product, which is a final object in the
corresponding category (a singleton, for both $\textit{Sets}$ and
$\textit{Ab}$).
\end{remark}

\begin{example}
\label{example-sheaf-site-space}
Working this out for the site $\mathcal{T}_X$ associated to a topological
space, see Example \ref{example-site-topological-space}, gives the usual
notion of sheaves.
\end{example}

\begin{definition}
\label{definition-category-sheaves}
We denote $\textit{Sh}(\mathcal{C})$ (resp.\ $\textit{Ab}(\mathcal{C})$)
the full subcategory of $\textit{PSh}(\mathcal{C})$
(resp.\ $\textit{PAb}(\mathcal{C})$) whose objects are sheaves. This is the
{\it category of sheaves of sets} (resp.\ {\it abelian sheaves}) on
$\mathcal{C}$.
\end{definition}




\section{The example of G-sets}
\label{section-G-sets}

\noindent
Let $G$ be a group and define a site $\mathcal{T}_G$ as follows: the underlying
category is the category of $G$-sets, i.e., its objects are sets endowed
with a left $G$-action and the morphisms are equivariant maps; and the
coverings of $\mathcal{T}_G$ are the families
$\{\varphi_i : U_i \to U\}_{i\in I}$ satisfying
$U = \bigcup_{i\in I} \varphi_i(U_i)$.

\medskip\noindent
There is a special object in the site $\mathcal{T}_G$, namely the $G$-set $G$
endowed with its natural action by left translations. We denote it ${}_G G$.
Observe that there is a natural group isomorphism
$$
\begin{matrix}
\rho: & G^{opp} & \longrightarrow & \text{Aut}_{G\textit{-Sets}}({}_G G) \\
& g & \longmapsto & (h \mapsto hg).
\end{matrix}
$$
In particular, for any presheaf $\mathcal{F}$, the set $\mathcal{F}({}_G G)$
inherits a $G$-action via $\rho$. (Note that by contravariance of
$\mathcal{F}$, the set $\mathcal{F}({}_G G)$ is again a left $G$-set.) In fact,
the functor
$$
\begin{matrix}
\textit{Sh}(\mathcal{T}_G) & \longrightarrow & G\textit{-Sets} \\
\mathcal{F} & \longmapsto & \mathcal{F}({}_G G)
\end{matrix}
$$
is an equivalence of categories. Its quasi-inverse is the functor $X \mapsto
h_X$. Without giving the complete proof (which can be found in
Sites, Section \ref{sites-section-example-sheaf-G-sets})
let us try to explain why this is true.
\begin{enumerate}
\item
If $S$ is a $G$-set, we can decompose it into orbits $S = \coprod_{i\in I}
O_i$. The sheaf axiom for the covering $\{O_i \to S\}_{i\in I}$ says that
$$
\xymatrix{
\mathcal{F}(S) \ar[r] &
\prod_{i\in I} \mathcal{F}(O_i) \ar@<1ex>[r] \ar@<-1ex>[r] &
\prod_{i,j \in I} \mathcal{F}(O_i \times_S O_j)
}
$$
is an equalizer. Observing that fibered products in $G\textit{-Sets}$ are
induced from fibered products in $\textit{Sets}$, and using the fact that
$\mathcal{F}(\emptyset)$ is a $G$-singleton, we get that
$$
\prod_{i,j \in I} \mathcal{F}(O_i \times_S O_j) = \prod_{i \in I}
\mathcal{F}(O_i)
$$
and the two maps above are in fact the same. Therefore the sheaf axiom merely
says that $\mathcal{F}(S) = \prod_{i\in I} \mathcal{F}(O_i)$.
\item
If $S$ is the $G$-set $S= G/H$ and $\mathcal{F}$ is a sheaf on $\mathcal{T}_G$,
then we claim that
$$
\mathcal{F}(G/H) = \mathcal{F}({}_G G)^H
$$
and in particular $\mathcal{F}(\{*\}) = \mathcal{F}({}_G G)^G$. To see this,
let's use the sheaf axiom for the covering $\{ {}_G G \to G/H \}$ of $S$. We
have
\begin{eqnarray*}
{}_G G \times_{G/H} {}_G G & \cong & G \times H \\
(g_1, g_2) & \longmapsto & (g_1, g_1 g_2^{-1})
\end{eqnarray*}
is a disjoint union of copies of ${}_G G$ (as a $G$-set). Hence the sheaf axiom
reads
$$
\xymatrix{
\mathcal{F} (G/H) \ar[r] &
\mathcal{F}({}_G G) \ar@<1ex>[r] \ar@<-1ex>[r] &
\prod_{h\in H} \mathcal{F}({}_G G)
}
$$
where the two maps on the right are $s \mapsto (s)_{h \in H}$ and $s \mapsto
(hs)_{h \in H}$. Therefore $\mathcal{F}(G/H) = \mathcal{F}({}_G G)^H$ as
claimed.
\end{enumerate}
This doesn't quite prove the claimed equivalence of categories, but it shows at
least that a sheaf $\mathcal{F}$ is entirely determined by its sections over
${}_G G$. Details (and set theoretical remarks) can be found in
Sites, Section \ref{sites-section-example-sheaf-G-sets}.




\section{Sheafification}
\label{section-sheafification}

\begin{definition}
\label{definition-0-cech}
Let $\mathcal{F}$ be a presheaf on the site $\mathcal{C}$ and
$\mathcal{U} = \{U_i \to U\} \in \text{Cov} (\mathcal{C})$.
We define the {\it zeroth \u Cech cohomology group} of
$\mathcal{F}$ with respect to $\mathcal{U}$ by
$$
\check H^0 (\mathcal{U}, \mathcal{F}) =
\left\{
(s_i)_{i\in I} \in \prod\nolimits_{i\in I }\mathcal{F}(U_i)
\text{ such that }
s_i|_{U_i \times_U U_j} = s_j |_{U_i \times_U U_j}
\right\}.
$$
\end{definition}

\noindent
There is a canonical map
$\mathcal{F}(U) \to \check H^0 (\mathcal{U}, \mathcal{F})$,
$s \mapsto (s |_{U_i})_{i\in I}$.
We say that a {\it morphism of coverings} from a covering
$\mathcal{V} = \{V_j \to V\}_{j \in J}$ to $\mathcal{U}$ is a triple
$(\chi, \alpha, \chi_j)$, where
$\chi : \mathcal{V} \to \mathcal{U}$ is a morphism,
$\alpha : J \to I$ is a map of sets, and for all
$j \in J$ the morphism $\chi_j$ fits into a commutative diagram
$$
\xymatrix{
V_j \ar[rr]_{\chi_j} \ar[d] & & U_{\alpha(j)} \ar[d] \\
V \ar[rr]^\chi & & U.
}
$$
Given the data $\chi, \alpha, \{\chi_j\}_{i\in J}$ we define
\begin{eqnarray*}
\check H^0(\mathcal{U}, \mathcal{F}) & \longrightarrow &
\check H^0(\mathcal{V}, \mathcal{F}) \\
(s_i)_{i\in I} & \longmapsto &
\left(\chi_j^*\left(s_{\alpha(j)}\right)\right)_{j\in J}.
\end{eqnarray*}
We then claim that
\begin{enumerate}
\item the map is well-defined, and
\item depends only on $\chi$ and is independent of the choice of
$\alpha, \{\chi_j\}_{i\in J}$.
\end{enumerate}
We omit the proof of the first fact.
To see part (2), consider another triple $(\psi, \beta, \psi_j)$ with
$\chi = \psi$. Then we have the commutative diagram
$$
\xymatrix{
V_j \ar^{(\chi_j, \psi_j)\qquad}[rrr] \ar[dd] & & &
U_{\alpha(j)} \times_U U_{\beta(j)} \ar[dl] \ar[dr] \\
& & U_{\alpha(j)} \ar[dr] & &
U_{\beta(j)} \ar[dl] \\
V \ar[rrr]^{\chi = \psi} & & & U.
}
$$
Given a section $s \in \mathcal{F}(\mathcal{U})$, its image in
$\mathcal{F}(V_j)$ under the map given by
$(\chi, \alpha, \{\chi_j\}_{i\in J})$
is $\chi_j^*s_{\alpha(j)}$, and
its image under the map given by $(\psi, \beta, \{\psi_j\}_{i\in J})$
is $\psi_j^*s_{\beta(j)}$. These
two are equal since by assumption $s \in \check H(\mathcal{U}, \mathcal{F})$
and hence both are equal to the pullback of the common value
$$
s_{\alpha(j)}|_{U_{\alpha(j)} \times_U U_{\beta(j)}} =
s_{\beta(j)}|_{U_{\alpha(j)} \times_U U_{\beta(j)}}
$$
pulled back by the map $(\chi_j, \psi_j)$ in the diagram.

\begin{theorem}
\label{theorem-sheafification}
Let $\mathcal{C}$ be a site and $\mathcal{F}$ a presheaf on $\mathcal{C}$.
\begin{enumerate}
\item The rule
$$
U \mapsto \mathcal{F}^+(U) :=
\text{colim}_{\mathcal{U} \text{ covering of }U}\ 
\check H^0(\mathcal{U}, \mathcal{F})
$$
is a presheaf. And the colimit is a directed one.
\item There is a canonical map of presheaves $\mathcal{F} \to \mathcal{F}^+$.
\item If $\mathcal{F}$ is a separated presheaf then $\mathcal{F}^+$ is a sheaf
and the map in (2) is injective.
\item $\mathcal{F}^+$ is a separated presheaf.
\item $\mathcal{F}^\# = (\mathcal{F}^+)^+$ is a sheaf, and the canonical
map induces a functorial isomorphism
$$
\text{Hom}_{\textit{PSh}(\mathcal{C})}(\mathcal{F}, \mathcal{G}) =
\text{Hom}_{\textit{Sh}(\mathcal{C})}(\mathcal{F}^\#,\mathcal{G})
$$
for any $\mathcal{G} \in \textit{Sh}(\mathcal{C})$.
\end{enumerate}
\end{theorem}

\begin{proof}
See Sites, Theorem \ref{sites-theorem-plus}.
\end{proof}

\noindent
In other words, this means that the natural map
$\mathcal{F} \to \mathcal{F}^\#$ is a left adjoint to the forgetful functor
$\textit{Sh}(\mathcal{C}) \to \textit{PSh}(\mathcal{C})$.




\section{Cohomology}
\label{section-cohomology}

\noindent
The following is the basic result that makes it possible to define cohomology
for abelian sheaves on sites.

\begin{theorem}
\label{theorem-enough-injectives}
The category of abelian sheaves on a site is an abelian category
which has enough injectives.
\end{theorem}

\begin{proof}
See
Modules on Sites, Lemma \ref{sites-modules-lemma-abelian-abelian} and
Injectives, Theorem \ref{injectives-theorem-sheaves-injectives}.
\end{proof}

\noindent
So we can define cohomology as the right-derived functors of the
sections functor: if $U \in \text{Ob}(\mathcal{C})$ and
$\mathcal{F} \in \textit{Ab}(\mathcal{C})$,
$$
H^p(U, \mathcal{F}) :=
R^p\Gamma(U, \mathcal{F}) =
H^p(\Gamma(U, \mathcal{I}^\bullet))
$$
where $\mathcal{F} \to \mathcal{I}^\bullet$ is an injective resolution. To do
this, we should check that the functor $\Gamma(U, -)$ is left exact. This is
true and is part of why the category $\textit{Ab}(\mathcal{C})$ is abelian,
see
Modules on Sites, Lemma \ref{sites-modules-lemma-abelian-abelian}.
For more general discussion of cohomology on sites (including the
global sections functor and its right derived functors), see
Cohomology on Sites, Section \ref{sites-cohomology-section-cohomology-sheaves}.


\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
